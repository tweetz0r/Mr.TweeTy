/*! For license information please see extension.js.LICENSE.txt */
module.exports=function(t){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}return __webpack_require__.m=t,__webpack_require__.c=n,__webpack_require__.d=function(t,n,r){__webpack_require__.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,n){if(1&n&&(t=__webpack_require__(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)__webpack_require__.d(r,i,function(n){return t[n]}.bind(null,i));return r},__webpack_require__.n=function(t){var n=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=126)}([function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.findLineNumberOfPattern=n.toShortDate=n.splice=n.escapeRegExp=n.naturalLanguageCompare=n.extractDocumentLink=n.matchAll=n.showWarningMessage=n.detectFileExtension=n.showStatusMessage=n.checkExtension=n.checkExtensionInstalled=n.generateTimestamp=n.LogType=n.isValidFileCheck=n.isMarkdownFileCheckWithoutNotification=n.isMarkdownFileCheck=n.rtrim=n.setSelectorPosition=n.setCursorPosition=n.insertContentToEditor=n.hasValidWorkSpaceRootPath=n.unsupportedFileMessage=n.noActiveEditorMessage=n.isValidEditor=n.postError=n.postInformation=n.postWarning=n.getOSPlatform=n.tryFindFile=n.ignoreFiles=void 0;const o=r(41),a=r(8),c=r(1),u=r(3),l=r(2),p=r(15);function postWarning(t){c.window.showWarningMessage(t)}function postInformation(t){c.window.showInformationMessage(t)}function postError(t){c.window.showErrorMessage(t)}function generateTimestamp(){const t=new Date(Date.now());return{msDateValue:t.toLocaleDateString("en-us"),msTimeValue:t.toLocaleTimeString([],{hour12:!1})}}function getInstalledExtension(t,n){const r=c.extensions.getExtension(t);if(r)return r;n&&p.output.appendLine(n)}n.ignoreFiles=[".git",".github",".vscode",".vs","node_module"],n.tryFindFile=function tryFindFile(t,n){try{const r=l.resolve(t,n);if(u.existsSync(r))return r;{const r=o.sync("**/"+n,{cwd:t});if(r&&1===r.length)return l.join(t,r[0])}}catch(t){postError(t.toString())}postWarning(`Unable to find a file named "${n}", recursively at root "${t}".`)},n.getOSPlatform=function getOSPlatform(){return null==this.osPlatform&&(this.osPlatform=a.platform(),this.osPlatform=this.osPlatform),this.osPlatform},n.postWarning=postWarning,n.postInformation=postInformation,n.postError=postError,n.isValidEditor=function isValidEditor(t,n,r){return void 0===t?(p.output.appendLine("Please open a document to apply "+r+" to."),!1):n&&t.selection.isEmpty?"format bold"===r||"format italic"===r||"format code"===r?(p.output.appendLine("VS Code active editor has valid configuration to apply "+r+" to."),!0):(p.output.appendLine("No text selected, cannot apply "+r+"."),!1):(p.output.appendLine("VS Code active editor has valid configuration to apply "+r+" to."),!0)},n.noActiveEditorMessage=function noActiveEditorMessage(){postWarning("No active editor. Abandoning command.")},n.unsupportedFileMessage=function unsupportedFileMessage(t){postWarning(`Command is not support for "${t}". Abandoning command.`)},n.hasValidWorkSpaceRootPath=function hasValidWorkSpaceRootPath(t){let n="";return null==n?(postWarning("The "+t+" command requires an active workspace. Please open VS Code from the root of your clone to continue."),!1):(c.workspace.workspaceFolders&&(n=c.workspace.workspaceFolders[0].uri.fsPath),!0)},n.insertContentToEditor=function insertContentToEditor(t,n,r=!1,o=null){return i(this,void 0,void 0,(function*(){null==o&&(o=t.selection);try{if(r)yield t.edit(t=>{t.replace(o,n)});else{const r=t.selection.active;yield t.edit(t=>{t.insert(r,n)})}}catch(t){p.output.appendLine("Could not write content to active editor window: "+t)}}))},n.setCursorPosition=function setCursorPosition(t,n,r){const i=t.selection.active.with(n,r),o=new c.Selection(i,i);t.selection=o},n.setSelectorPosition=function setSelectorPosition(t,n,r,i,o){const a=t.selection.active,u=a.with(n,r),l=a.with(i,o),p=new c.Selection(u,l);t.selection=p},n.rtrim=function rtrim(t,n){const r=n?new RegExp(n+"+$"):new RegExp("\\s+$");return t.replace(r,"")},n.isMarkdownFileCheck=function isMarkdownFileCheck(t,n){return"markdown"===t.document.languageId||("yaml"!==t.document.languageId&&postInformation("The docs-markdown extension only works on Markdown files."),!1)},n.isMarkdownFileCheckWithoutNotification=function isMarkdownFileCheckWithoutNotification(t){return"markdown"===t.document.languageId},n.isValidFileCheck=function isValidFileCheck(t,n){return n.some(n=>t.document.languageId===n)},function(t){t[t.Telemetry=0]="Telemetry",t[t.Trace=1]="Trace"}(n.LogType||(n.LogType={})),n.generateTimestamp=generateTimestamp,n.checkExtensionInstalled=function checkExtensionInstalled(t,n){return!!getInstalledExtension(t,n)},n.checkExtension=function checkExtension(t,n){const r=getInstalledExtension(t,n);return!!r&&r.isActive},n.showStatusMessage=function showStatusMessage(t){const{msTimeValue:n}=generateTimestamp();p.output.appendLine(`[${n}] - ${t}`)},n.detectFileExtension=function detectFileExtension(t){return l.extname(t)},n.showWarningMessage=function showWarningMessage(t){return i(this,void 0,void 0,(function*(){c.window.showWarningMessage(t)}))},n.matchAll=function matchAll(t,n){const r=[];t.lastIndex=0;let i=t.exec(n);for(;i;)i&&(i.index===t.lastIndex&&t.lastIndex++,r.push(i)),i=t.exec(n);return r},n.extractDocumentLink=function extractDocumentLink(t,n,r){const i=(r||0)+8,o=t.positionAt(i),a=t.positionAt(i+n.length),u=t.getText(new c.Range(o,a));try{if(u.match(/^(http|https):\/\//)){return new c.DocumentLink(new c.Range(o,a),c.Uri.parse(n))}{const r=t.fileName.split("\\").slice(0,-1).join("\\");return new c.DocumentLink(new c.Range(o,a),c.Uri.file(l.resolve(r,n)))}}catch(t){return}},n.naturalLanguageCompare=(t,n)=>t&&n?t.localeCompare(n,void 0,{numeric:!0,sensitivity:"base"}):0,n.escapeRegExp=function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},n.splice=function splice(t,n,r){return n.slice(0,t)+r+n.slice(t)},n.toShortDate=function toShortDate(t){const n=t.getFullYear(),r=(1+t.getMonth()).toString(),i=r.length>1?r:"0"+r,o=t.getDate().toString();return`${i}/${o.length>1?o:"0"+o}/${n}`},n.findLineNumberOfPattern=function findLineNumberOfPattern(t,n){const r=t.document;let i=-1;for(let t=0;t<r.lineCount;t++){const o=r.lineAt(t).text.match(n);if(null!==o&&void 0!==o.index)return i=t,i}return i}},function(t,n){t.exports=require("vscode")},function(t,n){t.exports=require("path")},function(t,n){t.exports=require("fs")},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sendTelemetryData=n.getRepoName=n.getPackageInfo=n.Reporter=n.reporter=void 0;const i=r(3),o=r(1),a=r(137);class Reporter extends o.Disposable{constructor(t){super(()=>n.reporter.dispose());const r=getPackageInfo(t);n.reporter=r&&new a.default(r.name,r.version,r.aiKey)}}function getPackageInfo(t){const n=function readJson(t){const n=i.readFileSync(t,"utf8");return JSON.parse(n)}(t.asAbsolutePath("./package.json"));return{name:n.name,version:n.version,aiKey:n.aiKey}}function getRepoName(t){const n=o.workspace.getWorkspaceFolder(t);if(n){return n.name}}n.Reporter=Reporter,n.getPackageInfo=getPackageInfo,n.getRepoName=getRepoName,n.sendTelemetryData=function sendTelemetryData(t,r){const i=o.window.activeTextEditor;if(i){const o=getRepoName(i.document.uri),a=o?{command_option:r,repo_name:o}:{command_option:r,repo_name:""};n.reporter.sendTelemetryEvent(t,a)}}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(70),o=r(70);n.makePatchingRequire=o.makePatchingRequire;var trueFilter=function(t){return!0},a=function(){function ContextPreservingEventEmitter(){this.version=r(141).version,this.subscribers={},this.contextPreservationFunction=function(t){return t},this.knownPatches={},this.currentlyPublishing=!1}return ContextPreservingEventEmitter.prototype.shouldPublish=function(t){var n=this.subscribers[t];return!!n&&n.some((function(t){var n=t.filter;return!n||n(!1)}))},ContextPreservingEventEmitter.prototype.publish=function(t,n){if(!this.currentlyPublishing){var r=this.subscribers[t];if(r){var i={timestamp:Date.now(),data:n};this.currentlyPublishing=!0,r.forEach((function(t){var n=t.listener,r=t.filter;try{r&&r(!0)&&n(i)}catch(t){}})),this.currentlyPublishing=!1}}},ContextPreservingEventEmitter.prototype.subscribe=function(t,n,r){void 0===r&&(r=trueFilter),this.subscribers[t]||(this.subscribers[t]=[]),this.subscribers[t].push({listener:n,filter:r})},ContextPreservingEventEmitter.prototype.unsubscribe=function(t,n,r){void 0===r&&(r=trueFilter);var i=this.subscribers[t];if(i)for(var o=0;o<i.length;++o)if(i[o].listener===n&&i[o].filter===r)return i.splice(o,1),!0;return!1},ContextPreservingEventEmitter.prototype.reset=function(){var t=this;this.subscribers={},this.contextPreservationFunction=function(t){return t},Object.getOwnPropertyNames(this.knownPatches).forEach((function(n){return delete t.knownPatches[n]}))},ContextPreservingEventEmitter.prototype.bindToContext=function(t){return this.contextPreservationFunction(t)},ContextPreservingEventEmitter.prototype.addContextPreservation=function(t){var n=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return t(n(r))}},ContextPreservingEventEmitter.prototype.registerMonkeyPatch=function(t,n){this.knownPatches[t]||(this.knownPatches[t]=[]),this.knownPatches[t].push(n)},ContextPreservingEventEmitter.prototype.getPatchesObject=function(){return this.knownPatches},ContextPreservingEventEmitter}();global.diagnosticsSource||(global.diagnosticsSource=new a,r(71).prototype.require=i.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));n.channel=global.diagnosticsSource},function(t,n,r){"use strict";var i=r(30),o=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],a=["scalar","sequence","mapping"];t.exports=function Type(t,n){if(n=n||{},Object.keys(n).forEach((function(n){if(-1===o.indexOf(n))throw new i('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')})),this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(t){return t},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.defaultStyle=n.defaultStyle||null,this.styleAliases=function compileStyleAliases(t){var n={};return null!==t&&Object.keys(t).forEach((function(r){t[r].forEach((function(t){n[String(t)]=r}))})),n}(n.styleAliases||null),-1===a.indexOf(this.kind))throw new i('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}},function(t,n,r){"use strict";var i=function(){function Logging(){}return Logging.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Logging.enableDebug&&console.info(Logging.TAG+t,n)},Logging.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Logging.disableWarnings||console.warn(Logging.TAG+t,n)},Logging.enableDebug=!1,Logging.disableWarnings=!1,Logging.disableErrors=!1,Logging.TAG="ApplicationInsights:",Logging}();t.exports=i},function(t,n){t.exports=require("os")},function(t,n,r){"use strict";var i=r(103),o=Object.prototype.toString;function isArray(t){return"[object Array]"===o.call(t)}function isUndefined(t){return void 0===t}function isObject(t){return null!==t&&"object"==typeof t}function isFunction(t){return"[object Function]"===o.call(t)}function forEach(t,n){if(null!=t)if("object"!=typeof t&&(t=[t]),isArray(t))for(var r=0,i=t.length;r<i;r++)n.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.call(null,t[o],o,t)}t.exports={isArray:isArray,isArrayBuffer:function isArrayBuffer(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function isBuffer(t){return null!==t&&!isUndefined(t)&&null!==t.constructor&&!isUndefined(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function isFormData(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function isArrayBufferView(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function isString(t){return"string"==typeof t},isNumber:function isNumber(t){return"number"==typeof t},isObject:isObject,isUndefined:isUndefined,isDate:function isDate(t){return"[object Date]"===o.call(t)},isFile:function isFile(t){return"[object File]"===o.call(t)},isBlob:function isBlob(t){return"[object Blob]"===o.call(t)},isFunction:isFunction,isStream:function isStream(t){return isObject(t)&&isFunction(t.pipe)},isURLSearchParams:function isURLSearchParams(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:forEach,merge:function merge(){var t={};function assignValue(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=merge(t[r],n):t[r]=n}for(var n=0,r=arguments.length;n<r;n++)forEach(arguments[n],assignValue);return t},deepMerge:function deepMerge(){var t={};function assignValue(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=deepMerge(t[r],n):t[r]="object"==typeof n?deepMerge({},n):n}for(var n=0,r=arguments.length;n<r;n++)forEach(arguments[n],assignValue);return t},extend:function extend(t,n,r){return forEach(n,(function assignValue(n,o){t[o]=r&&"function"==typeof n?i(n,r):n})),t},trim:function trim(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,n,r){"use strict";function __export(t){for(var r in t)n.hasOwnProperty(r)||(n[r]=t[r])}Object.defineProperty(n,"__esModule",{value:!0}),__export(r(175)),__export(r(76)),__export(r(190))},function(t,n){t.exports=require("util")},function(t,n,r){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},o=r(21),a=r(23),c=r(16),u=r(80),l=r(7),p=r(29),d=function(){function Util(){}return Util.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",o=n.split(";"),a=0;a<o.length;a++){n=o[a];if((n=Util.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,o[a].length);break}}return r},Util.trim=function(t){return"string"==typeof t?t.replace(/^\s+|\s+$/g,""):""},Util.int32ArrayToBase64=function(t){var toChar=function(t,n){return String.fromCharCode(t>>n&255)},n=t.map((function(t){return toChar(t,24)+toChar(t,16)+toChar(t,8)+toChar(t,0)})).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},Util.random32=function(){return 4294967296*Math.random()|0},Util.randomu32=function(){return Util.random32()+2147483648},Util.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=Util.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},Util.isValidW3CId=function(t){return 32===t.length&&"00000000000000000000000000000000"!==t},Util.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},Util.isError=function(t){return t instanceof Error},Util.isPrimitive=function(t){var n=typeof t;return"string"===n||"number"===n||"boolean"===n},Util.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},Util.msToTimeSpan=function(t){(isNaN(t)||t<0)&&(t=0);var n=(t/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(t/6e4)%60,i=""+Math.floor(t/36e5)%24,o=Math.floor(t/864e5);return n=n.indexOf(".")<2?"0"+n:n,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n},Util.extractError=function(t){var n=t;return{message:t.message,code:n.code||n.id||""}},Util.extractObject=function(t){return t instanceof Error?Util.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},Util.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",o=t[r],a=typeof o;if(Util.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===a)i="";else{if("function"===a){l.info("key: "+r+" was function; will not serialize");continue}var c=Util.isArray(o)?o:Util.extractObject(o);try{i=Util.isPrimitive(c)?c:JSON.stringify(c)}catch(t){i=o.constructor.name.toString()+" (Error: "+t.message+")",l.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,Util.MAX_PROPERTY_LENGTH)}return n}l.info("Invalid properties dropped from payload")},Util.canIncludeCorrelationHeader=function(t,n){var r=t&&t.config&&t.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!n)return!0;for(var i=0;i<r.length;i++){if(new RegExp(r[i].replace(/\./g,".").replace(/\*/g,".*")).test(c.parse(n).hostname))return!1}return!0},Util.getCorrelationContextTarget=function(t,n){var r=t.headers&&t.headers[p.requestContextHeader];if(r)for(var i=r.split(","),o=0;o<i.length;++o){var a=i[o].split("=");if(2==a.length&&a[0]==n)return a[1]}},Util.makeRequest=function(t,n,r,u){n&&0===n.indexOf("//")&&(n="https:"+n);var p=c.parse(n),d=i({},r,{host:p.hostname,port:p.port,path:p.pathname}),h=void 0;if("https:"===p.protocol&&(h=t.proxyHttpsUrl||void 0),"http:"===p.protocol&&(h=t.proxyHttpUrl||void 0),h){0===h.indexOf("//")&&(h="http:"+h);var m=c.parse(h);"https:"===m.protocol?(l.info("Proxies that use HTTPS are not supported"),h=void 0):d=i({},d,{host:m.hostname,port:m.port||"80",path:n,headers:i({},d.headers,{Host:p.hostname})})}var g="https:"===p.protocol&&!h;return g&&void 0!==t.httpsAgent?d.agent=t.httpsAgent:g||void 0===t.httpAgent?g&&(d.agent=Util.tlsRestrictedAgent):d.agent=t.httpAgent,g?a.request(d,u):o.request(d,u)},Util.safeIncludeCorrelationHeader=function(t,n,r){var i;if("string"==typeof r)i=r;else if(r instanceof Array)i=r.join(",");else if(r&&"function"==typeof r.toString)try{i=r.toString()}catch(t){l.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",t,r)}i?Util.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(p.requestContextHeader,p.requestContextSourceKey+"="+t.config.correlationId)},Util.addCorrelationIdHeaderFromString=function(t,n,r){var i=r.split(","),o=p.requestContextSourceKey+"=";i.some((function(t){return t.substring(0,o.length)===o}))||n.setHeader(p.requestContextHeader,r+","+p.requestContextSourceKey+"="+t.config.correlationId)},Util.MAX_PROPERTY_LENGTH=8192,Util.tlsRestrictedAgent=new a.Agent({secureOptions:u.SSL_OP_NO_SSLv2|u.SSL_OP_NO_SSLv3|u.SSL_OP_NO_TLSv1|u.SSL_OP_NO_TLSv1_1}),Util}();t.exports=d},function(t,n,r){var i=r(3),o=r(2),a=r(33);function toMatcherFunction(t){return"function"==typeof t?t:function patternMatcher(t){return function(n,r){var i=new a.Minimatch(t,{matchBase:!0});return(!i.negate||r.isFile())&&i.match(n)}}(t)}t.exports=function readdir(t,n,r){if("function"==typeof n&&(r=n,n=[]),!r)return new Promise((function(r,i){readdir(t,n||[],(function(t,n){t?i(t):r(n)}))}));n=n.map(toMatcherFunction);var a=[];i.readdir(t,(function(c,u){if(c)return r(c);var l=u.length;if(!l)return r(null,a);u.forEach((function(c){var u=o.join(t,c);i.stat(u,(function(t,i){if(t)return r(t);if(n.some((function(t){return t(u,i)})))return(l-=1)?null:r(null,a);if(i.isDirectory())readdir(u,n,(function(t,n){return t?r(t):(a=a.concat(n),(l-=1)?void 0:r(null,a))}));else if(a.push(u),!(l-=1))return r(null,a)}))}))}))}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCleanUpQuickPick=n.recurseCallback=n.readWriteFileWithProgress=n.showProgress=n.singleValueMetadata=n.isSingleItemArray=void 0;const i=r(20),o=r(0),a=r(93),c=r(13);let u=1;function showProgress(t,n,r,i){if(!n||!t)return 100;const o=Math.round(t/n.length*100);return u<o&&(u=o),r.report({increment:u,message:`${i} ${u}%`}),u}n.isSingleItemArray=function isSingleItemArray(t){if(t&&1===t.length)return""===t[0]||t[0]},n.singleValueMetadata=function singleValueMetadata(t,n){const r=new RegExp(n+":\\s+-\\s([\"'\\sA-Za-z0-9\\-\\_]+)$","m"),i=new RegExp(n+":\\s+\\[([\"'\\sA-Za-z0-9\\-\\_]+)\\]$","m"),o=r.exec(t),a=i.exec(t);return o?t.replace(r,`${n}: ${o[1]}`):a?t.replace(i,`${n}: ${a[1]}`):t},n.showProgress=showProgress,n.readWriteFileWithProgress=function readWriteFileWithProgress(t,n,r,c,u,l){return new Promise((t,r)=>{i.readFile(n,"utf8",(n,i)=>{n&&(o.postError("Error: "+n),r());const a=i;i=l(i),t({origin:a,data:i})})}).then(l=>{const p=a.diffChars(l.origin,l.data).some(t=>t.added||t.removed);return new Promise((a,d)=>{p?i.writeFile(n,l.data,n=>{n&&(o.postError("Error: "+n),d()),c&&u&&showProgress(u,c,t,r),a()}):a()})})},n.recurseCallback=function recurseCallback(t,n,r){return new Promise((i,a)=>c(t,o.ignoreFiles,(t,c)=>{t&&(o.postError(t),a());const u=[];c.map((t,i)=>{u.push(r(n,t,c,i))}),Promise.all(u).then(()=>{i()})}))},n.getCleanUpQuickPick=function getCleanUpQuickPick(){const t=[];return t.push({description:"",label:"Single-valued metadata"}),t.push({description:"",label:"Microsoft links"}),t.push({description:"",label:"Capitalization of metadata values"}),t.push({description:"",label:"Clean up devlang for code blocks"}),t.push({description:"",label:"Empty metadata"}),{items:t,opts:{placeHolder:"Cleanup..."}}}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.output=void 0;const i=r(1);n.output=i.window.createOutputChannel("docs-markdown")},function(t,n){t.exports=require("url")},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.checkVersion=n.findMatchesInText=n.applyReplacements=n.findReplacement=n.findReplacements=n.findAndReplaceTargetExpressions=n.createChildProcess=n.stripBOMFromString=n.snippetBuilder=n.includeBuilder=n.videoLinkBuilder=n.externalLinkBuilder=n.internalLinkBuilder=n.inferLanguageFromFileExtension=n.search=n.tableBuilder=n.validateTableRowAndColumnCount=void 0;const o=r(13),a=r(1),c=r(0),u=r(55),l=r(1);function inferLanguageFromFileExtension(t){const n=u.languages.filter(n=>!!n.extensions&&n.extensions.some(n=>n===t));return n&&n.length?n[0]:null}function snippetBuilder(t,n,r,i){return r?`:::code language="${t}" source="${n}" id="${r}":::`:i?`:::code language="${t}" source="${n}" range="${i}":::`:`:::code language="${t}" source="${n}":::`}n.validateTableRowAndColumnCount=function validateTableRowAndColumnCount(t,n,r){const i=/^-?\d*$/,o=i.test(n)?Number.parseInt(n,void 0):void 0,a=i.test(r)?Number.parseInt(r,void 0):void 0;if(void 0!==o&&void 0!==a){if(2!==t||isNaN(o)||isNaN(a)){const t="Please input the number of columns and rows as C:R e.g. 3:4";return c.postWarning(t),!1}if(o<=0||a<=0){const t="The number of rows or columns can't be zero or negative.";return c.postWarning(t),!1}if(o>4){const t="You can only insert up to four columns via Docs Markdown.";return c.postWarning(t),!1}if(a>50){const t="You can only insert up to 50 rows via Docs Markdown.";return c.postWarning(t),!1}return!0}},n.tableBuilder=function tableBuilder(t,n){let r="\n";for(let n=1;n<=t;n++){for(r+="|Column"+n+"  |",n=2;n<=t;n++)r+="Column"+n+"  |";r+="\n"}for(let n=1;n<=t;n++){for(r+="|---------|",n=2;n<=t;n++)r+="---------|";r+="\n"}for(let i=1;i<=n;i++){r+="|Row"+i+"     |";for(let n=2;n<=t;n++)r+="         |";r+="\n"}return r},n.search=function search(t,n,l,p,d){return i(this,void 0,void 0,(function*(){const i=r(2);let h,m,g="",y=null,v="";if(d){const t=yield a.window.showInputBox({prompt:"Enter file path for Cross-Reference GitHub Repo"});t&&(y=inferLanguageFromFileExtension(i.extname(t)),v=`~/${d}/${t}`)}else{const n=yield a.window.showInputBox({prompt:"Enter snippet search terms."});if(!n)return;null==p&&(p=l);const r=yield o(p,c.ignoreFiles),u=[];if(r.forEach(t=>{const r=i.parse(t).base,o=t;o.includes(n)&&u.push({label:r,description:o})}),h=yield a.window.showQuickPick(u),m=i.parse(t.document.fileName).dir,!h)return;const d=i.parse(h.description),g=i.relative(m,d.dir);y=inferLanguageFromFileExtension(d.ext),v=i.join(g,d.base).replace(/\\/g,"/")}if(y&&(g=y.aliases[0]),!g){const t=u.getLanguageIdentifierQuickPickItems(),n={placeHolder:"Select a programming language (required)"},r=yield a.window.showQuickPick(t,n);if(!r)return void c.postWarning("No code language selected. Abandoning command.");{const t=u.languages.find(t=>t.language===r.label);g=t?t.aliases[0]:null}}if(!g)return void c.postWarning("Unable to determine language. Abandoning command.");const x=new a.Range(n.start.line,n.start.character,n.end.line,n.end.character),C=[];C.push({label:"Id",description:"Select code by id tag (for example: <Snippet1>)"}),C.push({label:"Range",description:"Select code by line range (for example: 1-15,18,20)"}),C.push({label:"None",description:"Select entire file"});const b=yield a.window.showQuickPick(C);if(b){let n;switch(b.label.toLowerCase()){case"id":const r=yield a.window.showInputBox({prompt:"Enter id to select"});r&&(n=snippetBuilder(g,v,r,void 0),yield c.insertContentToEditor(t,n,!0,x));break;case"range":const i=yield a.window.showInputBox({prompt:"Enter line selection range"});i&&(n=snippetBuilder(g,v,void 0,i),yield c.insertContentToEditor(t,n,!0,x));break;default:n=snippetBuilder(g,v),yield c.insertContentToEditor(t,n,!0,x)}}}))},n.inferLanguageFromFileExtension=inferLanguageFromFileExtension,n.internalLinkBuilder=function internalLinkBuilder(t,n,i="",o){let a="",c="";return c=t?"![":"[",a=""===n?`${c}${i}]()`:`${c}${i}](${n})`,"yaml"===(o||"markdown")&&!t&&(a=n),"Windows_NT"===r(8).type()&&(a=a.replace(/\\/g,"/")),t&&(a=a.replace(/\\/g,"/")),a},n.externalLinkBuilder=function externalLinkBuilder(t,n=""){return""===n&&(n=t),`[${n}](${t})`},n.videoLinkBuilder=function videoLinkBuilder(t){let n="";return n=a.workspace.getConfiguration("markdown").get("previewFeatures")?`:::video source="${t}":::`:`> [!VIDEO ${t}]`,n},n.includeBuilder=function includeBuilder(t,n){return`[!INCLUDE [${n}](${t})]`},n.snippetBuilder=snippetBuilder,n.stripBOMFromString=function stripBOMFromString(t){if(void 0!==t)return t.replace(/^\uFEFF/,"")},n.createChildProcess=function createChildProcess(t,n,i){return(0,r(219).spawn)(t,n,i).childProcess};const p=[{expression:/\u201c/gm,replacement:'"'},{expression:/\u201d/gm,replacement:'"'},{expression:/\u2018/gm,replacement:"'"},{expression:/\u2019/gm,replacement:"'"},{expression:/\u00A9/gm,replacement:"&copy;"},{expression:/\u2122/gm,replacement:"&trade;"},{expression:/\u00AE/gm,replacement:"&reg;"},{expression:/\u20AC/gm,replacement:"&euro;"},{expression:/\u2022/gm,replacement:"*"},{expression:/\u2070/gm,replacement:"<sup>0</sup>"},{expression:/\u00B9/gm,replacement:"<sup>1</sup>"},{expression:/\u00B2/gm,replacement:"<sup>2</sup>"},{expression:/\u00B3/gm,replacement:"<sup>3</sup>"},{expression:/\u2074/gm,replacement:"<sup>4</sup>"},{expression:/\u2075/gm,replacement:"<sup>5</sup>"},{expression:/\u2076/gm,replacement:"<sup>6</sup>"},{expression:/\u2077/gm,replacement:"<sup>7</sup>"},{expression:/\u2078/gm,replacement:"<sup>8</sup>"},{expression:/\u2079/gm,replacement:"<sup>9</sup>"},{expression:/\u2080/gm,replacement:"<sub>0</sub>"},{expression:/\u2081/gm,replacement:"<sub>1</sub>"},{expression:/\u2082/gm,replacement:"<sub>2</sub>"},{expression:/\u2083/gm,replacement:"<sub>3</sub>"},{expression:/\u2084/gm,replacement:"<sub>4</sub>"},{expression:/\u2085/gm,replacement:"<sub>5</sub>"},{expression:/\u2086/gm,replacement:"<sub>6</sub>"},{expression:/\u2087/gm,replacement:"<sub>7</sub>"},{expression:/\u2088/gm,replacement:"<sub>8</sub>"},{expression:/\u2089/gm,replacement:"<sub>9</sub>"}],d=/\t/gm;function isRegExp(t){return void 0!==t.source}function findReplacements(t,n,r,i){if(!i)return;const o=isRegExp(i)?i:i.expression,u=c.matchAll(o,n);if(!u||!u.length)return;const l=isRegExp(i)?null:i.groups,p=[];for(let n=0;n<u.length;n++){const i=u[n];if(null!==i&&i.length){const n=l&&i.groups?i.groups[l[0]]:i[0];if(n){let o=void 0!==i.index?i.index:-1;if(-1===o)continue;l&&(o+=i[0].indexOf(n));const c=t.positionAt(o),u=t.positionAt(o+n.length),d=new a.Selection(c,u);p.push({selection:d,value:r||t.getText(d)})}}}return p}function applyReplacements(t,n){return i(this,void 0,void 0,(function*(){t&&t.length&&(yield n.edit(n=>{t.forEach(t=>n.replace(t.selection,t.value))}))}))}n.findAndReplaceTargetExpressions=function findAndReplaceTargetExpressions(t){return i(this,void 0,void 0,(function*(){if(a.workspace.getConfiguration("markdown").replaceSmartQuotes){if(t&&t.document){const n=a.window.activeTextEditor;if(n&&c.isMarkdownFileCheckWithoutNotification(n)&&t.document.fileName===n.document.fileName){const r=t.document,i=r.getText();if(i){const t=[];if(a.workspace.getConfiguration("editor").insertSpaces){const t=a.workspace.getConfiguration("editor").tabSize||4;p.some(t=>t.expression===d)||p.push({expression:d,replacement:"".padEnd(t," ")})}p.forEach(n=>{const o=findReplacements(r,i,n.replacement,n.expression);if(o&&o.length)for(let n=0;n<o.length;n++){const r=o[n];t.push(r)}}),t.length>0&&(yield applyReplacements(t,n))}}}return t}}))},n.findReplacements=findReplacements,n.findReplacement=function findReplacement(t,n,r,i){const o=isRegExp(i)?i:i.expression,c=o?o.exec(n):null;if(null!==c&&c.length){const n=isRegExp(i)?null:i.groups,o=n&&c.groups?c.groups[n[0]]:c[0];if(o&&o!==r){let i=c.index;n&&(i+=c[0].indexOf(o));const u=t.positionAt(i),l=new a.Position(u.line,u.character+o.length),p=new a.Selection(u,l);return{selection:p,value:r||t.getText(p)}}}},n.applyReplacements=applyReplacements,n.findMatchesInText=function findMatchesInText(t,n){if(!n)return;const r=isRegExp(n)?n:n.expression,i=c.matchAll(r,t);if(!i||!i.length)return;const o=isRegExp(n)?null:n.groups,a=[];for(let t=0;t<i.length;t++){const n=i[t];if(null!==n&&n.length){const t=o&&n.groups?n.groups[o[0]]:n[0];if(t){let r=void 0!==n.index?n.index:-1;if(-1===r)continue;o&&(r+=n[0].indexOf(t)),a.push({index:r,length:t.length,value:t})}}}return a},n.checkVersion=function checkVersion(t){const n=l.extensions.getExtension("docsmsft.docs-markdown").packageJSON.version,r=t.globalState.get("version");return(!r||r!==n)&&(t.globalState.update("version",n),!0)}},function(t,n,r){"use strict";var i=function i(){};t.exports=i},function(t,n){t.exports=require("assert")},function(t,n,r){var i,o,a=r(3),c=r(215),u=r(216),l=r(217),p=r(11);function publishQueue(t,n){Object.defineProperty(t,i,{get:function(){return n}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(i=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(i="___graceful-fs.queue",o="___graceful-fs.previous");var d=function noop(){};if(p.debuglog?d=p.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var t=p.format.apply(p,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!a[i]){var h=global[i]||[];publishQueue(a,h),a.close=function(t){function close(n,r){return t.call(a,n,(function(t){t||retry(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(close,o,{value:t}),close}(a.close),a.closeSync=function(t){function closeSync(n){t.apply(a,arguments),retry()}return Object.defineProperty(closeSync,o,{value:t}),closeSync}(a.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){d(a[i]),r(19).equal(a[i].length,0)}))}function patch(t){c(t),t.gracefulify=patch,t.createReadStream=function createReadStream(n,r){return new t.ReadStream(n,r)},t.createWriteStream=function createWriteStream(n,r){return new t.WriteStream(n,r)};var n=t.readFile;t.readFile=function readFile(t,r,i){"function"==typeof r&&(i=r,r=null);return function go$readFile(t,r,i){return n(t,r,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof i&&i.apply(this,arguments),retry()):enqueue([go$readFile,[t,r,i]])}))}(t,r,i)};var r=t.writeFile;t.writeFile=function writeFile(t,n,i,o){"function"==typeof i&&(o=i,i=null);return function go$writeFile(t,n,i,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),retry()):enqueue([go$writeFile,[t,n,i,o]])}))}(t,n,i,o)};var i=t.appendFile;i&&(t.appendFile=function appendFile(t,n,r,o){"function"==typeof r&&(o=r,r=null);return function go$appendFile(t,n,r,o){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof o&&o.apply(this,arguments),retry()):enqueue([go$appendFile,[t,n,r,o]])}))}(t,n,r,o)});var o=t.readdir;function go$readdir(n){return o.apply(t,n)}if(t.readdir=function readdir(t,n,r){var i=[t];"function"!=typeof n?i.push(n):r=n;return i.push((function go$readdir$cb(t,n){n&&n.sort&&n.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof r&&r.apply(this,arguments),retry()):enqueue([go$readdir,[i]])})),go$readdir(i)},"v0.8"===process.version.substr(0,4)){var a=u(t);ReadStream=a.ReadStream,WriteStream=a.WriteStream}var l=t.ReadStream;l&&(ReadStream.prototype=Object.create(l.prototype),ReadStream.prototype.open=function ReadStream$open(){var t=this;open(t.path,t.flags,t.mode,(function(n,r){n?(t.autoClose&&t.destroy(),t.emit("error",n)):(t.fd=r,t.emit("open",r),t.read())}))});var p=t.WriteStream;p&&(WriteStream.prototype=Object.create(p.prototype),WriteStream.prototype.open=function WriteStream$open(){var t=this;open(t.path,t.flags,t.mode,(function(n,r){n?(t.destroy(),t.emit("error",n)):(t.fd=r,t.emit("open",r))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return ReadStream},set:function(t){ReadStream=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return WriteStream},set:function(t){WriteStream=t},enumerable:!0,configurable:!0});var d=ReadStream;Object.defineProperty(t,"FileReadStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0});var h=WriteStream;function ReadStream(t,n){return this instanceof ReadStream?(l.apply(this,arguments),this):ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function WriteStream(t,n){return this instanceof WriteStream?(p.apply(this,arguments),this):WriteStream.apply(Object.create(WriteStream.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var m=t.open;function open(t,n,r,i){return"function"==typeof r&&(i=r,r=null),function go$open(t,n,r,i){return m(t,n,r,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),retry()):enqueue([go$open,[t,n,r,i]])}))}(t,n,r,i)}return t.open=open,t}function enqueue(t){d("ENQUEUE",t[0].name,t[1]),a[i].push(t)}function retry(){var t=a[i].shift();t&&(d("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}global[i]||publishQueue(global,a[i]),t.exports=patch(l(a)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!a.__patched&&(t.exports=patch(a),a.__patched=!0)},function(t,n){t.exports=require("http")},function(t,n){t.exports=require("child_process")},function(t,n){t.exports=require("https")},function(t,n,r){"use strict";var i=r(12),o=r(7),a=function(){function CorrelationIdManager(){}return CorrelationIdManager.queryCorrelationId=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(CorrelationIdManager.completedLookups.hasOwnProperty(r))n(CorrelationIdManager.completedLookups[r]);else if(CorrelationIdManager.pendingLookups[r])CorrelationIdManager.pendingLookups[r].push(n);else{CorrelationIdManager.pendingLookups[r]=[n];var fetchAppId=function(){if(CorrelationIdManager.pendingLookups[r]){var n={method:"GET",disableAppInsightsAutoCollection:!0};o.info(CorrelationIdManager.TAG,n);var a=i.makeRequest(t,r,n,(function(n){if(200===n.statusCode){var i="";n.setEncoding("utf-8"),n.on("data",(function(t){i+=t})),n.on("end",(function(){o.info(CorrelationIdManager.TAG,i);var t=CorrelationIdManager.correlationIdPrefix+i;CorrelationIdManager.completedLookups[r]=t,CorrelationIdManager.pendingLookups[r]&&CorrelationIdManager.pendingLookups[r].forEach((function(n){return n(t)})),delete CorrelationIdManager.pendingLookups[r]}))}else n.statusCode>=400&&n.statusCode<500?(CorrelationIdManager.completedLookups[r]=void 0,delete CorrelationIdManager.pendingLookups[r]):setTimeout(fetchAppId,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){o.warn(CorrelationIdManager.TAG,t)})),a.end())}};setTimeout(fetchAppId,0)}},CorrelationIdManager.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=CorrelationIdManager.pendingLookups[r];i&&(CorrelationIdManager.pendingLookups[r]=i.filter((function(t){return t!=n})),0==CorrelationIdManager.pendingLookups[r].length&&delete CorrelationIdManager.pendingLookups[r])},CorrelationIdManager.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(CorrelationIdManager.currentRootId++).toString(16);return CorrelationIdManager.appendSuffix(t,n,"_")}return CorrelationIdManager.generateRootId()},CorrelationIdManager.getRootId=function(t){var n=t.indexOf(".");n<0&&(n=t.length);var r="|"===t[0]?1:0;return t.substring(r,n)},CorrelationIdManager.generateRootId=function(){return"|"+i.w3cTraceId()+"."},CorrelationIdManager.appendSuffix=function(t,n,r){if(t.length+n.length<CorrelationIdManager.requestIdMaxLength)return t+n+r;var o=CorrelationIdManager.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var a=t[o-1];if("."===a||"_"===a)break}if(o<=1)return CorrelationIdManager.generateRootId();for(n=i.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,o)+n+"#"},CorrelationIdManager.TAG="CorrelationIdManager",CorrelationIdManager.correlationIdPrefix="cid-v1:",CorrelationIdManager.w3cEnabled=!1,CorrelationIdManager.pendingLookups={},CorrelationIdManager.completedLookups={},CorrelationIdManager.requestIdMaxLength=1024,CorrelationIdManager.currentRootId=i.randomu32(),CorrelationIdManager}();t.exports=a},function(t,n,r){"use strict";function isNothing(t){return null==t}t.exports.isNothing=isNothing,t.exports.isObject=function isObject(t){return"object"==typeof t&&null!==t},t.exports.toArray=function toArray(t){return Array.isArray(t)?t:isNothing(t)?[]:[t]},t.exports.repeat=function repeat(t,n){var r,i="";for(r=0;r<n;r+=1)i+=t;return i},t.exports.isNegativeZero=function isNegativeZero(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},t.exports.extend=function extend(t,n){var r,i,o,a;if(n)for(r=0,i=(a=Object.keys(n)).length;r<i;r+=1)t[o=a[r]]=n[o];return t}},function(t,n,r){"use strict";var i=r(25),o=r(30),a=r(6);function compileList(t,n,r){var i=[];return t.include.forEach((function(t){r=compileList(t,n,r)})),t[n].forEach((function(t){r.forEach((function(n,r){n.tag===t.tag&&n.kind===t.kind&&i.push(r)})),r.push(t)})),r.filter((function(t,n){return-1===i.indexOf(n)}))}function Schema(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach((function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=compileList(this,"implicit",[]),this.compiledExplicit=compileList(this,"explicit",[]),this.compiledTypeMap=function compileMap(){var t,n,r={scalar:{},sequence:{},mapping:{},fallback:{}};function collectType(t){r[t.kind][t.tag]=r.fallback[t.tag]=t}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(collectType);return r}(this.compiledImplicit,this.compiledExplicit)}Schema.DEFAULT=null,Schema.create=function createSchema(){var t,n;switch(arguments.length){case 1:t=Schema.DEFAULT,n=arguments[0];break;case 2:t=arguments[0],n=arguments[1];break;default:throw new o("Wrong number of arguments for Schema.create function")}if(t=i.toArray(t),n=i.toArray(n),!t.every((function(t){return t instanceof Schema})))throw new o("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!n.every((function(t){return t instanceof a})))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Schema({include:t,explicit:n})},t.exports=Schema},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(7),o=r(43),a=function(){function CorrelationContextManager(){}return CorrelationContextManager.getCurrentContext=function(){if(!CorrelationContextManager.enabled)return null;var t=CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);return void 0===t?null:t},CorrelationContextManager.generateContextObject=function(t,n,r,i,o,a){return n=n||t,this.enabled?{operation:{name:r,id:t,parentId:n,traceparent:o,tracestate:a},customProperties:new c(i)}:null},CorrelationContextManager.runWithContext=function(t,n){return CorrelationContextManager.enabled?CorrelationContextManager.session.bind(n,((r={})[CorrelationContextManager.CONTEXT_NAME]=t,r))():n();var r},CorrelationContextManager.wrapEmitter=function(t){CorrelationContextManager.enabled&&CorrelationContextManager.session.bindEmitter(t)},CorrelationContextManager.wrapCallback=function(t){return CorrelationContextManager.enabled?CorrelationContextManager.session.bind(t):t},CorrelationContextManager.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(CorrelationContextManager.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===CorrelationContextManager.forceClsHooked||void 0===CorrelationContextManager.forceClsHooked&&CorrelationContextManager.shouldUseClsHooked()?this.cls=r(155):this.cls=r(166)),CorrelationContextManager.session=this.cls.createNamespace("AI-CLS-Session"),o.registerContextPreservation((function(t){return CorrelationContextManager.session.bind(t)}))),this.enabled=!0):this.enabled=!1)},CorrelationContextManager.disable=function(){this.enabled=!1},CorrelationContextManager.reset=function(){CorrelationContextManager.hasEverEnabled&&(CorrelationContextManager.session=null,CorrelationContextManager.session=this.cls.createNamespace("AI-CLS-Session"))},CorrelationContextManager.isNodeVersionCompatible=function(){var t=process.versions.node.split(".");return parseInt(t[0])>3||parseInt(t[0])>2&&parseInt(t[1])>2},CorrelationContextManager.shouldUseClsHooked=function(){var t=process.versions.node.split(".");return parseInt(t[0])>8||parseInt(t[0])>=8&&parseInt(t[1])>=2},CorrelationContextManager.canUseClsHooked=function(){var t=process.versions.node.split("."),n=parseInt(t[0])>8||parseInt(t[0])>=8&&parseInt(t[1])>=0,r=parseInt(t[0])<8||parseInt(t[0])<=8&&parseInt(t[1])<2,i=parseInt(t[0])>4||parseInt(t[0])>=4&&parseInt(t[1])>=7;return!(n&&r)&&i},CorrelationContextManager.enabled=!1,CorrelationContextManager.hasEverEnabled=!1,CorrelationContextManager.forceClsHooked=void 0,CorrelationContextManager.CONTEXT_NAME="ApplicationInsights-Context",CorrelationContextManager}();n.CorrelationContextManager=a;var c=function(){function CustomPropertiesImpl(t){this.props=[],this.addHeaderData(t)}return CustomPropertiesImpl.prototype.addHeaderData=function(t){var n=t?t.split(", "):[];this.props=n.map((function(t){var n=t.split("=");return{key:n[0],value:n[1]}})).concat(this.props)},CustomPropertiesImpl.prototype.serializeToHeader=function(){return this.props.map((function(t){return t.key+"="+t.value})).join(", ")},CustomPropertiesImpl.prototype.getProperty=function(t){for(var n=0;n<this.props.length;++n){var r=this.props[n];if(r.key===t)return r.value}},CustomPropertiesImpl.prototype.setProperty=function(t,n){if(CustomPropertiesImpl.bannedCharacters.test(t)||CustomPropertiesImpl.bannedCharacters.test(n))i.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);else{for(var r=0;r<this.props.length;++r){var o=this.props[r];if(o.key===t)return void(o.value=n)}this.props.push({key:t,value:n})}},CustomPropertiesImpl.bannedCharacters=/[,=]/,CustomPropertiesImpl}()},function(t,n,r){"use strict";var i,o,a;Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",n.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",n.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",function(t){t.COMMITTED_BYTES="\\Memory\\Committed Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",t.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",t.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",t.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",t.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",t.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",t.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(i=n.QuickPulseCounter||(n.QuickPulseCounter={})),function(t){t.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",t.AVAILABLE_BYTES="\\Memory\\Available Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",t.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",t.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(o=n.PerformanceCounter||(n.PerformanceCounter={})),n.PerformanceToQuickPulseCounter=((a={})[o.PROCESSOR_TIME]=i.PROCESSOR_TIME,a[o.REQUEST_RATE]=i.REQUEST_RATE,a[o.REQUEST_DURATION]=i.REQUEST_DURATION,a[i.COMMITTED_BYTES]=i.COMMITTED_BYTES,a[i.REQUEST_FAILURE_RATE]=i.REQUEST_FAILURE_RATE,a[i.DEPENDENCY_RATE]=i.DEPENDENCY_RATE,a[i.DEPENDENCY_FAILURE_RATE]=i.DEPENDENCY_FAILURE_RATE,a[i.DEPENDENCY_DURATION]=i.DEPENDENCY_DURATION,a[i.EXCEPTION_RATE]=i.EXCEPTION_RATE,a),n.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability"},n.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument"},n.TelemetryTypeStringToQuickPulseType={EventData:n.QuickPulseType.Event,ExceptionData:n.QuickPulseType.Exception,MessageData:n.QuickPulseType.Trace,MetricData:n.QuickPulseType.Metric,RequestData:n.QuickPulseType.Request,RemoteDependencyData:n.QuickPulseType.Dependency,AvailabilityData:n.QuickPulseType.Availability},n.TelemetryTypeStringToQuickPulseDocumentType={EventData:n.QuickPulseDocumentType.Event,ExceptionData:n.QuickPulseDocumentType.Exception,MessageData:n.QuickPulseDocumentType.Trace,MetricData:n.QuickPulseDocumentType.Metric,RequestData:n.QuickPulseDocumentType.Request,RemoteDependencyData:n.QuickPulseDocumentType.Dependency,AvailabilityData:n.QuickPulseDocumentType.Availability}},function(t,n,r){"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},function(t,n,r){"use strict";function YAMLException(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}YAMLException.prototype=Object.create(Error.prototype),YAMLException.prototype.constructor=YAMLException,YAMLException.prototype.toString=function toString(t){var n=this.name+": ";return n+=this.reason||"(unknown reason)",!t&&this.mark&&(n+=" "+this.mark.toString()),n},t.exports=YAMLException},function(t,n,r){"use strict";var i=r(26);t.exports=new i({include:[r(90)],implicit:[r(246),r(247)],explicit:[r(248),r(250),r(251),r(252)]})},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.initiateRedirectCommand=n.showStatusMessage=n.redirectsToJson=n.updateRedirects=n.getMarkdownOptions=n.MasterRedirection=void 0;const o=r(3),a=r(1),c=r(0),u=r(15),l=r(58);function getMarkdownOptions(){return i(this,void 0,void 0,(function*(){const t=a.workspace.getConfiguration(l.Markdown),n={docsetName:t.docsetName,docsetRootFolderName:t.docsetRootFolderName,omitDefaultJsonProperties:t.omitDefaultJsonProperties};return""===n.docsetName||""===n.docsetRootFolderName?(yield a.commands.executeCommand(l.OpenSettingsCommand,l.MarkdownExtensionSettingsPath),c.postWarning("Please set the Docset Name and Docset Root Folder Name before using this command."),{config:t,options:null}):{config:t,options:n}}))}function redirectsToJson(t,n){const r=n.omitDefaultJsonProperties,i=a.workspace.getConfiguration("editor").insertSpaces&&a.workspace.getConfiguration("editor").tabSize||2;return JSON.stringify(t,(t,n)=>r&&t===l.RedirectDocumentId?!!n||void 0:n,i)}n.MasterRedirection=class MasterRedirection{constructor(t){this.redirections=t}},n.getMarkdownOptions=getMarkdownOptions,n.updateRedirects=function updateRedirects(t,n,r){return i(this,void 0,void 0,(function*(){const i=t.document.lineCount-1,o=t.document.lineAt(i),c=new a.Selection(new a.Position(0,0),new a.Position(i,o.range.end.character));yield t.edit(t=>{t.replace(c,redirectsToJson(n,r))}),yield t.document.save()}))},n.redirectsToJson=redirectsToJson,n.showStatusMessage=function showStatusMessage(t){const{msTimeValue:n}=c.generateTimestamp();u.output.appendLine(`[${n}] - `+t),u.output.show()},n.initiateRedirectCommand=function initiateRedirectCommand(){return i(this,void 0,void 0,(function*(){const t=a.window.activeTextEditor;if(!t)return c.postWarning("Editor not active. Abandoning command."),{isEnvironmentReady:!1,redirectsAndConfigOptions:null};let n=null;const r=a.workspace.getWorkspaceFolder(t.document.uri);if(!r)return{isEnvironmentReady:!1,redirectsAndConfigOptions:null};const i=c.tryFindFile(r.uri.fsPath,l.RedirectFileName);if(i&&o.existsSync(i)){if(!t.document.uri.fsPath.endsWith(l.RedirectFileName)){if(yield a.window.showErrorMessage(`Unable to update the master redirects, please open the "${l.RedirectFileName}" file then try again!`,"Open File")){const t=yield a.workspace.openTextDocument(i);yield a.window.showTextDocument(t)}return{isEnvironmentReady:!1,redirectsAndConfigOptions:null}}const r=o.readFileSync(i);n=JSON.parse(r.toString())}if(!n||!n.redirections)return{isEnvironmentReady:!1,redirectsAndConfigOptions:null};const{config:u,options:p}=yield getMarkdownOptions();return p?{isEnvironmentReady:!0,redirectsAndConfigOptions:{config:u,editor:t,folder:r,options:p,redirects:n}}:{isEnvironmentReady:!1,redirectsAndConfigOptions:null}}))}},function(t,n,r){t.exports=minimatch,minimatch.Minimatch=Minimatch;var i={sep:"/"};try{i=r(2)}catch(t){}var o=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},a=r(128),c={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},u=function charSet(t){return t.split("").reduce((function(t,n){return t[n]=!0,t}),{})}("().*{}+?[]^$\\!");var l=/\/+/;function ext(t,n){t=t||{},n=n||{};var r={};return Object.keys(n).forEach((function(t){r[t]=n[t]})),Object.keys(t).forEach((function(n){r[n]=t[n]})),r}function minimatch(t,n,r){if("string"!=typeof n)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===n.charAt(0))&&(""===n.trim()?""===t:new Minimatch(n,r).match(t))}function Minimatch(t,n){if(!(this instanceof Minimatch))return new Minimatch(t,n);if("string"!=typeof t)throw new TypeError("glob pattern string required");n||(n={}),t=t.trim(),"/"!==i.sep&&(t=t.split(i.sep).join("/")),this.options=n,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function braceExpand(t,n){if(n||(n=this instanceof Minimatch?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return n.nobrace||!t.match(/\{.*\}/)?[t]:a(t)}minimatch.filter=function filter(t,n){return n=n||{},function(r,i,o){return minimatch(r,t,n)}},minimatch.defaults=function(t){if(!t||!Object.keys(t).length)return minimatch;var n=minimatch,r=function minimatch(r,i,o){return n.minimatch(r,i,ext(t,o))};return r.Minimatch=function Minimatch(r,i){return new n.Minimatch(r,ext(t,i))},r},Minimatch.defaults=function(t){return t&&Object.keys(t).length?minimatch.defaults(t).Minimatch:Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=function make(){if(this._made)return;var t=this.pattern,n=this.options;if(!n.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();n.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(l)})),this.debug(this.pattern,r),r=r.map((function(t,n,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r},Minimatch.prototype.parseNegate=function parseNegate(){var t=this.pattern,n=!1,r=this.options,i=0;if(r.nonegate)return;for(var o=0,a=t.length;o<a&&"!"===t.charAt(o);o++)n=!n,i++;i&&(this.pattern=t.substr(i));this.negate=n},minimatch.braceExpand=function(t,n){return braceExpand(t,n)},Minimatch.prototype.braceExpand=braceExpand,Minimatch.prototype.parse=function parse(t,n){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return o;if(""===t)return"";var i,a="",l=!!r.nocase,d=!1,h=[],m=[],g=!1,y=-1,v=-1,x="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",C=this;function clearStateChar(){if(i){switch(i){case"*":a+="[^/]*?",l=!0;break;case"?":a+="[^/]",l=!0;break;default:a+="\\"+i}C.debug("clearStateChar %j %j",i,a),i=!1}}for(var b,w=0,k=t.length;w<k&&(b=t.charAt(w));w++)if(this.debug("%s\t%s %s %j",t,w,a,b),d&&u[b])a+="\\"+b,d=!1;else switch(b){case"/":return!1;case"\\":clearStateChar(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,w,a,b),g){this.debug("  in class"),"!"===b&&w===v+1&&(b="^"),a+=b;continue}C.debug("call clearStateChar %j",i),clearStateChar(),i=b,r.noext&&clearStateChar();continue;case"(":if(g){a+="(";continue}if(!i){a+="\\(";continue}h.push({type:i,start:w-1,reStart:a.length,open:c[i].open,close:c[i].close}),a+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,a),i=!1;continue;case")":if(g||!h.length){a+="\\)";continue}clearStateChar(),l=!0;var S=h.pop();a+=S.close,"!"===S.type&&m.push(S),S.reEnd=a.length;continue;case"|":if(g||!h.length||d){a+="\\|",d=!1;continue}clearStateChar(),a+="|";continue;case"[":if(clearStateChar(),g){a+="\\"+b;continue}g=!0,v=w,y=a.length,a+=b;continue;case"]":if(w===v+1||!g){a+="\\"+b,d=!1;continue}if(g){var A=t.substring(v+1,w);try{RegExp("["+A+"]")}catch(t){var _=this.parse(A,p);a=a.substr(0,y)+"\\["+_[0]+"\\]",l=l||_[1],g=!1;continue}}l=!0,g=!1,a+=b;continue;default:clearStateChar(),d?d=!1:!u[b]||"^"===b&&g||(a+="\\"),a+=b}g&&(A=t.substr(v+1),_=this.parse(A,p),a=a.substr(0,y)+"\\["+_[0],l=l||_[1]);for(S=h.pop();S;S=h.pop()){var D=a.slice(S.reStart+S.open.length);this.debug("setting tail",a,S),D=D.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,n,r){return r||(r="\\"),n+n+r+"|"})),this.debug("tail=%j\n   %s",D,D,S,a);var T="*"===S.type?"[^/]*?":"?"===S.type?"[^/]":"\\"+S.type;l=!0,a=a.slice(0,S.reStart)+T+"\\("+D}clearStateChar(),d&&(a+="\\\\");var I=!1;switch(a.charAt(0)){case".":case"[":case"(":I=!0}for(var P=m.length-1;P>-1;P--){var L=m[P],N=a.slice(0,L.reStart),M=a.slice(L.reStart,L.reEnd-8),R=a.slice(L.reEnd-8,L.reEnd),O=a.slice(L.reEnd);R+=O;var j=N.split("(").length-1,B=O;for(w=0;w<j;w++)B=B.replace(/\)[+*?]?/,"");var U="";""===(O=B)&&n!==p&&(U="$"),a=N+M+O+U+R}""!==a&&l&&(a="(?=.)"+a);I&&(a=x+a);if(n===p)return[a,l];if(!l)return function globUnescape(t){return t.replace(/\\(.)/g,"$1")}(t);var q=r.nocase?"i":"";try{var H=new RegExp("^"+a+"$",q)}catch(t){return new RegExp("$.")}return H._glob=t,H._src=a,H};var p={};minimatch.makeRe=function(t,n){return new Minimatch(t,n||{}).makeRe()},Minimatch.prototype.makeRe=function makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=n.nocase?"i":"",a=t.map((function(t){return t.map((function(t){return t===o?r:"string"==typeof t?function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");a="^(?:"+a+")$",this.negate&&(a="^(?!"+a+").*$");try{this.regexp=new RegExp(a,i)}catch(t){this.regexp=!1}return this.regexp},minimatch.match=function(t,n,r){var i=new Minimatch(n,r=r||{});return t=t.filter((function(t){return i.match(t)})),i.options.nonull&&!t.length&&t.push(n),t},Minimatch.prototype.match=function match(t,n){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&n)return!0;var r=this.options;"/"!==i.sep&&(t=t.split(i.sep).join("/"));t=t.split(l),this.debug(this.pattern,"split",t);var o,a,c=this.set;for(this.debug(this.pattern,"set",c),a=t.length-1;a>=0&&!(o=t[a]);a--);for(a=0;a<c.length;a++){var u=c[a],p=t;if(r.matchBase&&1===u.length&&(p=[o]),this.matchOne(p,u,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},Minimatch.prototype.matchOne=function(t,n,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var a=0,c=0,u=t.length,l=n.length;a<u&&c<l;a++,c++){this.debug("matchOne loop");var p,d=n[c],h=t[a];if(this.debug(n,d,h),!1===d)return!1;if(d===o){this.debug("GLOBSTAR",[n,d,h]);var m=a,g=c+1;if(g===l){for(this.debug("** at the end");a<u;a++)if("."===t[a]||".."===t[a]||!i.dot&&"."===t[a].charAt(0))return!1;return!0}for(;m<u;){var y=t[m];if(this.debug("\nglobstar while",t,m,n,g,y),this.matchOne(t.slice(m),n.slice(g),r))return this.debug("globstar found match!",m,u,y),!0;if("."===y||".."===y||!i.dot&&"."===y.charAt(0)){this.debug("dot detected!",t,m,n,g);break}this.debug("globstar swallow a segment, and continue"),m++}return!(!r||(this.debug("\n>>> no match, partial?",t,m,n,g),m!==u))}if("string"==typeof d?(p=i.nocase?h.toLowerCase()===d.toLowerCase():h===d,this.debug("string match",d,h,p)):(p=h.match(d),this.debug("pattern match",d,h,p)),!p)return!1}if(a===u&&c===l)return!0;if(a===u)return r;if(c===l)return a===u-1&&""===t[a];throw new Error("wtf?")}},function(t,n,r){"use strict";var i=r(21),o=r(23),a=r(7),c=r(12),u=r(29),l=r(195),p=r(27),d=r(24),h=r(82),m=r(43),g=function(){function AutoCollectHttpDependencies(t){if(AutoCollectHttpDependencies.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");AutoCollectHttpDependencies.INSTANCE=this,this._client=t}return AutoCollectHttpDependencies.prototype.enable=function(t){this._isEnabled=t,this._isEnabled&&!this._isInitialized&&this._initialize(),m.IsInitialized&&(r(196).enable(t,this._client),r(197).enable(t,this._client),r(198).enable(t,this._client),r(199).enable(t,this._client))},AutoCollectHttpDependencies.prototype.isInitialized=function(){return this._isInitialized},AutoCollectHttpDependencies.prototype._initialize=function(){var t=this;this._isInitialized=!0;i.get;var n=i.request,r=o.request,clientRequestPatch=function(n,r){var i=!r[AutoCollectHttpDependencies.disableCollectionRequestOption]&&!n[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];n[AutoCollectHttpDependencies.alreadyAutoCollectedFlag]=!0,n&&r&&i&&(p.CorrelationContextManager.wrapEmitter(n),AutoCollectHttpDependencies.trackRequest(t._client,{options:r,request:n}))};i.request=function(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=n.call.apply(n,[i,t].concat(r));return clientRequestPatch(a,t),a},o.request=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=r.call.apply(r,[o,t].concat(n));return clientRequestPatch(a,t),a},i.get=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o,a=(o=i.request).call.apply(o,[i,t].concat(n));return a.end(),a},o.get=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i,a=(i=o.request).call.apply(i,[o,t].concat(n));return a.end(),a}},AutoCollectHttpDependencies.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,i,o=new l(n.options,n.request),m=p.CorrelationContextManager.getCurrentContext();if(m&&m.operation&&m.operation.traceparent&&h.isValidTraceId(m.operation.traceparent.traceId))m.operation.traceparent.updateSpanId(),r=m.operation.traceparent.getBackCompatRequestId();else if(d.w3cEnabled){i=(y=new h).toString(),r=y.getBackCompatRequestId()}else r=m&&m.operation&&m.operation.parentId+AutoCollectHttpDependencies.requestNumber+++".";if(c.canIncludeCorrelationHeader(t,o.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var g=n.request.getHeader(u.requestContextHeader);try{c.safeIncludeCorrelationHeader(t,n.request,g)}catch(t){a.warn("Request-Context header could not be set. Correlation of requests may be lost",t)}if(m&&m.operation)try{if(n.request.setHeader(u.requestIdHeader,r),n.request.setHeader(u.parentIdHeader,m.operation.id),n.request.setHeader(u.rootIdHeader,r),i||m.operation.traceparent)n.request.setHeader(u.traceparentHeader,i||m.operation.traceparent.toString());else if(d.w3cEnabled){var y=(new h).toString();n.request.setHeader(u.traceparentHeader,y)}if(m.operation.tracestate){var v=m.operation.tracestate.toString();v&&n.request.setHeader(u.traceStateHeader,v)}var x=m.customProperties.serializeToHeader();x&&n.request.setHeader(u.correlationContextHeader,x)}catch(t){a.warn("Correlation headers could not be set. Correlation of requests may be lost.",t)}}n.request.on&&(n.request.on("response",(function(i){o.onResponse(i);var a=o.getDependencyTelemetry(n,r);a.contextObjects=a.contextObjects||{},a.contextObjects["http.RequestOptions"]=n.options,a.contextObjects["http.ClientRequest"]=n.request,a.contextObjects["http.ClientResponse"]=i,t.trackDependency(a)})),n.request.on("error",(function(i){o.onError(i);var a=o.getDependencyTelemetry(n,r);a.contextObjects=a.contextObjects||{},a.contextObjects["http.RequestOptions"]=n.options,a.contextObjects["http.ClientRequest"]=n.request,a.contextObjects.Error=i,t.trackDependency(a)})))}else a.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},AutoCollectHttpDependencies.prototype.dispose=function(){AutoCollectHttpDependencies.INSTANCE=null,this.enable(!1),this._isInitialized=!1},AutoCollectHttpDependencies.disableCollectionRequestOption="disableAppInsightsAutoCollection",AutoCollectHttpDependencies.requestNumber=1,AutoCollectHttpDependencies.alreadyAutoCollectedFlag="_appInsightsAutoCollected",AutoCollectHttpDependencies}();t.exports=g},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isCursorInsideYamlHeader=n.mergeMetadata=n.findDocFxMetadataForDir=n.FileFxMetadataContent=n.GlobalFxMetadataContent=n.DocFxMetadataContent=n.MarkdownFileMetadataContent=n.YamlMetadataContent=n.MetadataContentBase=n.EmptyYamlHeaderError=n.dateTimeFormat=n.MetadataSourceContentType=void 0;const i=r(3),o=r(2),a=r(218),c=r(1),u=r(0),l=r(17),p=r(36),d=r(258),h=r(260);var m;!function(t){t[t.MarkdownFile=0]="MarkdownFile",t[t.DocFxFile=1]="DocFxFile",t[t.GlobalMetadataFx=2]="GlobalMetadataFx",t[t.FileMetadataFx=3]="FileMetadataFx",t[t.YamlContent=4]="YamlContent"}(m=n.MetadataSourceContentType||(n.MetadataSourceContentType={})),n.dateTimeFormat="MM/dd/yyyy";class EmptyYamlHeaderError extends Error{constructor(t){super(t),Object.setPrototypeOf(this,EmptyYamlHeaderError.prototype)}}n.EmptyYamlHeaderError=EmptyYamlHeaderError;class MetadataContentBase{constructor(t,n,r,i){this.MetadataType=t,this.OriginalData=n,this.FileName=r,this.RawMetadata=i}getYamlMetadataContent(){try{return this.getYamlMetadataContentInner()}catch(t){throw this.checkSyntaxError(t.toString()),new Error("Yaml header could not be parsed.  If any free-form text spans multiple lines, please wrap the entire string in quotes.")}}getRawMetadataContent(){try{return this.getRawMetadataContentInner()}catch(t){throw new Error("Yaml header could not be parsed.  If any free-form text spans multiple lines, please wrap the entire string in quotes.")}}getYamlMetadataContentInner(){return this.OriginalData}getRawMetadataContentInner(){return this.RawMetadata}translateSyntaxErrorMessage(t){return t.indexOf("ms.date:")>=0?"ms.date format is incorrect. Change to "+n.dateTimeFormat+" and re-run validation.":t.indexOf("Malformed inline YAML string")>=0?t.replace("Malformed inline YAML string","Incorrect YAML syntax in string")+". Please fix YAML syntax and re-run validation.":t}checkSyntaxError(t){if(t.indexOf("<ParseException> ")>=0)throw t=t.replace("<ParseException> ",""),new Error(this.translateSyntaxErrorMessage(t).toString())}}n.MetadataContentBase=MetadataContentBase;class YamlMetadataContent extends MetadataContentBase{constructor(t,n,r=""){super(m.YamlContent,t,n,r)}getYamlMetadataContentInner(){return this.OriginalData}getRawMetadataContentInner(){return this.RawMetadata}}n.YamlMetadataContent=YamlMetadataContent;n.MarkdownFileMetadataContent=class MarkdownFileMetadataContent extends MetadataContentBase{constructor(t,n,r=""){super(m.MarkdownFile,t,n,r)}getYamlMetadataContentInner(){const t=/^(-{3}(?:\n|\r)([\w\W]+?)(?:\n|\r)-{3})?([\w\W]*)*/.exec(l.stripBOMFromString(this.OriginalData.toString())||"{}");if(null!==t){const n=t[1],r=u.rtrim(n.trim(),"---"),i=p.load(r);return null===i?"":JSON.stringify(i)}return""}getRawMetadataContentInner(){const t=/^(-{3}(?:\n|\r)([\w\W]+?)(?:\n|\r)-{3})?([\w\W]*)*/.exec(this.OriginalData.toString());if(null!==t){const n=t[1];return void 0===n?"":n}return" "}};class DocFxMetadataContent extends MetadataContentBase{constructor(t,n,r,i=""){super(m.DocFxFile,t,n,i),this.referenceTemplateFileName=r}Expand(){try{const t=[],n=JSON.parse(l.stripBOMFromString(this.OriginalData.toString())||"{}");return void 0===n||void 0===n.build||(void 0!==n.build.fileMetadata&&t.push(new FileFxMetadataContent(JSON.stringify(n.build.fileMetadata),this.FileName,this.referenceTemplateFileName)),void 0!==n.build.globalMetadata&&t.push(new GlobalFxMetadataContent(JSON.stringify(n.build.globalMetadata),this.FileName))),t}catch(t){throw new Error("Yaml headers could not be parsed from file '"+this.FileName+"'. Original error :"+t.toString())}}}n.DocFxMetadataContent=DocFxMetadataContent;class GlobalFxMetadataContent extends MetadataContentBase{constructor(t,n,r=""){super(m.GlobalMetadataFx,t,n,r)}getYamlMetadataContentInner(){if(void 0===this.OriginalData||""===this.OriginalData)return"";const t=JSON.parse(l.stripBOMFromString(this.OriginalData.toString())||"{}");return JSON.stringify(t)}}n.GlobalFxMetadataContent=GlobalFxMetadataContent;class FileFxMetadataContent extends MetadataContentBase{constructor(t,n,r,i=""){super(m.FileMetadataFx,t,n,i),this.referenceTopicFileName=r}getYamlMetadataContentInner(){const t=JSON.parse(l.stripBOMFromString(this.OriginalData.toString())||"{}"),n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];if(i instanceof Object)for(const t in i)i.hasOwnProperty(t)&&this.matchFilePattern(this.referenceTopicFileName.toString(),t)&&(n[r]=i[t]);else i instanceof String&&(n[r]=t[r])}return JSON.stringify(n)}matchFilePattern(t,n){const r=o.dirname(this.FileName).replace(/\\/g,"/")+"/"+n,i=t.replace(/\\/g,"/");return h.isMatch(i,r)}}function mergeYamlMetadata(t,n){if(void 0===t)throw new RangeError("higherPriorityMetadata must be defined.");if(void 0===n)throw new RangeError("lowerPriorityMetadata must be defined.");const r=t.getYamlMetadataContent(),i=n.getYamlMetadataContent(),o=t.getRawMetadataContent();let a;const c=t.FileName;if(void 0===r||""===r)a=void 0===i?"":i;else if(void 0===i||""===i)a=void 0===r?"":r;else{const t=p.load(r),n=p.load(i),o=d(n,t);a=JSON.stringify(o),"{}"===a.trim()&&(a="")}return new YamlMetadataContent(a,c,o)}function mergeMetadataFromTop(t){let n=t.pop();for(;!t.isEmpty();)n=mergeYamlMetadata(t.pop(),n);return n}n.FileFxMetadataContent=FileFxMetadataContent,n.findDocFxMetadataForDir=function findDocFxMetadataForDir(t,n){const r=o.join(t,"docfx.json");if(i.existsSync(r))return new DocFxMetadataContent(i.readFileSync(r,"utf8"),r,n)},n.mergeMetadata=function mergeMetadata(t){if(void 0===t)throw new RangeError("priorityStack must be defined.");const n=new a.Stack;if(t.isEmpty())throw new RangeError("priorityQueue can't be empty.");for(;!t.isEmpty();){const r=t.dequeue();if(void 0!==r)switch(r.MetadataType){case m.MarkdownFile:n.push(r);break;case m.GlobalMetadataFx:case m.FileMetadataFx:case m.YamlContent:n.push(r);break;case m.DocFxFile:const t=r.Expand();for(const r of t)n.push(r);break;default:throw new RangeError("switch value:"+r.MetadataType+" is not implemented")}return mergeMetadataFromTop(n)}return mergeMetadataFromTop(n)},n.isCursorInsideYamlHeader=function isCursorInsideYamlHeader(t){const n=t.document.getText().indexOf("---",4),r=new c.Range(0,0,t.selection.end.line,t.selection.end.character);return t.document.getText(r).length<n}},function(t,n,r){"use strict";var i=r(236);t.exports=i},function(t,n,r){"use strict";var i=r(26);t.exports=i.DEFAULT=new i({include:[r(31)],explicit:[r(253),r(254),r(255)]})},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.selectMediaType=n.selectLinkTypeToolbar=n.selectLinkType=n.Insert=n.getFilesShowQuickPick=n.insertImage=n.insertLink=n.insertURL=n.insertVideo=n.MediaType=n.yamlTextRegex=n.headingTextRegex=n.h1TextRegex=n.markdownExtensionFilter=n.imageExtensions=n.insertLinksAndMediaCommands=void 0;const o=r(20),a=r(13),c=r(1),u=r(264),l=r(0),p=r(4),d=r(17);let h;var m;function insertVideo(){return i(this,void 0,void 0,(function*(){h="video";const t=c.window.activeTextEditor;if(!t)return void l.noActiveEditorMessage();const n=yield c.window.showInputBox({placeHolder:"Enter URL; Begin typing to see the allowed video URL prefixes.",validateInput:t=>{const n=t.toLowerCase();return n.startsWith("https://channel9.msdn.com")&&n.split("?")[0].endsWith("player")||n.startsWith("https://www.youtube.com/embed")||n.startsWith("https://www.microsoft.com/en-us/videoplayer/embed")?"":"https://channel9.msdn.com, https://www.youtube.com/embed or https://www.microsoft.com/en-us/videoplayer/embed are required prefixes for video URLs. Link will not be added if prefix is not present."}});if(void 0===n)return void l.postWarning("Incorrect link syntax. For YouTube videos, use the embed syntax, https://www.youtube.com/embed/<videoID>. For Channel9videos, use the player syntax, https://channel9.msdn.com/. For Red Tiger, use, https://www.microsoft.com/en-us/embed/<videoID>/player");const r=d.videoLinkBuilder(n);yield l.insertContentToEditor(t,r),p.sendTelemetryData("insertMedia",h)}))}function insertURL(){h="external";const t=c.window.activeTextEditor;if(!t)return void l.noActiveEditorMessage();const n=t.selection,r=t.document.getText(n),i={placeHolder:"Enter link text. If no text is entered, url will be used."};c.window.showInputBox({placeHolder:"Enter URL",validateInput:t=>t.startsWith("http://")||t.startsWith("https://")?"":"http:// or https:// is required for URLs. Link will not be added if prefix is not present."}).then(o=>{let a;void 0===o?l.postWarning("Incorrect link syntax. Abandoning command."):(r&&(a=d.externalLinkBuilder(o,r),l.insertContentToEditor(t,a,!0)),n.isEmpty&&c.window.showInputBox(i).then(r=>{n.isEmpty&&!r&&(a=d.externalLinkBuilder(o),l.insertContentToEditor(t,a)),r&&(a=d.externalLinkBuilder(o,r),l.insertContentToEditor(t,a,!0)),l.setCursorPosition(t,n.start.line,n.start.character+a.length)}))}),p.sendTelemetryData("insertLink",h)}function insertLink(){const t=c.window.activeTextEditor;if(!t)return void l.noActiveEditorMessage();const n=t.document.languageId;"markdown"===n||"yaml"===n?Insert(m.Link,{languageId:n}):l.unsupportedFileMessage(n)}function getFilesShowQuickPick(t,i,o){const u=r(2),p=r(8),h=r(3),g=c.window.activeTextEditor;if(!g)return void l.noActiveEditorMessage();const y=g.selection;let v="",x=g.document.getText(y);const C=u.dirname(g.document.fileName);c.workspace.workspaceFolders&&(v=c.workspace.workspaceFolders[0].uri.fsPath),a(v,l.ignoreFiles,(r,a)=>{if(r)throw c.window.showErrorMessage(r),r;const v=[];a.sort();const b=t!==m.Link;b?a.filter(t=>-1!==n.imageExtensions.indexOf(u.extname(t.toLowerCase()))).forEach(t=>{v.push({label:u.basename(t),description:u.dirname(t)})}):a.filter(t=>-1!==n.markdownExtensionFilter.indexOf(u.extname(t.toLowerCase()))).forEach(t=>{v.push({label:u.basename(t),description:u.dirname(t)})});c.window.showQuickPick(v).then(t=>{if(t){let r="";const a=t.label;if(!b&&""===x){const r=u.join(t.description,t.label);let i=h.readFileSync(r,"utf8");const o=i.match(n.yamlTextRegex);null!=o&&(i=o[2]),i="\n"+i;const a=i.match(n.h1TextRegex);null!=a&&(x=a[2].trim())}const m=o?o.languageId:void 0;b&&i?i.length>250?c.window.showWarningMessage("Alt text exceeds 250 characters!"):r=d.internalLinkBuilder(b,u.relative(C,u.join(t.description,t.label).split("\\").join("\\\\")),i,m):b&&""===i?r=d.internalLinkBuilder(b,u.relative(C,u.join(t.description,t.label).split("\\").join("\\\\")),a,m):b||(r=d.internalLinkBuilder(b,u.relative(C,u.join(t.description,t.label).split("\\").join("\\\\")),x,m)),"Darwin"===p.type()&&(r=b?d.internalLinkBuilder(b,u.relative(C,u.join(t.description,t.label).split("//").join("//")),i,m):d.internalLinkBuilder(b,u.relative(C,u.join(t.description,t.label).split("//").join("//")),x,m)),r&&(l.insertContentToEditor(g,r,!0),b||l.setCursorPosition(g,y.start.line,y.start.character+r.length))}})})}function Insert(t,n){return i(this,void 0,void 0,(function*(){let r=Insert.name;const i=c.window.activeTextEditor;if(i){const a=i.document.getText(i.selection);switch(t){case m.ImageOrVideo:r="Art",h="art",p.sendTelemetryData("insertMedia",h);break;case m.Link:r="Link",h="internal",p.sendTelemetryData("insertLink",h)}if(!l.isValidEditor(i,!1,r))return;if(!l.isValidFileCheck(i,["markdown","yaml"]))return;if(!l.hasValidWorkSpaceRootPath("insertLink"))return;const u=i.document.fileName,d=i.document.fileName.split(".")[0];if(!o.existsSync(u))return void c.window.showWarningMessage(d+" is not saved. Cannot accurately resolve path to create link.");getFilesShowQuickPick(t,a,n)}else l.noActiveEditorMessage()}))}function selectLinkType(){const t=c.window.activeTextEditor;if(t){if(!l.isValidEditor(t,!1,"insert link"))return;if(!l.isMarkdownFileCheck(t,!1))return;const n=["Heading in this file","Heading in another file"];c.window.showQuickPick(n).then(t=>{t===n[0]?u.insertBookmarkInternal():t===n[1]&&u.insertBookmarkExternal()})}else l.noActiveEditorMessage()}function selectLinkTypeToolbar(t){const n=c.window.activeTextEditor;if(!n)return void l.noActiveEditorMessage();if(!l.isValidEditor(n,!1,"insert link"))return;if(!l.isMarkdownFileCheck(n,!1))return;const r=["External","Internal","Bookmark in this file","Bookmark in another file"];c.window.showQuickPick(r).then(t=>{t===r[0]?insertURL():t===r[1]?Insert(m.Link):t===r[2]?u.insertBookmarkInternal():t===r[3]&&u.insertBookmarkExternal()})}function selectMediaType(){const t=c.window.activeTextEditor;if(t){if(!l.isValidEditor(t,!1,"insert media"))return;if(!l.isMarkdownFileCheck(t,!1))return;const n=["Image","Video"];c.window.showQuickPick(n).then(t=>{t===n[0]?Insert(m.ImageOrVideo):t===n[1]&&insertVideo()})}else l.noActiveEditorMessage()}n.insertLinksAndMediaCommands=function insertLinksAndMediaCommands(){return[{command:insertVideo.name,callback:insertVideo},{command:insertURL.name,callback:insertURL},{command:insertLink.name,callback:insertLink},{command:selectLinkType.name,callback:selectLinkType},{command:selectLinkTypeToolbar.name,callback:selectLinkTypeToolbar},{command:selectMediaType.name,callback:selectMediaType}]},n.imageExtensions=[".jpeg",".jpg",".png",".gif",".bmp"],n.markdownExtensionFilter=[".md"],n.h1TextRegex=/\n {0,3}(#{1,6})(.*)/,n.headingTextRegex=/^(#+)[\s](.*)[\r]?[\n]/gm,n.yamlTextRegex=/^-{3}\s*\r?\n([\s\S]*?)-{3}\s*\r?\n([\s\S]*)/,function(t){t[t.Link=0]="Link",t[t.ImageOrVideo=1]="ImageOrVideo",t[t.GrayBorderImage=2]="GrayBorderImage"}(m=n.MediaType||(n.MediaType={})),n.insertVideo=insertVideo,n.insertURL=insertURL,n.insertLink=insertLink,n.insertImage=function insertImage(){Insert(m.ImageOrVideo)},n.getFilesShowQuickPick=getFilesShowQuickPick,n.Insert=Insert,n.selectLinkType=selectLinkType,n.selectLinkTypeToolbar=selectLinkTypeToolbar,n.selectMediaType=selectMediaType},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.numberFormat=void 0,n.numberFormat=Intl.NumberFormat()},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.noHeadingSelected=n.noHeading=n.insertedTocEntry=n.invalidTocEntryPosition=n.LinkMessages=n.AlertMessages=void 0,n.AlertMessages={Important:"Important",Note:"Note",Tip:"Tip",Warning:"Warning"},n.LinkMessages={External:"External",ExternalBookmark:"BookmarkOtherFile",Internal:"Internal",InternalBookmark:"BookmarkThisFile"},n.invalidTocEntryPosition="Invalid TOC entry position.",n.insertedTocEntry="Added TOC entry.",n.noHeading="No H1 found in file.  Abandoning command.",n.noHeadingSelected="No H1 selected.  Abandoning command."},function(t,n,r){t.exports=glob;var i=r(3),o=r(64),a=r(33),c=(a.Minimatch,r(131)),u=r(65).EventEmitter,l=r(2),p=r(19),d=r(42),h=r(133),m=r(66),g=(m.alphasort,m.alphasorti,m.setopts),y=m.ownProp,v=r(134),x=(r(11),m.childrenIgnored),C=m.isIgnored,b=r(68);function glob(t,n,r){if("function"==typeof n&&(r=n,n={}),n||(n={}),n.sync){if(r)throw new TypeError("callback provided to sync glob");return h(t,n)}return new Glob(t,n,r)}glob.sync=h;var w=glob.GlobSync=h.GlobSync;function Glob(t,n,r){if("function"==typeof n&&(r=n,n=null),n&&n.sync){if(r)throw new TypeError("callback provided to sync glob");return new w(t,n)}if(!(this instanceof Glob))return new Glob(t,n,r);g(this,t,n),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof r&&(r=b(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var o=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return done();for(var a=0;a<i;a++)this._process(this.minimatch.set[a],a,!1,done);function done(){--o._processing,o._processing<=0&&o._finish()}}glob.glob=glob,glob.hasMagic=function(t,n){var r=function extend(t,n){if(null===n||"object"!=typeof n)return t;for(var r=Object.keys(n),i=r.length;i--;)t[r[i]]=n[r[i]];return t}({},n);r.noprocess=!0;var i=new Glob(t,r).minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if("string"!=typeof i[0][o])return!0;return!1},glob.Glob=Glob,c(Glob,u),Glob.prototype._finish=function(){if(p(this instanceof Glob),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();m.finish(this),this.emit("end",this.found)}},Glob.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var n=this,r=0;r<this.matches.length;r++)this._realpathSet(r,next)}function next(){0==--t&&n._finish()}},Glob.prototype._realpathSet=function(t,n){var r=this.matches[t];if(!r)return n();var i=Object.keys(r),a=this,c=i.length;if(0===c)return n();var u=this.matches[t]=Object.create(null);i.forEach((function(r,i){r=a._makeAbs(r),o.realpath(r,a.realpathCache,(function(i,o){i?"stat"===i.syscall?u[r]=!0:a.emit("error",i):u[o]=!0,0==--c&&(a.matches[t]=u,n())}))}))},Glob.prototype._mark=function(t){return m.mark(this,t)},Glob.prototype._makeAbs=function(t){return m.makeAbs(this,t)},Glob.prototype.abort=function(){this.aborted=!0,this.emit("abort")},Glob.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},Glob.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var n=0;n<t.length;n++){var r=t[n];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(n=0;n<i.length;n++){var o=i[n];this._processing--,this._process(o[0],o[1],o[2],o[3])}}}},Glob.prototype._process=function(t,n,r,i){if(p(this instanceof Glob),p("function"==typeof i),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,n,r,i]);else{for(var o,c=0;"string"==typeof t[c];)c++;switch(c){case t.length:return void this._processSimple(t.join("/"),n,i);case 0:o=null;break;default:o=t.slice(0,c).join("/")}var u,l=t.slice(c);null===o?u=".":d(o)||d(t.join("/"))?(o&&d(o)||(o="/"+o),u=o):u=o;var h=this._makeAbs(u);if(x(this,u))return i();l[0]===a.GLOBSTAR?this._processGlobStar(o,u,h,l,n,r,i):this._processReaddir(o,u,h,l,n,r,i)}},Glob.prototype._processReaddir=function(t,n,r,i,o,a,c){var u=this;this._readdir(r,a,(function(l,p){return u._processReaddir2(t,n,r,i,o,a,p,c)}))},Glob.prototype._processReaddir2=function(t,n,r,i,o,a,c,u){if(!c)return u();for(var p=i[0],d=!!this.minimatch.negate,h=p._glob,m=this.dot||"."===h.charAt(0),g=[],y=0;y<c.length;y++){if("."!==(x=c[y]).charAt(0)||m)(d&&!t?!x.match(p):x.match(p))&&g.push(x)}var v=g.length;if(0===v)return u();if(1===i.length&&!this.mark&&!this.stat){this.matches[o]||(this.matches[o]=Object.create(null));for(y=0;y<v;y++){var x=g[y];t&&(x="/"!==t?t+"/"+x:t+x),"/"!==x.charAt(0)||this.nomount||(x=l.join(this.root,x)),this._emitMatch(o,x)}return u()}i.shift();for(y=0;y<v;y++){x=g[y];t&&(x="/"!==t?t+"/"+x:t+x),this._process([x].concat(i),o,a,u)}u()},Glob.prototype._emitMatch=function(t,n){if(!this.aborted&&!C(this,n))if(this.paused)this._emitQueue.push([t,n]);else{var r=d(n)?n:this._makeAbs(n);if(this.mark&&(n=this._mark(n)),this.absolute&&(n=r),!this.matches[t][n]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[t][n]=!0;var o=this.statCache[r];o&&this.emit("stat",n,o),this.emit("match",n)}}},Glob.prototype._readdirInGlobStar=function(t,n){if(!this.aborted){if(this.follow)return this._readdir(t,!1,n);var r=this,o=v("lstat\0"+t,(function lstatcb_(i,o){if(i&&"ENOENT"===i.code)return n();var a=o&&o.isSymbolicLink();r.symlinks[t]=a,a||!o||o.isDirectory()?r._readdir(t,!1,n):(r.cache[t]="FILE",n())}));o&&i.lstat(t,o)}},Glob.prototype._readdir=function(t,n,r){if(!this.aborted&&(r=v("readdir\0"+t+"\0"+n,r))){if(n&&!y(this.symlinks,t))return this._readdirInGlobStar(t,r);if(y(this.cache,t)){var o=this.cache[t];if(!o||"FILE"===o)return r();if(Array.isArray(o))return r(null,o)}i.readdir(t,function readdirCb(t,n,r){return function(i,o){i?t._readdirError(n,i,r):t._readdirEntries(n,o,r)}}(this,t,r))}},Glob.prototype._readdirEntries=function(t,n,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<n.length;i++){var o=n[i];o="/"===t?t+o:t+"/"+o,this.cache[o]=!0}return this.cache[t]=n,r(null,n)}},Glob.prototype._readdirError=function(t,n,r){if(!this.aborted){switch(n.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var o=new Error(n.code+" invalid cwd "+this.cwd);o.path=this.cwd,o.code=n.code,this.emit("error",o),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",n),this.abort()),this.silent||console.error("glob error",n)}return r()}},Glob.prototype._processGlobStar=function(t,n,r,i,o,a,c){var u=this;this._readdir(r,a,(function(l,p){u._processGlobStar2(t,n,r,i,o,a,p,c)}))},Glob.prototype._processGlobStar2=function(t,n,r,i,o,a,c,u){if(!c)return u();var l=i.slice(1),p=t?[t]:[],d=p.concat(l);this._process(d,o,!1,u);var h=this.symlinks[r],m=c.length;if(h&&a)return u();for(var g=0;g<m;g++){if("."!==c[g].charAt(0)||this.dot){var y=p.concat(c[g],l);this._process(y,o,!0,u);var v=p.concat(c[g],i);this._process(v,o,!0,u)}}u()},Glob.prototype._processSimple=function(t,n,r){var i=this;this._stat(t,(function(o,a){i._processSimple2(t,n,o,a,r)}))},Glob.prototype._processSimple2=function(t,n,r,i,o){if(this.matches[n]||(this.matches[n]=Object.create(null)),!i)return o();if(t&&d(t)&&!this.nomount){var a=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=l.join(this.root,t):(t=l.resolve(this.root,t),a&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(n,t),o()},Glob.prototype._stat=function(t,n){var r=this._makeAbs(t),o="/"===t.slice(-1);if(t.length>this.maxLength)return n();if(!this.stat&&y(this.cache,r)){var a=this.cache[r];if(Array.isArray(a)&&(a="DIR"),!o||"DIR"===a)return n(null,a);if(o&&"FILE"===a)return n()}var c=this.statCache[r];if(void 0!==c){if(!1===c)return n(null,c);var u=c.isDirectory()?"DIR":"FILE";return o&&"FILE"===u?n():n(null,u,c)}var l=this,p=v("stat\0"+r,(function lstatcb_(o,a){if(a&&a.isSymbolicLink())return i.stat(r,(function(i,o){i?l._stat2(t,r,null,a,n):l._stat2(t,r,i,o,n)}));l._stat2(t,r,o,a,n)}));p&&i.lstat(r,p)},Glob.prototype._stat2=function(t,n,r,i,o){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[n]=!1,o();var a="/"===t.slice(-1);if(this.statCache[n]=i,"/"===n.slice(-1)&&i&&!i.isDirectory())return o(null,!1,i);var c=!0;return i&&(c=i.isDirectory()?"DIR":"FILE"),this.cache[n]=this.cache[n]||c,a&&"FILE"===c?o():o(null,c,i)}},function(t,n,r){"use strict";function posix(t){return"/"===t.charAt(0)}function win32(t){var n=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=n[1]||"",i=Boolean(r&&":"!==r.charAt(1));return Boolean(n[2]||i)}t.exports="win32"===process.platform?win32:posix,t.exports.posix=posix,t.exports.win32=win32},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(7);n.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var o="DiagnosticChannel";if(n.IsInitialized){var a=r(139),c=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),u={bunyan:a.bunyan,console:a.console,mongodb:a.mongodb,mongodbCore:a.mongodbCore,mysql:a.mysql,redis:a.redis,pg:a.pg,pgPool:a.pgPool,winston:a.winston};for(var l in u)-1===c.indexOf(l)&&(u[l].enable(),i.info(o,"Subscribed to "+l+" events"));c.length>0&&i.info(o,"Some modules will not be patched",c)}else i.info(o,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");n.registerContextPreservation=function registerContextPreservation(t){n.IsInitialized&&r(5).channel.addContextPreservation(t)}},function(t,n){var r;n=t.exports=SemVer,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},n.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,o=n.re=[],a=n.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var p=c++;a[p]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[p]+")";var g=c++;a[g]="(?:"+a[l]+"|"+a[p]+")";var y=c++;a[y]="(?:-("+a[m]+"(?:\\."+a[m]+")*))";var v=c++;a[v]="(?:-?("+a[g]+"(?:\\."+a[g]+")*))";var x=c++;a[x]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[x]+"(?:\\."+a[x]+")*))";var b=c++,w="v?"+a[d]+a[y]+"?"+a[C]+"?";a[b]="^"+w+"$";var k="[v=\\s]*"+a[h]+a[v]+"?"+a[C]+"?",S=c++;a[S]="^"+k+"$";var A=c++;a[A]="((?:<|>)?=?)";var _=c++;a[_]=a[l]+"|x|X|\\*";var D=c++;a[D]=a[u]+"|x|X|\\*";var T=c++;a[T]="[v=\\s]*("+a[D]+")(?:\\.("+a[D]+")(?:\\.("+a[D]+")(?:"+a[y]+")?"+a[C]+"?)?)?";var I=c++;a[I]="[v=\\s]*("+a[_]+")(?:\\.("+a[_]+")(?:\\.("+a[_]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var P=c++;a[P]="^"+a[A]+"\\s*"+a[T]+"$";var L=c++;a[L]="^"+a[A]+"\\s*"+a[I]+"$";var N=c++;a[N]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var M=c++;a[M]="(?:~>?)";var R=c++;a[R]="(\\s*)"+a[M]+"\\s+",o[R]=new RegExp(a[R],"g");var O=c++;a[O]="^"+a[M]+a[T]+"$";var j=c++;a[j]="^"+a[M]+a[I]+"$";var B=c++;a[B]="(?:\\^)";var U=c++;a[U]="(\\s*)"+a[B]+"\\s+",o[U]=new RegExp(a[U],"g");var q=c++;a[q]="^"+a[B]+a[T]+"$";var H=c++;a[H]="^"+a[B]+a[I]+"$";var W=c++;a[W]="^"+a[A]+"\\s*("+k+")$|^$";var $=c++;a[$]="^"+a[A]+"\\s*("+w+")$|^$";var z=c++;a[z]="(\\s*)"+a[A]+"\\s*("+k+"|"+a[T]+")",o[z]=new RegExp(a[z],"g");var V=c++;a[V]="^\\s*("+a[T]+")\\s+-\\s+("+a[T]+")\\s*$";var X=c++;a[X]="^\\s*("+a[I]+")\\s+-\\s+("+a[I]+")\\s*$";var G=c++;a[G]="(<|>)?=?\\s*\\*";for(var J=0;J<35;J++)r(J,a[J]),o[J]||(o[J]=new RegExp(a[J]));function parse(t,n){if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof SemVer)return t;if("string"!=typeof t)return null;if(t.length>256)return null;if(!(n.loose?o[S]:o[b]).test(t))return null;try{return new SemVer(t,n)}catch(t){return null}}function SemVer(t,n){if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof SemVer){if(t.loose===n.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof SemVer))return new SemVer(t,n);r("SemVer",t,n),this.options=n,this.loose=!!n.loose;var a=t.trim().match(n.loose?o[S]:o[b]);if(!a)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var n=+t;if(n>=0&&n<i)return n}return t})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}n.parse=parse,n.valid=function valid(t,n){var r=parse(t,n);return r?r.version:null},n.clean=function clean(t,n){var r=parse(t.trim().replace(/^[=v]+/,""),n);return r?r.version:null},n.SemVer=SemVer,SemVer.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(t){return r("SemVer.compare",this.version,this.options,t),t instanceof SemVer||(t=new SemVer(t,this.options)),this.compareMain(t)||this.comparePre(t)},SemVer.prototype.compareMain=function(t){return t instanceof SemVer||(t=new SemVer(t,this.options)),compareIdentifiers(this.major,t.major)||compareIdentifiers(this.minor,t.minor)||compareIdentifiers(this.patch,t.patch)},SemVer.prototype.comparePre=function(t){if(t instanceof SemVer||(t=new SemVer(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var i=this.prerelease[n],o=t.prerelease[n];if(r("prerelease compare",n,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return compareIdentifiers(i,o)}while(++n)},SemVer.prototype.inc=function(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",n),this.inc("pre",n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},n.inc=function inc(t,n,r,i){"string"==typeof r&&(i=r,r=void 0);try{return new SemVer(t,r).inc(n,i).version}catch(t){return null}},n.diff=function diff(t,n){if(eq(t,n))return null;var r=parse(t),i=parse(n),o="";if(r.prerelease.length||i.prerelease.length){o="pre";var a="prerelease"}for(var c in r)if(("major"===c||"minor"===c||"patch"===c)&&r[c]!==i[c])return o+c;return a},n.compareIdentifiers=compareIdentifiers;var Q=/^[0-9]+$/;function compareIdentifiers(t,n){var r=Q.test(t),i=Q.test(n);return r&&i&&(t=+t,n=+n),t===n?0:r&&!i?-1:i&&!r?1:t<n?-1:1}function compare(t,n,r){return new SemVer(t,r).compare(new SemVer(n,r))}function gt(t,n,r){return compare(t,n,r)>0}function lt(t,n,r){return compare(t,n,r)<0}function eq(t,n,r){return 0===compare(t,n,r)}function neq(t,n,r){return 0!==compare(t,n,r)}function gte(t,n,r){return compare(t,n,r)>=0}function lte(t,n,r){return compare(t,n,r)<=0}function cmp(t,n,r,i){switch(n){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return eq(t,r,i);case"!=":return neq(t,r,i);case">":return gt(t,r,i);case">=":return gte(t,r,i);case"<":return lt(t,r,i);case"<=":return lte(t,r,i);default:throw new TypeError("Invalid operator: "+n)}}function Comparator(t,n){if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof Comparator){if(t.loose===!!n.loose)return t;t=t.value}if(!(this instanceof Comparator))return new Comparator(t,n);r("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===Y?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}n.rcompareIdentifiers=function rcompareIdentifiers(t,n){return compareIdentifiers(n,t)},n.major=function major(t,n){return new SemVer(t,n).major},n.minor=function minor(t,n){return new SemVer(t,n).minor},n.patch=function patch(t,n){return new SemVer(t,n).patch},n.compare=compare,n.compareLoose=function compareLoose(t,n){return compare(t,n,!0)},n.rcompare=function rcompare(t,n,r){return compare(n,t,r)},n.sort=function sort(t,r){return t.sort((function(t,i){return n.compare(t,i,r)}))},n.rsort=function rsort(t,r){return t.sort((function(t,i){return n.rcompare(t,i,r)}))},n.gt=gt,n.lt=lt,n.eq=eq,n.neq=neq,n.gte=gte,n.lte=lte,n.cmp=cmp,n.Comparator=Comparator;var Y={};function Range(t,n){if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof Range)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new Range(t.raw,n);if(t instanceof Comparator)return new Range(t.value,n);if(!(this instanceof Range))return new Range(t,n);if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(t){return this.parseRange(t.trim())}),this).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function isX(t){return!t||"x"===t.toLowerCase()||"*"===t}function hyphenReplace(t,n,r,i,o,a,c,u,l,p,d,h,m){return((n=isX(r)?"":isX(i)?">="+r+".0.0":isX(o)?">="+r+"."+i+".0":">="+n)+" "+(u=isX(l)?"":isX(p)?"<"+(+l+1)+".0.0":isX(d)?"<"+l+"."+(+p+1)+".0":h?"<="+l+"."+p+"."+d+"-"+h:"<="+u)).trim()}function testSet(t,n,i){for(var o=0;o<t.length;o++)if(!t[o].test(n))return!1;if(n.prerelease.length&&!i.includePrerelease){for(o=0;o<t.length;o++)if(r(t[o].semver),t[o].semver!==Y&&t[o].semver.prerelease.length>0){var a=t[o].semver;if(a.major===n.major&&a.minor===n.minor&&a.patch===n.patch)return!0}return!1}return!0}function satisfies(t,n,r){try{n=new Range(n,r)}catch(t){return!1}return n.test(t)}function outside(t,n,r,i){var o,a,c,u,l;switch(t=new SemVer(t,i),n=new Range(n,i),r){case">":o=gt,a=lte,c=lt,u=">",l=">=";break;case"<":o=lt,a=gte,c=gt,u="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(t,n,i))return!1;for(var p=0;p<n.set.length;++p){var d=n.set[p],h=null,m=null;if(d.forEach((function(t){t.semver===Y&&(t=new Comparator(">=0.0.0")),h=h||t,m=m||t,o(t.semver,h.semver,i)?h=t:c(t.semver,m.semver,i)&&(m=t)})),h.operator===u||h.operator===l)return!1;if((!m.operator||m.operator===u)&&a(t,m.semver))return!1;if(m.operator===l&&c(t,m.semver))return!1}return!0}Comparator.prototype.parse=function(t){var n=this.options.loose?o[W]:o[$],r=t.match(n);if(!r)throw new TypeError("Invalid comparator: "+t);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new SemVer(r[2],this.options.loose):this.semver=Y},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(t){return r("Comparator.test",t,this.options.loose),this.semver===Y||("string"==typeof t&&(t=new SemVer(t,this.options)),cmp(t,this.operator,this.semver,this.options))},Comparator.prototype.intersects=function(t,n){if(!(t instanceof Comparator))throw new TypeError("a Comparator is required");var r;if(n&&"object"==typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return r=new Range(t.value,n),satisfies(this.value,r,n);if(""===t.operator)return r=new Range(this.value,n),satisfies(t.semver,r,n);var i=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),a=this.semver.version===t.semver.version,c=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),u=cmp(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),l=cmp(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return i||o||a&&c||u||l},n.Range=Range,Range.prototype.format=function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(t){var n=this.options.loose;t=t.trim();var i=n?o[X]:o[V];t=t.replace(i,hyphenReplace),r("hyphen replace",t),t=t.replace(o[z],"$1$2$3"),r("comparator trim",t,o[z]),t=(t=(t=t.replace(o[R],"$1~")).replace(o[U],"$1^")).split(/\s+/).join(" ");var a=n?o[W]:o[$],c=t.split(" ").map((function(t){return function parseComparator(t,n){return r("comp",t,n),t=function replaceCarets(t,n){return t.trim().split(/\s+/).map((function(t){return function replaceCaret(t,n){r("caret",t,n);var i=n.loose?o[H]:o[q];return t.replace(i,(function(n,i,o,a,c){var u;return r("caret",t,n,i,o,a,c),isX(i)?u="":isX(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":isX(a)?u="0"===i?">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":">="+i+"."+o+".0 <"+(+i+1)+".0.0":c?(r("replaceCaret pr",c),u="0"===i?"0"===o?">="+i+"."+o+"."+a+"-"+c+" <"+i+"."+o+"."+(+a+1):">="+i+"."+o+"."+a+"-"+c+" <"+i+"."+(+o+1)+".0":">="+i+"."+o+"."+a+"-"+c+" <"+(+i+1)+".0.0"):(r("no pr"),u="0"===i?"0"===o?">="+i+"."+o+"."+a+" <"+i+"."+o+"."+(+a+1):">="+i+"."+o+"."+a+" <"+i+"."+(+o+1)+".0":">="+i+"."+o+"."+a+" <"+(+i+1)+".0.0"),r("caret return",u),u}))}(t,n)})).join(" ")}(t,n),r("caret",t),t=function replaceTildes(t,n){return t.trim().split(/\s+/).map((function(t){return function replaceTilde(t,n){var i=n.loose?o[j]:o[O];return t.replace(i,(function(n,i,o,a,c){var u;return r("tilde",t,n,i,o,a,c),isX(i)?u="":isX(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":isX(a)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":c?(r("replaceTilde pr",c),u=">="+i+"."+o+"."+a+"-"+c+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+a+" <"+i+"."+(+o+1)+".0",r("tilde return",u),u}))}(t,n)})).join(" ")}(t,n),r("tildes",t),t=function replaceXRanges(t,n){return r("replaceXRanges",t,n),t.split(/\s+/).map((function(t){return function replaceXRange(t,n){t=t.trim();var i=n.loose?o[L]:o[P];return t.replace(i,(function(n,i,o,a,c,u){r("xRange",t,n,i,o,a,c,u);var l=isX(o),p=l||isX(a),d=p||isX(c);return"="===i&&d&&(i=""),l?n=">"===i||"<"===i?"<0.0.0":"*":i&&d?(p&&(a=0),c=0,">"===i?(i=">=",p?(o=+o+1,a=0,c=0):(a=+a+1,c=0)):"<="===i&&(i="<",p?o=+o+1:a=+a+1),n=i+o+"."+a+"."+c):p?n=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(n=">="+o+"."+a+".0 <"+o+"."+(+a+1)+".0"),r("xRange return",n),n}))}(t,n)})).join(" ")}(t,n),r("xrange",t),t=function replaceStars(t,n){return r("replaceStars",t,n),t.trim().replace(o[G],"")}(t,n),r("stars",t),t}(t,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(c=c.filter((function(t){return!!t.match(a)}))),c=c.map((function(t){return new Comparator(t,this.options)}),this)},Range.prototype.intersects=function(t,n){if(!(t instanceof Range))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return t.set.some((function(t){return t.every((function(t){return r.intersects(t,n)}))}))}))}))},n.toComparators=function toComparators(t,n){return new Range(t,n).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))},Range.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new SemVer(t,this.options));for(var n=0;n<this.set.length;n++)if(testSet(this.set[n],t,this.options))return!0;return!1},n.satisfies=satisfies,n.maxSatisfying=function maxSatisfying(t,n,r){var i=null,o=null;try{var a=new Range(n,r)}catch(t){return null}return t.forEach((function(t){a.test(t)&&(i&&-1!==o.compare(t)||(o=new SemVer(i=t,r)))})),i},n.minSatisfying=function minSatisfying(t,n,r){var i=null,o=null;try{var a=new Range(n,r)}catch(t){return null}return t.forEach((function(t){a.test(t)&&(i&&1!==o.compare(t)||(o=new SemVer(i=t,r)))})),i},n.minVersion=function minVersion(t,n){t=new Range(t,n);var r=new SemVer("0.0.0");if(t.test(r))return r;if(r=new SemVer("0.0.0-0"),t.test(r))return r;r=null;for(var i=0;i<t.set.length;++i){t.set[i].forEach((function(t){var n=new SemVer(t.semver.version);switch(t.operator){case">":0===n.prerelease.length?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":r&&!gt(r,n)||(r=n);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}}))}if(r&&t.test(r))return r;return null},n.validRange=function validRange(t,n){try{return new Range(t,n).range||"*"}catch(t){return null}},n.ltr=function ltr(t,n,r){return outside(t,n,"<",r)},n.gtr=function gtr(t,n,r){return outside(t,n,">",r)},n.outside=outside,n.prerelease=function prerelease(t,n){var r=parse(t,n);return r&&r.prerelease.length?r.prerelease:null},n.intersects=function intersects(t,n,r){return t=new Range(t,r),n=new Range(n,r),t.intersects(n)},n.coerce=function coerce(t){if(t instanceof SemVer)return t;if("string"!=typeof t)return null;var n=t.match(o[N]);if(null==n)return null;return parse(n[1]+"."+(n[2]||"0")+"."+(n[3]||"0"))}},function(t,n){t.exports=require("stream")},function(t,n,r){"use strict";var i=r(47),o=i.wrap,a=i.unwrap,c="wrap@before";function defineProperty(t,n,r){var i=!!t[n]&&t.propertyIsEnumerable(n);Object.defineProperty(t,n,{configurable:!0,enumerable:i,writable:!0,value:r})}function _listeners(t,n){var r;return r=t._events&&t._events[n],Array.isArray(r)||(r=r?[r]:[]),r}function _findAndProcess(t,n,r){var i=_listeners(t,n).filter((function(t){return-1===r.indexOf(t)}));i.length>0&&function _process(t,n){for(var r=n.length,i=0;i<r;i++){var o=n[i],a=t[c];if("function"==typeof a)a(o);else if(Array.isArray(a))for(var u=a.length,l=0;l<u;l++)a[l](o)}}(t,i)}function _wrap(t,n){if(t){var r=t;if("function"==typeof t)r=n(t);else if(Array.isArray(t)){r=[];for(var i=0;i<t.length;i++)r[i]=n(t[i])}return r}}t.exports=function wrapEmitter(t,n,r){if(!(t&&t.on&&t.addListener&&t.removeListener&&t.emit))throw new Error("can only wrap real EEs");if(!n)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function adding(t){return function added(n,r){var i=_listeners(this,n).slice();try{var a=t.call(this,n,r);return _findAndProcess(this,n,i),a}finally{this.on.__wrapped||o(this,"on",adding),this.addListener.__wrapped||o(this,"addListener",adding)}}}t[c]?"function"==typeof t[c]?defineProperty(t,c,[t[c],n]):Array.isArray(t[c])&&t[c].push(n):defineProperty(t,c,n),t.__wrapped||(o(t,"addListener",adding),o(t,"on",adding),o(t,"emit",(function emitting(t){return function emitted(n){if(!this._events||!this._events[n])return t.apply(this,arguments);var i=this._events[n];function remover(t){return function removed(){this._events[n]=i;try{return t.apply(this,arguments)}finally{i=this._events[n],this._events[n]=_wrap(i,r)}}}o(this,"removeListener",remover);try{return this._events[n]=_wrap(i,r),t.apply(this,arguments)}finally{a(this,"removeListener"),this._events[n]=i}}})),defineProperty(t,"__unwrap",(function(){a(t,"addListener"),a(t,"on"),a(t,"emit"),delete t[c],delete t.__wrapped})),defineProperty(t,"__wrapped",!0))}},function(t,n,r){"use strict";function isFunction(t){return"function"==typeof t}var i=console.error.bind(console);function defineProperty(t,n,r){var i=!!t[n]&&t.propertyIsEnumerable(n);Object.defineProperty(t,n,{configurable:!0,enumerable:i,writable:!0,value:r})}function shimmer(t){t&&t.logger&&(isFunction(t.logger)?i=t.logger:i("new logger isn't a function, not replacing"))}function wrap(t,n,r){if(t&&t[n]){if(!r)return i("no wrapper function"),void i((new Error).stack);if(isFunction(t[n])&&isFunction(r)){var o=t[n],a=r(o,n);return defineProperty(a,"__original",o),defineProperty(a,"__unwrap",(function(){t[n]===a&&defineProperty(t,n,o)})),defineProperty(a,"__wrapped",!0),defineProperty(t,n,a),a}i("original object and wrapper must be functions")}else i("no original function "+n+" to wrap")}function unwrap(t,n){return t&&t[n]?t[n].__unwrap?t[n].__unwrap():void i("no original to unwrap to -- has "+n+" already been unwrapped?"):(i("no function to unwrap."),void i((new Error).stack))}shimmer.wrap=wrap,shimmer.massWrap=function massWrap(t,n,r){if(!t)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(t)||(t=[t]),n&&Array.isArray(n)?t.forEach((function(t){n.forEach((function(n){wrap(t,n,r)}))})):i("must provide one or more functions to wrap on modules")},shimmer.unwrap=unwrap,shimmer.massUnwrap=function massUnwrap(t,n){if(!t)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(t)||(t=[t]),n&&Array.isArray(n)?t.forEach((function(t){n.forEach((function(n){unwrap(t,n)}))})):i("must provide one or more functions to unwrap on modules")},t.exports=shimmer},function(t,n){t.exports=require("zlib")},function(t,n,r){"use strict";var i=r(8),o=r(28),a=function(){function AutoCollectPerformance(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,AutoCollectPerformance.INSTANCE||(AutoCollectPerformance.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return AutoCollectPerformance.prototype.enable=function(t,n){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=i.cpus(),this._lastRequests={totalRequestCount:AutoCollectPerformance._totalRequestCount,totalFailedRequestCount:AutoCollectPerformance._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:AutoCollectPerformance._totalDependencyCount,totalFailedDependencyCount:AutoCollectPerformance._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:AutoCollectPerformance._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return r.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},AutoCollectPerformance.countRequest=function(t,n){var r;if(AutoCollectPerformance.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}AutoCollectPerformance._intervalRequestExecutionTime+=r,!1===n&&AutoCollectPerformance._totalFailedRequestCount++,AutoCollectPerformance._totalRequestCount++}},AutoCollectPerformance.countException=function(){AutoCollectPerformance._totalExceptionCount++},AutoCollectPerformance.countDependency=function(t,n){var r;if(AutoCollectPerformance.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}AutoCollectPerformance._intervalDependencyExecutionTime+=r,!1===n&&AutoCollectPerformance._totalFailedDependencyCount++,AutoCollectPerformance._totalDependencyCount++}},AutoCollectPerformance.prototype.isInitialized=function(){return this._isInitialized},AutoCollectPerformance.isEnabled=function(){return AutoCollectPerformance.INSTANCE&&AutoCollectPerformance.INSTANCE._isEnabled},AutoCollectPerformance.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},AutoCollectPerformance.prototype._trackCpu=function(){var t=i.cpus();if(t&&t.length&&this._lastCpus&&t.length===this._lastCpus.length){for(var n=0,r=0,a=0,c=0,u=0,l=0;t&&l<t.length;l++){var p=t[l],d=this._lastCpus[l],h=(p.model,p.speed,p.times),m=d.times;n+=h.user-m.user||0,r+=h.sys-m.sys||0,a+=h.nice-m.nice||0,c+=h.idle-m.idle||0,u+=h.irq-m.irq||0}var g=void 0;if("function"==typeof process.cpuUsage){var y=process.cpuUsage(),v=process.hrtime(),x=y.user-this._lastAppCpuUsage.user+(y.system-this._lastAppCpuUsage.system)||0;if(void 0!==this._lastHrtime&&2===this._lastHrtime.length)g=100*x/((1e6*(v[0]-this._lastHrtime[0])+(v[1]-this._lastHrtime[1])/1e3||0)*t.length);this._lastAppCpuUsage=y,this._lastHrtime=v}var C=n+r+a+c+u||1;this._client.trackMetric({name:o.PerformanceCounter.PROCESSOR_TIME,value:(C-c)/C*100}),this._client.trackMetric({name:o.PerformanceCounter.PROCESS_TIME,value:g||n/C*100})}this._lastCpus=t},AutoCollectPerformance.prototype._trackMemory=function(){var t=i.freemem(),n=process.memoryUsage().rss,r=i.totalmem()-t;this._client.trackMetric({name:o.PerformanceCounter.PRIVATE_BYTES,value:n}),this._client.trackMetric({name:o.PerformanceCounter.AVAILABLE_BYTES,value:t}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.COMMITTED_BYTES,value:r})},AutoCollectPerformance.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:AutoCollectPerformance._totalRequestCount,totalFailedRequestCount:AutoCollectPerformance._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,i=n.totalFailedRequestCount-t.totalFailedRequestCount||0,a=n.time-t.time,c=a/1e3,u=(AutoCollectPerformance._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=AutoCollectPerformance._intervalRequestExecutionTime,a>0){var l=r/c,p=i/c;this._client.trackMetric({name:o.PerformanceCounter.REQUEST_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:o.PerformanceCounter.REQUEST_DURATION,value:u}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.REQUEST_FAILURE_RATE,value:p})}this._lastRequests=n},AutoCollectPerformance.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:AutoCollectPerformance._totalDependencyCount,totalFailedDependencyCount:AutoCollectPerformance._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,i=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,a=n.time-t.time,c=a/1e3,u=(AutoCollectPerformance._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=AutoCollectPerformance._intervalDependencyExecutionTime,a>0){var l=r/c,p=i/c;this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_RATE,value:l}),this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:p}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_DURATION,value:u})}this._lastDependencies=n}},AutoCollectPerformance.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:AutoCollectPerformance._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,i=n.time-t.time;if(i>0){var a=r/(i/1e3);this._client.trackMetric({name:o.QuickPulseCounter.EXCEPTION_RATE,value:a})}this._lastExceptions=n}},AutoCollectPerformance.prototype.dispose=function(){AutoCollectPerformance.INSTANCE=null,this.enable(!1),this._isInitialized=!1},AutoCollectPerformance._totalRequestCount=0,AutoCollectPerformance._totalFailedRequestCount=0,AutoCollectPerformance._lastRequestExecutionTime=0,AutoCollectPerformance._totalDependencyCount=0,AutoCollectPerformance._totalFailedDependencyCount=0,AutoCollectPerformance._lastDependencyExecutionTime=0,AutoCollectPerformance._totalExceptionCount=0,AutoCollectPerformance._intervalDependencyExecutionTime=0,AutoCollectPerformance._intervalRequestExecutionTime=0,AutoCollectPerformance}();t.exports=a},function(t,n,r){"use strict";var i=r(24),o=r(203),a=r(28),c=r(16),u=function(){function Config(t){var n=this;this.endpointBase=a.DEFAULT_BREEZE_ENDPOINT;var r=process.env[Config.ENV_connectionString],i=o.parse(t),u=o.parse(r),l=!i.instrumentationkey&&Object.keys(i).length>0?null:t;this.instrumentationKey=i.instrumentationkey||l||u.instrumentationkey||Config._getInstrumentationKey(),this.endpointUrl=(i.ingestionendpoint||u.ingestionendpoint||this.endpointBase)+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(t){return n.correlationId=t},this.proxyHttpUrl=process.env[Config.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[Config.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=i.ingestionendpoint||u.ingestionendpoint||process.env[Config.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=i.liveendpoint||u.liveendpoint||process.env[Config.ENV_quickPulseHost]||a.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=c.parse(this._quickPulseHost).host)}return Object.defineProperty(Config.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(t){i.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=t,this.correlationId=i.correlationIdPrefix,i.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(Config.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(t){this._quickPulseHost=t},enumerable:!0,configurable:!0}),Config._getInstrumentationKey=function(){var t=process.env[Config.ENV_iKey]||process.env[Config.ENV_azurePrefix+Config.ENV_iKey]||process.env[Config.legacy_ENV_iKey]||process.env[Config.ENV_azurePrefix+Config.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},Config.ENV_azurePrefix="APPSETTING_",Config.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",Config.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",Config.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",Config.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",Config.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",Config.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",Config.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",Config.ENV_http_proxy="http_proxy",Config.ENV_https_proxy="https_proxy",Config}();t.exports=u},function(t,n,r){"use strict";(function(n){var i=r(8),o=r(3),a=r(2),c=r(10),u=r(7),l=function(){function Context(t){this.keys=new c.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return Context.prototype._loadApplicationContext=function(t){if(t=t||a.resolve(n,"../../../../package.json"),!Context.appVersion[t]){Context.appVersion[t]="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(Context.appVersion[t]=r.version)}catch(t){u.info("unable to read app version: ",t)}}this.tags[this.keys.applicationVersion]=Context.appVersion[t]},Context.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=i&&i.hostname(),this.tags[this.keys.deviceOSVersion]=i&&i.type()+" "+i.release(),this.tags[this.keys.cloudRole]=Context.DefaultRoleName,this.tags["ai.device.osArchitecture"]=i&&i.arch(),this.tags["ai.device.osPlatform"]=i&&i.platform()},Context.prototype._loadInternalContext=function(){var t=a.resolve(n,"../../package.json");if(!Context.sdkVersion){Context.sdkVersion="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(Context.sdkVersion=r.version)}catch(t){u.info("unable to read app version: ",t)}}this.tags[this.keys.internalSdkVersion]="node:"+Context.sdkVersion},Context.DefaultRoleName="Web",Context.appVersion={},Context.sdkVersion=null,Context}();t.exports=l}).call(this,"/")},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.insertUnselectedText=void 0;const o=r(0);n.insertUnselectedText=function insertUnselectedText(t,n,r,a){return i(this,void 0,void 0,(function*(){if("****"===r||"**"===r||"``"===r){yield o.insertContentToEditor(t,r,!0);const i=t.selection.active,a="formatBold"===n?i.character+2:i.character+1;o.setCursorPosition(t,i.line,a)}else yield o.insertContentToEditor(t,r,!0,a)}))}},function(t,n,r){"use strict";function isBoldAndItalic(t){return!(!t.trim().match(/^(\*\*\*)(.|\s*)+(\*\*\*)$/g)&&"******"!==t.trim())}function isBold(t){return!(!t.trim().match(/^(\*\*)(.|\s*)+(\*\*)$/g)&&"****"!==t.trim())||!!isBoldAndItalic(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.bold=n.isItalic=n.isBold=n.isBoldAndItalic=n.isMultiLineCode=n.isInlineCode=void 0,n.isInlineCode=function isInlineCode(t){return!(!t.trim().match(/^(\`)(.|\s*|[^`])+(\`)$/g)&&"``"!==t.trim())},n.isMultiLineCode=function isMultiLineCode(t){return!(!t.trim().match(/^(\`\`\`)(.|\s*)+(\`\`\`)$/g)&&"``````"!==t.trim())},n.isBoldAndItalic=isBoldAndItalic,n.isBold=isBold,n.isItalic=function isItalic(t){return!(!t.trim().match(/^(\*)[^\*]+(.|\s*)+[^\*]+(\*)$/g)&&"**"!==t.trim())||!!isBoldAndItalic(t)},n.bold=function bold(t){const n=t.trim();return isBold(t)||isBoldAndItalic(t)?n.substring(2,n.length-2):`**${n}**`}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.generateMasterRedirectionFile=void 0;const o=r(3),a=r(8),c=r(2),u=r(13),l=r(1),p=r(0),d=r(4),h=r(35),m=r(58),g=r(262),y=r(32),v=r(36);n.generateMasterRedirectionFile=function generateMasterRedirectionFile(t,n){return i(this,void 0,void 0,(function*(){const r=l.window.activeTextEditor;let i;if(r){d.sendTelemetryData(m.RedirectTelemetryCommand,"");const x=r.document.uri;let C=l.workspace.getWorkspaceFolder(x);if(!C&&t&&(C=l.workspace.getWorkspaceFolder(l.Uri.file(t))),C){const t=C.name.toLowerCase();i=C.uri.fsPath;const r=new Date(Date.now());if(null==i)return void p.postError("No workspace is opened.");const l=c.join(i,".git");if(!o.existsSync(l))return void p.postError("Current workspace is not root folder of a repo.");const d=yield u(i,p.ignoreFiles),x=[],b=[];if(p.showStatusMessage("Generating Master Redirection file."),d.filter(t=>".md"===c.extname(t.toLowerCase())).forEach(t=>{const n=o.readFileSync(t,"utf8"),r=new h.MarkdownFileMetadataContent(n,t);try{const n=r.getYamlMetadataContent();if(""!==n){const r=v.load(n.toLowerCase());null!=r&&null!=r.redirect_url&&(!0!==r.redirect_document_id&&(r.redirect_document_id=!1),x.push(new g.RedirectionFile(t,r.redirect_url,r.redirect_document_id,C)))}}catch(n){b.push({errorMessage:n,fileName:t})}}),0===x.length&&(p.showStatusMessage("No redirection files found."),n&&n()),x.length>0){let u;const l=c.join(i,m.RedirectFileName);if(o.existsSync(l))try{u=JSON.parse(o.readFileSync(l,"utf8"))}catch(t){return void p.showStatusMessage("Invalid JSON: "+t)}else u=null,p.showStatusMessage("Created new redirection file.");if(null==u)u=new y.MasterRedirection(x);else{const t=[];u.redirections.forEach(n=>{n.source_path?t.push(n.source_path.toLowerCase()):p.showStatusMessage("An array is missing the sourcePath value. Please check .openpublishing.redirection.json.")}),x.forEach(r=>{t.indexOf(r.source_path.toLowerCase())>=0?r.isAlreadyInMasterRedirectionFile=!0:null!=u?u.redirections.push(r):(p.showStatusMessage("No redirection files found to add."),n&&n())})}if(u.redirections.length>0){u.redirections.sort((t,n)=>p.naturalLanguageCompare(t.source_path,n.source_path)),o.writeFileSync(l,JSON.stringify(u,["redirections","source_path","redirect_url","redirect_document_id"],4));const i=t+"_deleted_redirects_"+(r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+"_"+r.getHours()+"-"+r.getMinutes()+"-"+r.getMilliseconds()),d=c.join(a.homedir(),"Docs Authoring"),h=c.join(d,"redirects"),m=c.join(h,i);o.existsSync(h)?o.mkdirSync(m):(o.existsSync(d)||o.mkdirSync(d),o.existsSync(h)||o.mkdirSync(h),o.existsSync(m)||o.mkdirSync(m)),x.forEach(t=>{const n=o.createReadStream(t.fileFullPath),r=o.createWriteStream(c.join(m,c.basename(t.source_path)));n.pipe(r),n.on("close",()=>{o.unlink(t.fileFullPath,t=>{t&&p.postError("Error: "+t)})})}),x.forEach(t=>{t.isAlreadyInMasterRedirectionFile?p.showStatusMessage("Already in master redirection file: "+t.fileFullPath):p.showStatusMessage("Added to master redirection file. "+t.fileFullPath)}),p.showStatusMessage("Redirected files copied to "+m),p.showStatusMessage("Done"),n&&n()}}}}}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.markdownCodeActionProvider=n.markdownCompletionItemsProvider=n.getLanguageIdentifierQuickPickItems=n.insertLanguageIdentifier=n.languages=n.insertLanguageCommands=void 0;const o=r(1),a=r(0);n.insertLanguageCommands=function insertLanguageCommands(){return[{command:insertLanguageIdentifier.name,callback:insertLanguageIdentifier}]},n.languages=[{language:".NET Core CLI",aliases:["dotnetcli"]},{language:"AL",aliases:["al"]},{language:"Apache",aliases:["apache","apacheconf"]},{language:"ARM assembler",aliases:["armasm","arm"]},{language:"ASPX",aliases:["aspx"]},{language:"ASP.NET (C#)",aliases:["aspx-csharp"]},{language:"ASP.NET (VB)",aliases:["aspx-vb"]},{language:"AzCopy",aliases:["azcopy"]},{language:"Azure CLI",aliases:["azurecli"]},{language:"Azure CLI (Interactive)",aliases:["azurecli-interactive"]},{language:"Azure Powershell",aliases:["azurepowershell"]},{language:"Azure Powershell (Interactive)",aliases:["azurepowershell-interactive"]},{language:"Bash",aliases:["bash","sh","zsh"],extensions:[".sh",".bash"]},{language:"C",aliases:["c"],extensions:[".c"]},{language:"C#",aliases:["csharp","cs"],extensions:[".cs"]},{language:"C# (Interactive)",aliases:["csharp-interactive"]},{language:"C++",aliases:["cpp","c","cc","h","c++","h++","hpp"],extensions:[".cpp",".h",".hpp",".cc"]},{language:"C++/CX",aliases:["cppcx"]},{language:"C++/WinRT",aliases:["cppwinrt"]},{language:"CSS",aliases:["css"]},{language:"DAX Power BI",aliases:["dax"]},{language:"DOS",aliases:["dos","bat","cmd"],extensions:[".bat",".cmd"]},{language:"Dockerfile",aliases:["dockerfile","docker"]},{language:"F#",aliases:["fsharp","fs"],extensions:[".fs",".fsi",".fsx"]},{language:"Go",aliases:["go","golang"],extensions:[".go"]},{language:"Gradle",aliases:["gradle"]},{language:"Groovy",aliases:["groovy"]},{language:"HashiCorp Configuration Language (HCL)",aliases:["terraform","tf","hcl"]},{language:"HTML",aliases:["html","xhtml"],extensions:[".html",".xhtml"]},{language:"HTTP",aliases:["http","https"]},{language:"Ini",aliases:["ini"],extensions:[".ini"]},{language:"JSON",aliases:["json"],extensions:[".json"]},{language:"Java",aliases:["java","jsp"],extensions:[".java",".jsp"]},{language:"JavaScript",aliases:["javascript","js","jsx"],extensions:[".js",".jsx"]},{language:"Kotlin",aliases:["kotlin","kt"]},{language:"Kusto",aliases:["kusto"]},{language:"Makefile",aliases:["makefile","mk","mak"],extensions:[".gmk",".mk",".mak"]},{language:"Markdown",aliases:["markdown","md","mkdown","mkd"],extensions:[".md",".markdown",".mdown",".mkd",".mdwn",".mdtxt",".mdtext",".rmd"]},{language:"Managed Object Format",aliases:["mof"]},{language:"MS Graph (Interactive)",aliases:["msgraph-interactive"]},{language:"Nginx",aliases:["nginx","nginxconf"]},{language:"Node.js",aliases:["nodejs"]},{language:"Objective C",aliases:["objectivec","mm","objc","obj-c"],extensions:[".m",".h"]},{language:"Odata",aliases:["odata"]},{language:"PHP",aliases:["php","php3","php4","php5","php6"],extensions:[".php",".php3",".php4",".php5",".phtml"]},{language:"PowerApps Formula",aliases:["powerappsfl"]},{language:"PowerShell",aliases:["powershell","ps"],extensions:[".ps",".ps1",".psd1",".psm1"]},{language:"PowerShell (Interactive)",aliases:["powershell-interactive"]},{language:"Properties",aliases:["properties"]},{language:"Protocol Buffers",aliases:["protobuf"]},{language:"Python",aliases:["python","py","gyp"],extensions:[".py"]},{language:"Q#",aliases:["qsharp"]},{language:"R",aliases:["r"],extensions:[".r"]},{language:"Razor CSHTML",aliases:["razor","cshtml","razor-cshtml"],extensions:[".cshtml",".razor"]},{language:"REST API",aliases:["rest"]},{language:"Ruby",aliases:["ruby","rb","gemspec","podspec","thor","irb"],extensions:[".rb"]},{language:"SQL",aliases:["sql"],extensions:[".sql"]},{language:"Scala",aliases:["scala"],extensions:[".scala",".sc"]},{language:"Solidity",aliases:["solidity","sol"]},{language:"Swift",aliases:["swift"],extensions:[".swift"]},{language:"Transact-SQL",aliases:["tsql"]},{language:"TypeScript",aliases:["typescript","ts"],extensions:[".ts",".d.ts"]},{language:"VB.NET",aliases:["vbnet","vb"],extensions:[".vb",".bas",".vba"]},{language:"VB for Applications",aliases:["vba"],extensions:[".vba"]},{language:"VBScript",aliases:["vbscript","vbs"],extensions:[".vbs"]},{language:"VSTS CLI",aliases:["vstscli"]},{language:"XAML",aliases:["xaml"],extensions:[".xaml"]},{language:"XML",aliases:["xml","xhtml","rss","atom","xjb","xsd","xsl","plist"],extensions:[".xml",".xhtml",".rss",".atom",".xjb",".xsd",".xsl",".plist",".xml",".csdl",".edmx",".xslt",".wsdl"]},{language:"X++",aliases:["xpp"],extensions:[".xpp"]},{language:"YAML",aliases:["yml","yaml"],extensions:["yml","yaml"]}];const c=n.languages.reduce((t,n)=>t.concat(n.aliases),[""]);function isValidCodeLang(t){return c.some(n=>n===t.toLowerCase())}function insertLanguageIdentifier(t){return i(this,void 0,void 0,(function*(){const r=o.window.activeTextEditor;if(!r)return void a.noActiveEditorMessage();const i=t||r.selection;if(i){const t=getLanguageIdentifierQuickPickItems(),c=yield o.window.showQuickPick(t);if(c){const t=n.languages.find(t=>t.language===c.label);if(t){const n=t.aliases[0];a.insertContentToEditor(r,n,!0,i)}}}else o.window.showWarningMessage("Please first make a selection to insert a language identifier.")}))}function getLanguageIdentifierQuickPickItems(){const t=[],n=getConfiguredLanguages();return n&&n.forEach(n=>{const r={description:`Use the "${n.language.trim()}" language identifer (alias: ${n.aliases[0]}).`,label:n.language};t.push(r)}),t}function getLanguageIdentifierCompletionItems(t,n){if(t){const t=[],r=getConfiguredLanguages();return r&&r.forEach(n=>{const r=n.aliases[0],i=new o.MarkdownString("Output:");i.appendCodeblock("",r);const a=new o.CompletionItem(n.language,o.CompletionItemKind.Value);a.detail=i.value,a.documentation=new o.MarkdownString(`Use the _${n.language}_ language identifer (alias: _${r}_).`),a.insertText=new o.SnippetString(r+"\n$0\n```"),a.sortText=n.language,t.push(a)}),n?void 0:t}}function getConfiguredLanguages(){const t=o.workspace.getConfiguration("markdown");if(!t)return n.languages;const r=t.docsetLanguages,i=!t.allAvailableLanguages&&r&&r.length?n.languages.filter(t=>r.some(n=>n===t.language)):n.languages;return i.sort((t,n)=>a.naturalLanguageCompare(t.language,n.language)),i}n.insertLanguageIdentifier=insertLanguageIdentifier,n.getLanguageIdentifierQuickPickItems=getLanguageIdentifierQuickPickItems,n.markdownCompletionItemsProvider={provideCompletionItems(t,n,r,i){const o=t.getWordRangeAtPosition(n,/```/);if(o){const n=t.getText();if(n){const i=/```/gm,c=a.matchAll(i,n);if(c)for(let n=0;n<c.length;++n)if(n%2==0){const i=c[n];if(i){const n=i.index||-1,a=t.positionAt(n),c=a.line===o.start.line&&a.character>=o.start.character||a.line===o.end.line&&a.character<=o.end.character;if(n>=0&&c)return getLanguageIdentifierCompletionItems(o,r.isCancellationRequested)}}}}}},n.markdownCodeActionProvider={provideCodeActions(t,n,r,i){const c=/`{3,4}(.*?[^```])$/gm,u=t.getText(),l=[];for(const n of a.matchAll(c,u).filter(t=>!!t))if(n){const r=n[1]||void 0;if(r&&"\r"!==r&&"\n"!==r){const i=n.index||-1;if(r&&i>=0&&!isValidCodeLang(r)){const n=new o.CodeAction(`Click to fix unrecognized "${r}" code-fence language identifer`,o.CodeActionKind.QuickFix),a=i+3,c=t.positionAt(a),u=t.positionAt(a+r.length),p=new o.Range(c,u),d=new o.Diagnostic(p,"Select from available code-fence language identifiers",o.DiagnosticSeverity.Warning);(n.diagnostics||(n.diagnostics=[])).push(d),n.command={arguments:[p],command:"insertLanguageIdentifier",title:"Insert language identifier",tooltip:"Select from the available language identifiers."},l.push(n)}}}return i.isCancellationRequested?void 0:l}}},function(t,n){var r,i;t.exports=(r=process.versions.node,i=r.split("."),{original:"v"+r,short:i[0]+"."+i[1],long:r,major:i[0],minor:i[1],build:i[2]})},function(t,n,r){"use strict";var i=r(26);t.exports=new i({explicit:[r(239),r(240),r(241)]})},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DocsMicrosoftCom=n.MarkdownExtensionSettingsPath=n.OpenSettingsCommand=n.Markdown=n.RedirectDocumentId=n.RedirectFileName=n.RedirectTelemetryCommand=void 0,n.RedirectTelemetryCommand="masterRedirect",n.RedirectFileName=".openpublishing.redirection.json",n.RedirectDocumentId="redirect_document_id",n.Markdown="markdown",n.OpenSettingsCommand="workbench.action.openSettings",n.MarkdownExtensionSettingsPath="@ext:docsmsft.docs-markdown",n.DocsMicrosoftCom="docs.microsoft.com"},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.applyXref=n.applyXrefCommand=void 0;const o=r(1),a=r(0),c=r(4),u=r(269),l=r(270);function applyXref(){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;if(!t)return void a.noActiveEditorMessage();if(!a.isMarkdownFileCheck(t,!1))return;let n="";const r=t.selection,i=t.document.getText(r),p=yield l.getXrefSelection();if(!p)return;if(""===i){const t=yield l.getXrefDisplayProperty();t&&"none"!==t.label&&(p.label=`${p.label}?displayProperty=${t.label}`),n=`<xref:${u.encodeSpecialXrefCharacters(p.label)}>`}else n=`[${i}](xref:${p.label})`;yield a.insertContentToEditor(t,n,!0);const d=t.selection.active,h="applyXref"===applyXref.name?d.character+n.length:d.character+1;a.setCursorPosition(t,d.line,h),c.sendTelemetryData("applyXref","")}))}n.applyXrefCommand=function applyXrefCommand(){return[{command:applyXref.name,callback:applyXref}]},n.applyXref=applyXref},function(t,n,r){t.exports=r(272)},function(t,n,r){"use strict";var i=r(9);function encode(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function buildURL(t,n,r){if(!n)return t;var o;if(r)o=r(n);else if(i.isURLSearchParams(n))o=n.toString();else{var a=[];i.forEach(n,(function serialize(t,n){null!=t&&(i.isArray(t)?n+="[]":t=[t],i.forEach(t,(function parseValue(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(encode(n)+"="+encode(t))})))})),o=a.join("&")}if(o){var c=t.indexOf("#");-1!==c&&(t=t.slice(0,c)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,n,r){"use strict";var i=r(107);t.exports=function createError(t,n,r,o,a){var c=new Error(t);return i(c,n,r,o,a)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.insertAlert=n.insertAlertCommand=void 0;const i=r(1),o=r(0),a=r(135),c=r(4);let u;function insertAlert(){const t=i.window.activeTextEditor;if(t){const n=t.selection,r=t.document.getText(n);let l;if(!o.isMarkdownFileCheck(t,!1))return;const p=["Note – Information the user should notice even if skimming","Tip - Optional information to help a user be more successful","Important – Essential information required for user success","Caution - Negative potential consequences of an action","Warning – Dangerous certain consequences of an action"];i.window.showQuickPick(p).then(n=>{n&&(l=a.format(r,p.indexOf(n)),t&&(o.insertContentToEditor(t,l,!0),n.startsWith("Note")&&(u="note"),n.startsWith("Tip")&&(u="tip"),n.startsWith("Important")&&(u="important"),n.startsWith("Caution")&&(u="caution"),n.startsWith("Warning")&&(u="warning"),c.sendTelemetryData("insertAlert",u)))})}else o.noActiveEditorMessage()}n.insertAlertCommand=function insertAlertCommand(){return[{command:insertAlert.name,callback:insertAlert}]},n.insertAlert=insertAlert},function(t,n,r){t.exports=realpath,realpath.realpath=realpath,realpath.sync=realpathSync,realpath.realpathSync=realpathSync,realpath.monkeypatch=function monkeypatch(){i.realpath=realpath,i.realpathSync=realpathSync},realpath.unmonkeypatch=function unmonkeypatch(){i.realpath=o,i.realpathSync=a};var i=r(3),o=i.realpath,a=i.realpathSync,c=process.version,u=/^v[0-5]\./.test(c),l=r(127);function newError(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function realpath(t,n,r){if(u)return o(t,n,r);"function"==typeof n&&(r=n,n=null),o(t,n,(function(i,o){newError(i)?l.realpath(t,n,r):r(i,o)}))}function realpathSync(t,n){if(u)return a(t,n);try{return a(t,n)}catch(r){if(newError(r))return l.realpathSync(t,n);throw r}}},function(t,n){t.exports=require("events")},function(t,n,r){function ownProp(t,n){return Object.prototype.hasOwnProperty.call(t,n)}n.alphasort=alphasort,n.alphasorti=alphasorti,n.setopts=function setopts(t,n,r){r||(r={});if(r.matchBase&&-1===n.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");n="**/"+n}t.silent=!!r.silent,t.pattern=n,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0);t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function setupIgnores(t,n){t.ignore=n.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(ignoreMap))}(t,r),t.changedCwd=!1;var o=process.cwd();ownProp(r,"cwd")?(t.cwd=i.resolve(r.cwd),t.changedCwd=t.cwd!==o):t.cwd=o;t.root=r.root||i.resolve(t.cwd,"/"),t.root=i.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.cwdAbs=a(t.cwd)?t.cwd:makeAbs(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new c(n,r),t.options=t.minimatch.options},n.ownProp=ownProp,n.makeAbs=makeAbs,n.finish=function finish(t){for(var n=t.nounique,r=n?[]:Object.create(null),i=0,o=t.matches.length;i<o;i++){var a=t.matches[i];if(a&&0!==Object.keys(a).length){var c=Object.keys(a);n?r.push.apply(r,c):c.forEach((function(t){r[t]=!0}))}else if(t.nonull){var u=t.minimatch.globSet[i];n?r.push(u):r[u]=!0}}n||(r=Object.keys(r));t.nosort||(r=r.sort(t.nocase?alphasorti:alphasort));if(t.mark){for(i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter((function(n){var r=!/\/$/.test(n),i=t.cache[n]||t.cache[makeAbs(t,n)];return r&&i&&(r="DIR"!==i&&!Array.isArray(i)),r})))}t.ignore.length&&(r=r.filter((function(n){return!isIgnored(t,n)})));t.found=r},n.mark=function mark(t,n){var r=makeAbs(t,n),i=t.cache[r],o=n;if(i){var a="DIR"===i||Array.isArray(i),c="/"===n.slice(-1);if(a&&!c?o+="/":!a&&c&&(o=o.slice(0,-1)),o!==n){var u=makeAbs(t,o);t.statCache[u]=t.statCache[r],t.cache[u]=t.cache[r]}}return o},n.isIgnored=isIgnored,n.childrenIgnored=function childrenIgnored(t,n){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(n))}))};var i=r(2),o=r(33),a=r(42),c=o.Minimatch;function alphasorti(t,n){return t.toLowerCase().localeCompare(n.toLowerCase())}function alphasort(t,n){return t.localeCompare(n)}function ignoreMap(t){var n=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");n=new c(r,{dot:!0})}return{matcher:new c(t,{dot:!0}),gmatcher:n}}function makeAbs(t,n){var r=n;return r="/"===n.charAt(0)?i.join(t.root,n):a(n)||""===n?n:t.changedCwd?i.resolve(t.cwd,n):i.resolve(n),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function isIgnored(t,n){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(n)||!(!t.gmatcher||!t.gmatcher.match(n))}))}},function(t,n){t.exports=function wrappy(t,n){if(t&&n)return wrappy(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(n){wrapper[n]=t[n]})),wrapper;function wrapper(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var i=t.apply(this,n),o=n[n.length-1];return"function"==typeof i&&i!==o&&Object.keys(o).forEach((function(t){i[t]=o[t]})),i}}},function(t,n,r){var i=r(67);function once(t){var f=function(){return f.called?f.value:(f.called=!0,f.value=t.apply(this,arguments))};return f.called=!1,f}function onceStrict(t){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return f.onceError=n+" shouldn't be called more than once",f.called=!1,f}t.exports=i(once),t.exports.strict=i(onceStrict),once.proto=once((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})}))},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AlertTags=void 0,n.AlertTags=["> [!NOTE]\r\n","> [!TIP]\r\n","> [!IMPORTANT]\r\n","> [!CAUTION]\r\n","> [!WARNING]\r\n"]},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(2),o=r(44),a=r(71),c=Object.keys(process.binding("natives")),u=a.prototype.require;n.makePatchingRequire=function makePatchingRequire(t){var n={};return function patchedRequire(r){var l=u.apply(this,arguments);if(t[r]){var p=a._resolveFilename(r,this);if(n.hasOwnProperty(p))return n[p];var d=void 0;if(c.indexOf(r)<0)try{d=u.call(this,i.join(r,"package.json")).version}catch(t){return l}else d=process.version.substring(1);var h=d.indexOf("-");h>=0&&(d=d.substring(0,h));for(var m=l,g=0,y=t[r];g<y.length;g++){var v=y[g];o.satisfies(d,v.versionSpecifier)&&(m=v.patch(m,p))}return n[p]=m}return l}}},function(t,n){t.exports=require("module")},function(t,n){t.exports=require("timers")},function(t){t.exports=JSON.parse('{"_from":"async-hook-jl@^1.7.6","_id":"async-hook-jl@1.7.6","_inBundle":false,"_integrity":"sha512-gFaHkFfSxTjvoxDMYqDuGHlcRyUuamF8s+ZTtJdDzqjws4mCt7v0vuV79/E2Wr2/riMQgtG4/yUtXWs1gZ7JMg==","_location":"/async-hook-jl","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"async-hook-jl@^1.7.6","name":"async-hook-jl","escapedName":"async-hook-jl","rawSpec":"^1.7.6","saveSpec":null,"fetchSpec":"^1.7.6"},"_requiredBy":["/cls-hooked"],"_resolved":"https://registry.npmjs.org/async-hook-jl/-/async-hook-jl-1.7.6.tgz","_shasum":"4fd25c2f864dbaf279c610d73bf97b1b28595e68","_spec":"async-hook-jl@^1.7.6","_where":"D:\\\\a\\\\1\\\\s\\\\packages\\\\docs-markdown\\\\node_modules\\\\cls-hooked","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/jeff-lewis/async-hook-jl/issues"},"bundleDependencies":false,"dependencies":{"stack-chain":"^1.3.7"},"deprecated":false,"description":"Inspect the life of handle objects in node","devDependencies":{"async":"1.5.x","cli-color":"1.1.x","endpoint":"0.4.x","eslint":"^3.4.0"},"engines":{"node":"^4.7 || >=6.9 || >=7.3"},"homepage":"https://github.com/jeff-lewis/async-hook-jl#readme","keywords":["async","async hooks","inspect","async wrap"],"license":"MIT","main":"./index.js","name":"async-hook-jl","repository":{"type":"git","url":"git://github.com/jeff-lewis/async-hook-jl.git"},"scripts":{"test":"node ./test/runner.js && eslint ."},"version":"1.7.6"}')},function(t,n,r){if(global._stackChain){if(global._stackChain.version!==r(75).version)throw new Error("Conflicting version of stack-chain found");t.exports=global._stackChain}else t.exports=global._stackChain=r(164)},function(t){t.exports=JSON.parse('{"_from":"stack-chain@^1.3.7","_id":"stack-chain@1.3.7","_inBundle":false,"_integrity":"sha1-0ZLJ/06moiyUxN1FkXHj8AzqEoU=","_location":"/stack-chain","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"stack-chain@^1.3.7","name":"stack-chain","escapedName":"stack-chain","rawSpec":"^1.3.7","saveSpec":null,"fetchSpec":"^1.3.7"},"_requiredBy":["/async-hook-jl"],"_resolved":"https://registry.npmjs.org/stack-chain/-/stack-chain-1.3.7.tgz","_shasum":"d192c9ff4ea6a22c94c4dd459171e3f00cea1285","_spec":"stack-chain@^1.3.7","_where":"D:\\\\a\\\\1\\\\s\\\\packages\\\\docs-markdown\\\\node_modules\\\\async-hook-jl","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/AndreasMadsen/stack-chain/issues"},"bundleDependencies":false,"deprecated":false,"description":"API for combining call site modifiers","devDependencies":{"tap":"2.x.x","uglify-js":"2.5.x"},"homepage":"https://github.com/AndreasMadsen/stack-chain#readme","keywords":["stack","chain","trace","call site","concat","format"],"license":"MIT","name":"stack-chain","repository":{"type":"git","url":"git://github.com/AndreasMadsen/stack-chain.git"},"scripts":{"test":"tap ./test/simple"},"version":"1.3.7"}')},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AvailabilityData=r(176),n.Base=r(77),n.ContextTagKeys=r(177),n.Data=r(178),n.DataPoint=r(179),n.DataPointType=r(78),n.Domain=r(18),n.Envelope=r(180),n.EventData=r(79),n.ExceptionData=r(181),n.ExceptionDetails=r(182),n.MessageData=r(183),n.MetricData=r(184),n.PageViewData=r(185),n.RemoteDependencyData=r(186),n.RequestData=r(187),n.SeverityLevel=r(188),n.StackFrame=r(189)},function(t,n,r){"use strict";var i=function i(){};t.exports=i},function(t,n,r){"use strict";var i;!function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"}(i||(i={})),t.exports=i},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function EventData(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o(EventData,t),EventData}(r(18));t.exports=a},function(t,n){t.exports=require("constants")},function(t,n,r){"use strict";var i=function(){function RequestParser(){}return RequestParser.prototype.getUrl=function(){return this.url},RequestParser.prototype.RequestParser=function(){this.startTime=+new Date},RequestParser.prototype._setStatus=function(t,n){var r=+new Date;this.duration=r-this.startTime,this.statusCode=t;var i=this.properties||{};if(n)if("string"==typeof n)i.error=n;else if(n instanceof Error)i.error=n.message;else if("object"==typeof n)for(var o in n)i[o]=n[o]&&n[o].toString&&n[o].toString();this.properties=i},RequestParser.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},RequestParser}();t.exports=i},function(t,n,r){"use strict";var i=r(12),o=r(24),a=function(){function Traceparent(t,n){if(this.traceFlag=Traceparent.DEFAULT_TRACE_FLAG,this.version=Traceparent.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=i.w3cTraceId(),this.spanId=i.w3cTraceId().substr(0,16);else{var r=t.trim().split("-"),a=r.length;a>=4?(this.version=r[0],this.traceId=r[1],this.spanId=r[2],this.traceFlag=r[3]):(this.traceId=i.w3cTraceId(),this.spanId=i.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=Traceparent.DEFAULT_VERSION,this.traceId=i.w3cTraceId()),"00"===this.version&&4!==a&&(this.traceId=i.w3cTraceId(),this.spanId=i.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=Traceparent.DEFAULT_VERSION,this.traceId=i.w3cTraceId(),this.spanId=i.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=Traceparent.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=Traceparent.DEFAULT_TRACE_FLAG,this.traceId=i.w3cTraceId()),Traceparent.isValidTraceId(this.traceId)||(this.traceId=i.w3cTraceId()),Traceparent.isValidSpanId(this.spanId)||(this.spanId=i.w3cTraceId().substr(0,16),this.traceId=i.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var c=o.getRootId(n);Traceparent.isValidTraceId(c)||(this.legacyRootId=c,c=i.w3cTraceId()),-1!==n.indexOf("|")&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=c,this.spanId=n}else this.traceId=i.w3cTraceId(),this.spanId=i.w3cTraceId().substr(0,16)}return Traceparent.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==t},Traceparent.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==t},Traceparent.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},Traceparent.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},Traceparent.prototype.updateSpanId=function(){this.spanId=i.w3cTraceId().substr(0,16)},Traceparent.DEFAULT_TRACE_FLAG="01",Traceparent.DEFAULT_VERSION="00",Traceparent}();t.exports=a},function(t,n,r){"use strict";var i=r(21),o=r(23),a=r(7),c=r(12),u=r(29),l=r(200),p=r(27),d=r(49),h=function(){function AutoCollectHttpRequests(t){if(AutoCollectHttpRequests.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");AutoCollectHttpRequests.INSTANCE=this,this._client=t}return AutoCollectHttpRequests.prototype.enable=function(t){this._isEnabled=t,(this._isAutoCorrelating||this._isEnabled||d.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},AutoCollectHttpRequests.prototype.useAutoCorrelation=function(t,n){t&&!this._isAutoCorrelating?p.CorrelationContextManager.enable(n):!t&&this._isAutoCorrelating&&p.CorrelationContextManager.disable(),this._isAutoCorrelating=t},AutoCollectHttpRequests.prototype.isInitialized=function(){return this._isInitialized},AutoCollectHttpRequests.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},AutoCollectHttpRequests.prototype._generateCorrelationContext=function(t){if(this._isAutoCorrelating)return p.CorrelationContextManager.generateContextObject(t.getOperationId(this._client.context.tags),t.getRequestId(),t.getOperationName(this._client.context.tags),t.getCorrelationContextHeader(),t.getTraceparent(),t.getTracestate())},AutoCollectHttpRequests.prototype._initialize=function(){var t=this;this._isInitialized=!0;var wrapOnRequestHandler=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,i){p.CorrelationContextManager.wrapEmitter(r),p.CorrelationContextManager.wrapEmitter(i);var o=r&&!r[AutoCollectHttpRequests.alreadyAutoCollectedFlag];if(r&&o){var a=new l(r),c=t._generateCorrelationContext(a);p.CorrelationContextManager.runWithContext(c,(function(){t._isEnabled&&(r[AutoCollectHttpRequests.alreadyAutoCollectedFlag]=!0,AutoCollectHttpRequests.trackRequest(t._client,{request:r,response:i},a)),"function"==typeof n&&n(r,i)}))}else"function"==typeof n&&n(r,i)}}},wrapServerEventHandler=function(t){var n=t.addListener.bind(t);t.addListener=function(t,r){switch(t){case"request":case"checkContinue":return n(t,wrapOnRequestHandler(r));default:return n(t,r)}},t.on=t.addListener},n=i.createServer;i.createServer=function(t){var r=n(wrapOnRequestHandler(t));return wrapServerEventHandler(r),r};var r=o.createServer;o.createServer=function(t,n){var i=r(t,wrapOnRequestHandler(n));return wrapServerEventHandler(i),i}},AutoCollectHttpRequests.trackRequestSync=function(t,n){if(n.request&&n.response&&t){AutoCollectHttpRequests.addResponseCorrelationIdHeader(t,n.response);var r=p.CorrelationContextManager.getCurrentContext(),i=new l(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),AutoCollectHttpRequests.endRequest(t,i,n,n.duration,n.error)}else a.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},AutoCollectHttpRequests.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var i=p.CorrelationContextManager.getCurrentContext(),o=r||new l(n.request,i&&i.operation.parentId);c.canIncludeCorrelationHeader(t,o.getUrl())&&AutoCollectHttpRequests.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=o.getOperationId(t.context.tags)||i.operation.id,i.operation.name=o.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=o.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(o.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){AutoCollectHttpRequests.endRequest(t,o,n,null,null)})),n.request.on&&n.request.on("error",(function(r){AutoCollectHttpRequests.endRequest(t,o,n,null,r)}))}else a.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},AutoCollectHttpRequests.addResponseCorrelationIdHeader=function(t,n){if(t.config&&t.config.correlationId&&n.getHeader&&n.setHeader&&!n.headersSent){var r=n.getHeader(u.requestContextHeader);c.safeIncludeCorrelationHeader(t,n,r)}},AutoCollectHttpRequests.endRequest=function(t,n,r,i,o){o?n.onError(o,i):n.onResponse(r.response,i);var a=n.getRequestTelemetry(r);if(a.tagOverrides=n.getRequestTags(t.context.tags),r.tagOverrides)for(var c in r.tagOverrides)a.tagOverrides[c]=r.tagOverrides[c];var u=n.getLegacyRootId();u&&(a.properties.ai_legacyRootId=u),a.contextObjects=a.contextObjects||{},a.contextObjects["http.ServerRequest"]=r.request,a.contextObjects["http.ServerResponse"]=r.response,t.trackRequest(a)},AutoCollectHttpRequests.prototype.dispose=function(){AutoCollectHttpRequests.INSTANCE=null,this.enable(!1),this._isInitialized=!1,p.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},AutoCollectHttpRequests.alreadyAutoCollectedFlag="_appInsightsAutoCollected",AutoCollectHttpRequests}();t.exports=h},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.bold=n.formatBold=n.boldFormattingCommand=void 0;const o=r(1),a=r(0),c=r(52),u=r(53),l=r(4);function formatBold(){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;if(t){{if(!a.isValidEditor(t,!0,"format bold"))return;if(!a.isMarkdownFileCheck(t,!1))return;const n=t.selections;let r;if(0===n.length){const n=t.selection.active,i="";r=new o.Range(n.with(n.line,n.character-2<0?0:n.character-2),n.with(n.line,n.character+2));const a=bold(i);yield c.insertUnselectedText(t,formatBold.name,a,r)}if(1===n.length){const n=t.selection,i=t.document.getText(n),c=t.selection.active;r=new o.Range(c.with(c.line,c.character-2<0?0:c.character-2),c.with(c.line,c.character+2));const u=bold(i);a.insertContentToEditor(t,u,!0)}n.length>1&&t.edit(r=>{n.forEach(n=>{for(let i=n.start.line;i<=n.end.line;i++){const i=bold(t.document.getText(n));r.replace(n,i)}})}).then(t=>{if(!t)return a.postWarning("Could not format selections. Abandoning command."),void a.showStatusMessage("Could not format selections. Abandoning command.")})}l.sendTelemetryData("formatBold","")}else a.noActiveEditorMessage()}))}function bold(t,n){const r=t.trim();if(u.isBold(t)||u.isBoldAndItalic(t))return r.substring(2,r.length-2);return`**${r}**`}n.boldFormattingCommand=function boldFormattingCommand(){return[{command:formatBold.name,callback:formatBold}]},n.formatBold=formatBold,n.bold=bold},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.applyCleanup=n.applyCleanupFolder=n.applyCleanupFile=n.applyCleanupCommand=void 0;const o=r(20),a=r(2),c=r(1),u=r(0),l=r(4),p=r(54),d=r(92),h=r(263),m=r(96),g=r(97),y=r(266),v=r(267),x=r(14),C=r(268),b=r(13);let w;function applyCleanup(){return i(this,void 0,void 0,(function*(){const{items:t,opts:n}=x.getCleanUpQuickPick();t.push({description:"",label:"Master redirection file"}),t.push({description:"",label:"Unused images and includes"}),t.push({description:"",label:"Everything"});const r=yield c.window.showQuickPick(t,n);r&&c.window.withProgress({cancellable:!0,location:c.ProgressLocation.Notification,title:"Cleanup"},(t,n)=>(n.onCancellationRequested(()=>{u.postError("User canceled the long running operation")}),new Promise((n,k)=>i(this,void 0,void 0,(function*(){const i=c.window.activeTextEditor;if(i){const S=i.document.uri,A=c.workspace.getWorkspaceFolder(S);if(A){const i=A.uri.fsPath;null==i&&(u.postError("No workspace is opened."),k());const S=a.join(i,".git");o.existsSync(S)||(u.postError("Current workspace is not root folder of a repo."),k());let _="",D="";const T=[];switch(r.label.toLowerCase()){case"single-valued metadata":u.showStatusMessage("Cleanup: Single-Valued metadata started."),_="Single-Valued metadata started.",t.report({increment:1,message:_}),D="Cleanup: Single-Valued metadata completed.",T.push(x.recurseCallback(i,t,h.handleSingleValuedMetadata)),_="Single-Valued metadata completed.",w="single-value";break;case"microsoft links":u.showStatusMessage("Cleanup: Microsoft Links started."),_="Microsoft Links started.",t.report({increment:1,message:_}),D="Cleanup: Microsoft Links completed.",T.push(x.recurseCallback(i,t,m.microsoftLinks)),_="Microsoft Links completed.",w="links";break;case"capitalization of metadata values":u.showStatusMessage("Cleanup: Capitalization of metadata values started."),_="Capitalization of metadata values started.",t.report({increment:1,message:_}),D="Cleanup: Capitalization of metadata values completed.",T.push(x.recurseCallback(i,t,d.capitalizationOfMetadata)),_="Capitalization of metadata values completed.",w="capitalization";break;case"master redirection file":u.showStatusMessage("Cleanup: Master redirection started."),_="Master redirection started.",t.report({increment:1,message:_}),D="Cleanup: Master redirection completed.",yield p.generateMasterRedirectionFile(i,n),_="Master redirection complete.",w="redirects";break;case"unused images and includes":u.showStatusMessage("Cleanup: Unused Images and includes."),_="Removal of unused images and includes started.",t.report({increment:1,message:_}),D="Cleanup: Removing unused images and includes. This could take several minutes.",T.push(new Promise(n=>{g.removeUnusedImagesAndIncludes(t,i,n)})),_="Removal of unused images and includes complete.",w="unused-images-and-includes";break;case"clean up devlang for code blocks":u.showStatusMessage("Cleanup: Devlang for code blocks started."),_="Clean up devlang for code blocks started.",t.report({increment:1,message:_}),D="Cleanup: Devlang for code blocks completed.",T.push(x.recurseCallback(i,t,C.cleanUpDevLangInCodeBlocks)),_="Clean up devlang for code blocks completed.",w="devlang";break;case"everything":t.report({increment:1,message:_}),yield v.runAllWorkspace(i,t,n),w="everything";break;case"empty metadata":const r={placeHolder:"Cleanup..."},o=[];o.push({description:"",label:"Remove metadata attributes with empty values"}),o.push({description:"",label:'Remove metadata attributes with "na" or "n/a"'}),o.push({description:"",label:"Remove commented out metadata attributes"}),o.push({description:"",label:"Remove all"}),u.showStatusMessage("Cleanup: Metadata attribute cleanup started.");const a=yield c.window.showQuickPick(o,r);if(!a)return void k();_="Empty metadata attribute cleanup started.",t.report({increment:1,message:_}),D="Cleanup: Metadata attribute cleanup completed.",T.push(new Promise((n,r)=>{b(i,u.ignoreFiles,(i,o)=>{i&&(u.postError(i),r());const c=[];switch(a.label.toLowerCase()){case"remove metadata attributes with empty values":o.map((n,r)=>{c.push(y.removeEmptyMetadata(t,n,o,r,"empty"))}),w="remove-empty";break;case'remove metadata attributes with "na" or "n/a"':o.map((n,r)=>{c.push(y.removeEmptyMetadata(t,n,o,r,"na"))}),w="remove-na";break;case"remove commented out metadata attributes":o.map((n,r)=>{c.push(y.removeEmptyMetadata(t,n,o,r,"commented"))}),w="remove-commented";break;case"remove all":o.map((n,r)=>{c.push(y.removeEmptyMetadata(t,n,o,r,"all"))}),w="remove-all"}Promise.all(c).then(()=>{n()}).catch(t=>{u.postError(t)})}),_="Empty metadata attribute cleanup completed."}))}Promise.all(T).then(()=>{t.report({increment:100,message:_+" 100%"}),u.showStatusMessage(D),setTimeout(()=>{n()},2e3)}).catch(t=>{u.postError(t)}),l.sendTelemetryData("applyCleanup",w)}}else u.noActiveEditorMessage()})))))}))}n.applyCleanupCommand=function applyCleanupCommand(){return[{command:applyCleanup.name,callback:applyCleanup}]},n.applyCleanupFile=function applyCleanupFile(t){return i(this,void 0,void 0,(function*(){const{items:n,opts:r}=x.getCleanUpQuickPick(),o=t.fsPath;n.push({description:"",label:"Everything"});const a=yield c.window.showQuickPick(n,r);a&&(c.workspace.openTextDocument(c.Uri.parse(t.path)).then(t=>{t.isDirty&&(u.showWarningMessage(`Selected file ${o} is not saved and cannot be modified. Save file then run the command again.`),u.showStatusMessage(`Selected file ${o} is not saved and cannot be modified. Save file then run the command again.`))}),c.window.withProgress({cancellable:!0,location:c.ProgressLocation.Notification,title:"Cleanup"},(t,n)=>{n.onCancellationRequested(()=>{u.postError("User canceled the long running operation")});let r="Cleanup",p="";const g=[];return t.report({increment:1,message:r}),new Promise((n,x)=>i(this,void 0,void 0,(function*(){switch(a.label.toLowerCase()){case"single-valued metadata":u.showStatusMessage("Cleanup: Single-Valued metadata started."),r="Single-Valued metadata started.",t.report({increment:1,message:r}),p="Cleanup: Single-Valued metadata completed.",g.push(h.handleSingleValuedMetadata(t,o,null,null)),r="Single-Valued metadata completed.",w="single-value";break;case"microsoft links":u.showStatusMessage("Cleanup: Microsoft Links started."),r="Microsoft Links started.",t.report({increment:1,message:r}),p="Cleanup: Microsoft Links completed.",g.push(m.microsoftLinks(t,o,null,null)),r="Microsoft Links completed.",w="links";break;case"capitalization of metadata values":u.showStatusMessage("Cleanup: Capitalization of metadata values started."),r="Capitalization of metadata values started.",t.report({increment:1,message:r}),p="Cleanup: Capitalization of metadata values completed.",g.push(d.capitalizationOfMetadata(t,o,null,null)),r="Capitalization of metadata values completed.",w="capitalization";break;case"clean up devlang for code blocks":u.showStatusMessage("Cleanup: Devlang for code blocks started."),r="Devlang for code blocks started.",t.report({increment:1,message:r}),p="Cleanup: Devlang for code blocks completed.",g.push(C.cleanUpDevLangInCodeBlocks(t,o,null,null)),r="Devlang for code blocks completed.",w="devlang";break;case"everything":u.showStatusMessage("Cleanup: Everything started."),r="Everything started.",t.report({increment:1,message:r}),p="Cleanup: Everything completed.",g.push(v.runAll(t,o,null,null)),r="Everything complete.",w="everything";break;case"empty metadata":const n={placeHolder:"Cleanup..."},i=[];i.push({description:"",label:"Remove metadata attributes with empty values"}),i.push({description:"",label:'Remove metadata attributes with "na" or "n/a"'}),i.push({description:"",label:"Remove commented out metadata attributes"}),i.push({description:"",label:"Remove all"}),u.showStatusMessage("Cleanup: Metadata attribute cleanup started."),r="Empty metadata attribute cleanup started.",c.window.showQuickPick(i,n).then(n=>{if(n)switch(n.label.toLowerCase()){case"remove metadata attributes with empty values":g.push(y.removeEmptyMetadata(t,o,null,null,"empty")),w="remove-empty";break;case'remove metadata attributes with "na" or "n/a"':g.push(y.removeEmptyMetadata(t,o,null,null,"na")),w="remove-na";break;case"remove commented out metadata attributes":g.push(y.removeEmptyMetadata(t,o,null,null,"commented")),w="remove-commented";break;case"remove all":g.push(y.removeEmptyMetadata(t,o,null,null,"all")),w="remove-all-empty"}else x()}),p="Cleanup: Metadata attribute cleanup completed.",r="Empty metadata attribute cleanup completed."}Promise.all(g).then(()=>{t.report({increment:100,message:r+" 100%"}),u.showStatusMessage(p),setTimeout(()=>{n()},2e3)}).catch(t=>{u.postError(t)}),l.sendTelemetryData("applyCleanup",w)})))}))}))},n.applyCleanupFolder=function applyCleanupFolder(t){return i(this,void 0,void 0,(function*(){const{items:n,opts:r}=x.getCleanUpQuickPick();n.push({description:"",label:"Everything"});const o=yield c.window.showQuickPick(n,r);o&&c.window.withProgress({cancellable:!0,location:c.ProgressLocation.Notification,title:"Cleanup"},(n,r)=>(r.onCancellationRequested(()=>{u.postError("User canceled the long running operation")}),new Promise((r,p)=>i(this,void 0,void 0,(function*(){let i="",g="";const x=yield b(t.fsPath,u.ignoreFiles),k=[];switch(x.map(t=>{t=t.replace(/\\/g,"/"),".md"===a.extname(t)&&c.workspace.openTextDocument(c.Uri.parse(t)).then(n=>{n.isDirty&&(u.showWarningMessage(`Selected file ${t} is not saved and cannot be modified. Save file then run the command again.`),u.showStatusMessage(`Selected file ${t} is not saved and cannot be modified. Save file then run the command again.`))})}),o.label.toLowerCase()){case"single-valued metadata":u.showStatusMessage("Cleanup: Single-Valued metadata started."),i="Single-Valued metadata started.",n.report({increment:1,message:i}),g="Cleanup: Single-Valued metadata completed.",x.map((t,r)=>{k.push(h.handleSingleValuedMetadata(n,t,x,r))}),i="Single-Valued metadata completed.",w="single-value";break;case"microsoft links":u.showStatusMessage("Cleanup: Microsoft Links started."),i="Microsoft Links started.",n.report({increment:1,message:i}),g="Cleanup: Microsoft Links completed.",x.map((t,r)=>{k.push(m.microsoftLinks(n,t,x,r))}),i="Microsoft Links completed.",w="links";break;case"capitalization of metadata values":u.showStatusMessage("Cleanup: Capitalization of metadata values started."),i="Capitalization of metadata values started.",n.report({increment:1,message:i}),g="Cleanup: Capitalization of metadata values completed.",x.map((t,r)=>{k.push(d.capitalizationOfMetadata(n,t,x,r))}),i="Capitalization of metadata values completed.",w="capitalization";break;case"clean up devlang for code blocks":u.showStatusMessage("Cleanup: Clean up devlang for code blocks started."),i="Clean up devlang for code blocks.",n.report({increment:1,message:i}),g="Devlang for code blocks completed.",x.map((t,r)=>{k.push(C.cleanUpDevLangInCodeBlocks(n,t,x,r))}),i="Clean up devlang for code blocks completed.",w="devlang";break;case"everything":u.showStatusMessage("Cleanup: Everything started."),i="Everything started.",n.report({increment:1,message:i}),g="Cleanup: Everything completed.",x.map((t,r)=>{k.push(v.runAll(n,t,x,r))}),i="Everything completed.",w="everything";break;case"empty metadata":const t={placeHolder:"Empty metadata"},r=[];r.push({description:"",label:"Remove metadata attributes with empty values"}),r.push({description:"",label:'Remove metadata attributes with "na" or "n/a"'}),r.push({description:"",label:"Remove commented out metadata attributes"}),r.push({description:"",label:"Remove all"}),u.showStatusMessage("Cleanup: Metadata attribute cleanup started.");const o=yield c.window.showQuickPick(r,t);if(!o)return;switch(i="Metadata attribute cleanup started.",n.report({increment:1,message:i}),o.label.toLowerCase()){case"remove metadata attributes with empty values":x.map((t,r)=>{k.push(y.removeEmptyMetadata(n,t,x,r,"empty"))}),w="remove-empty";break;case'remove metadata attributes with "na" or "n/a"':x.map((t,r)=>{k.push(y.removeEmptyMetadata(n,t,x,r,"na"))}),w="remove-na";break;case"remove commented out metadata attributes":x.map((t,r)=>{k.push(y.removeEmptyMetadata(n,t,x,r,"commented"))}),w="remove-commented";break;case"remove all":x.map((t,r)=>{k.push(y.removeEmptyMetadata(n,t,x,r,"all"))}),w="remove-all-empty"}i="Metadata attribute cleanup completed.",g="Cleanup: Metadata attribute cleanup completed."}Promise.all(k).then(()=>{n.report({increment:100,message:i+" 100%"}),u.showStatusMessage(g),setTimeout(()=>{r()},2e3)}).catch(t=>{u.postError(t),p()}),l.sendTelemetryData("applyCleanup",w)})))))}))},n.applyCleanup=applyCleanup},function(t,n,r){"use strict";var i=r(22),o=r(221),a=r(230),c=i.spawnSync;function spawn(t,n,r){var c,u;return c=o(t,n,r),u=i.spawn(c.command,c.args,c.options),a.hookChildProcess(u,c),u}t.exports=spawn,t.exports.spawn=spawn,t.exports.sync=function spawnSync(t,n,i){var u,l;if(!c)try{c=r(!function webpackMissingModule(){var t=new Error("Cannot find module 'spawn-sync'");throw t.code="MODULE_NOT_FOUND",t}())}catch(t){throw new Error("In order to use spawnSync on node 0.10 or older, you must install spawn-sync:\n\n  npm install spawn-sync --save")}return u=o(t,n,i),(l=c(u.command,u.args,u.options)).error=l.error||a.verifyENOENTSync(l.status,u),l},t.exports._parse=o,t.exports._enoent=a},function(t,n,r){"use strict";t.exports=LRUCache;var i,o=r(222),a=r(11),c=r(224),u=(i="function"==typeof Symbol&&"1"!==process.env._nodeLRUCacheForceNoSymbol?function(t){return Symbol(t)}:function(t){return"_"+t})("max"),l=i("length"),p=i("lengthCalculator"),d=i("allowStale"),h=i("maxAge"),m=i("dispose"),g=i("noDisposeOnSet"),y=i("lruList"),v=i("cache");function naiveLength(){return 1}function LRUCache(t){if(!(this instanceof LRUCache))return new LRUCache(t);"number"==typeof t&&(t={max:t}),t||(t={});var n=this[u]=t.max;(!n||"number"!=typeof n||n<=0)&&(this[u]=1/0);var r=t.length||naiveLength;"function"!=typeof r&&(r=naiveLength),this[p]=r,this[d]=t.stale||!1,this[h]=t.maxAge||0,this[m]=t.dispose,this[g]=t.noDisposeOnSet||!1,this.reset()}function forEachStep(t,n,r,i){var o=r.value;isStale(t,o)&&(del(t,r),t[d]||(o=void 0)),o&&n.call(i,o.value,o.key,t)}function get(t,n,r){var i=t[v].get(n);if(i){var o=i.value;isStale(t,o)?(del(t,i),t[d]||(o=void 0)):r&&t[y].unshiftNode(i),o&&(o=o.value)}return o}function isStale(t,n){if(!n||!n.maxAge&&!t[h])return!1;var r=Date.now()-n.now;return n.maxAge?r>n.maxAge:t[h]&&r>t[h]}function trim(t){if(t[l]>t[u])for(var n=t[y].tail;t[l]>t[u]&&null!==n;){var r=n.prev;del(t,n),n=r}}function del(t,n){if(n){var r=n.value;t[m]&&t[m](r.key,r.value),t[l]-=r.length,t[v].delete(r.key),t[y].removeNode(n)}}function Entry(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}Object.defineProperty(LRUCache.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this[u]=t,trim(this)},get:function(){return this[u]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"allowStale",{set:function(t){this[d]=!!t},get:function(){return this[d]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"maxAge",{set:function(t){(!t||"number"!=typeof t||t<0)&&(t=0),this[h]=t,trim(this)},get:function(){return this[h]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"lengthCalculator",{set:function(t){"function"!=typeof t&&(t=naiveLength),t!==this[p]&&(this[p]=t,this[l]=0,this[y].forEach((function(t){t.length=this[p](t.value,t.key),this[l]+=t.length}),this)),trim(this)},get:function(){return this[p]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"length",{get:function(){return this[l]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"itemCount",{get:function(){return this[y].length},enumerable:!0}),LRUCache.prototype.rforEach=function(t,n){n=n||this;for(var r=this[y].tail;null!==r;){var i=r.prev;forEachStep(this,t,r,n),r=i}},LRUCache.prototype.forEach=function(t,n){n=n||this;for(var r=this[y].head;null!==r;){var i=r.next;forEachStep(this,t,r,n),r=i}},LRUCache.prototype.keys=function(){return this[y].toArray().map((function(t){return t.key}),this)},LRUCache.prototype.values=function(){return this[y].toArray().map((function(t){return t.value}),this)},LRUCache.prototype.reset=function(){this[m]&&this[y]&&this[y].length&&this[y].forEach((function(t){this[m](t.key,t.value)}),this),this[v]=new o,this[y]=new c,this[l]=0},LRUCache.prototype.dump=function(){return this[y].map((function(t){if(!isStale(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}}),this).toArray().filter((function(t){return t}))},LRUCache.prototype.dumpLru=function(){return this[y]},LRUCache.prototype.inspect=function(t,n){var r="LRUCache {",i=!1;this[d]&&(r+="\n  allowStale: true",i=!0);var o=this[u];o&&o!==1/0&&(i&&(r+=","),r+="\n  max: "+a.inspect(o,n),i=!0);var c=this[h];c&&(i&&(r+=","),r+="\n  maxAge: "+a.inspect(c,n),i=!0);var m=this[p];m&&m!==naiveLength&&(i&&(r+=","),r+="\n  length: "+a.inspect(this[l],n),i=!0);var g=!1;return this[y].forEach((function(t){g?r+=",\n  ":(i&&(r+=",\n"),g=!0,r+="\n  ");var o=a.inspect(t.key).split("\n").join("\n  "),u={value:t.value};t.maxAge!==c&&(u.maxAge=t.maxAge),m!==naiveLength&&(u.length=t.length),isStale(this,t)&&(u.stale=!0),u=a.inspect(u,n).split("\n").join("\n  "),r+=o+" => "+u})),(g||i)&&(r+="\n"),r+="}"},LRUCache.prototype.set=function(t,n,r){var i=(r=r||this[h])?Date.now():0,o=this[p](n,t);if(this[v].has(t)){if(o>this[u])return del(this,this[v].get(t)),!1;var a=this[v].get(t).value;return this[m]&&(this[g]||this[m](t,a.value)),a.now=i,a.maxAge=r,a.value=n,this[l]+=o-a.length,a.length=o,this.get(t),trim(this),!0}var c=new Entry(t,n,o,i,r);return c.length>this[u]?(this[m]&&this[m](t,n),!1):(this[l]+=c.length,this[y].unshift(c),this[v].set(t,this[y].head),trim(this),!0)},LRUCache.prototype.has=function(t){return!!this[v].has(t)&&!isStale(this,this[v].get(t).value)},LRUCache.prototype.get=function(t){return get(this,t,!0)},LRUCache.prototype.peek=function(t){return get(this,t,!1)},LRUCache.prototype.pop=function(){var t=this[y].tail;return t?(del(this,t),t.value):null},LRUCache.prototype.del=function(t){del(this,this[v].get(t))},LRUCache.prototype.load=function(t){this.reset();for(var n=Date.now(),r=t.length-1;r>=0;r--){var i=t[r],o=i.e||0;if(0===o)this.set(i.k,i.v);else{var a=o-n;a>0&&this.set(i.k,i.v,a)}}},LRUCache.prototype.prune=function(){var t=this;this[v].forEach((function(n,r){get(t,r,!1)}))}},function(t,n,r){"use strict";var i=r(2),o=r(225),a=new(r(87))({max:50,maxAge:3e4});t.exports=function resolveCommand(t,n){var r;if(n=!!n,r=a.get(t+"!"+n),a.has(t))return a.get(t);try{r=n?o.sync(t,{pathExt:i.delimiter+(process.env.PATHEXT||"")}):o.sync(t)}catch(t){}return a.set(t+"!"+n,r),r}},function(t,n,r){!function(n){var r=setTimeout;function noop(){}function Promise(t){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(t,this)}function handle(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Promise._immediateFn((function(){var r=1===t._state?n.onFulfilled:n.onRejected;if(null!==r){var i;try{i=r(t._value)}catch(t){return void reject(n.promise,t)}resolve(n.promise,i)}else(1===t._state?resolve:reject)(n.promise,t._value)}))):t._deferreds.push(n)}function resolve(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if(n instanceof Promise)return t._state=3,t._value=n,void finale(t);if("function"==typeof r)return void doResolve(function bind(t,n){return function(){t.apply(n,arguments)}}(r,n),t)}t._state=1,t._value=n,finale(t)}catch(n){reject(t,n)}}function reject(t,n){t._state=2,t._value=n,finale(t)}function finale(t){2===t._state&&0===t._deferreds.length&&Promise._immediateFn((function(){t._handled||Promise._unhandledRejectionFn(t._value)}));for(var n=0,r=t._deferreds.length;n<r;n++)handle(t,t._deferreds[n]);t._deferreds=null}function Handler(t,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=r}function doResolve(t,n){var r=!1;try{t((function(t){r||(r=!0,resolve(n,t))}),(function(t){r||(r=!0,reject(n,t))}))}catch(t){if(r)return;r=!0,reject(n,t)}}Promise.prototype.catch=function(t){return this.then(null,t)},Promise.prototype.then=function(t,n){var r=new this.constructor(noop);return handle(this,new Handler(t,n,r)),r},Promise.all=function(t){return new Promise((function(n,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return n([]);var o=i.length;function res(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,(function(n){res(t,n)}),r)}i[t]=a,0==--o&&n(i)}catch(t){r(t)}}for(var a=0;a<i.length;a++)res(a,i[a])}))},Promise.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Promise?t:new Promise((function(n){n(t)}))},Promise.reject=function(t){return new Promise((function(n,r){r(t)}))},Promise.race=function(t){return new Promise((function(n,r){for(var i=0,o=t.length;i<o;i++)t[i].then(n,r)}))},Promise._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},Promise._unhandledRejectionFn=function _unhandledRejectionFn(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},Promise._setImmediateFn=function _setImmediateFn(t){Promise._immediateFn=t},Promise._setUnhandledRejectionFn=function _setUnhandledRejectionFn(t){Promise._unhandledRejectionFn=t},t.exports?t.exports=Promise:n.Promise||(n.Promise=Promise)}(this)},function(t,n,r){"use strict";var i=r(26);t.exports=new i({include:[r(91)]})},function(t,n,r){"use strict";var i=r(26);t.exports=new i({include:[r(57)],implicit:[r(242),r(243),r(244),r(245)]})},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lowerCaseData=n.capitalizationOfMetadata=void 0;const i=r(0),o=r(14);function lowerCaseData(t,n){const r=new RegExp(`^(${n}:)(.*(\\S\\s)?)`,"m"),o=r.exec(t);let a="";if(o&&o.length>2){if(a=o[2].toLowerCase(),null!==a.match(/^\s*$/))return t;try{return t.replace(r,`${n}:${a}`)}catch(t){i.postError("Error occurred: "+t)}}return t}n.capitalizationOfMetadata=function capitalizationOfMetadata(t,n,r,i){return n.endsWith(".md")?o.readWriteFileWithProgress(t,n,"Capitalization of metadata values",r,i,t=>{if(t.startsWith("---")){const n=new RegExp("^(---)([^]+?)(---)$","m"),r=t.match(n);let i="";r&&(i=lowerCaseData(r[2],"ms.author"),i=lowerCaseData(r[2],"author"),i=lowerCaseData(r[2],"ms.prod"),i=lowerCaseData(r[2],"ms.service"),i=lowerCaseData(r[2],"ms.subservice"),i=lowerCaseData(r[2],"ms.technology"),i=lowerCaseData(r[2],"ms.topic"),t=t.replace(n,`---${i}---`))}return t}):Promise.resolve()},n.lowerCaseData=lowerCaseData},function(t,n,r){"use strict";function Diff(){}function buildValues(t,n,r,i,o){for(var a=0,c=n.length,u=0,l=0;a<c;a++){var p=n[a];if(p.removed){if(p.value=t.join(i.slice(l,l+p.count)),l+=p.count,a&&n[a-1].added){var d=n[a-1];n[a-1]=n[a],n[a]=d}}else{if(!p.added&&o){var h=r.slice(u,u+p.count);h=h.map((function(t,n){var r=i[l+n];return r.length>t.length?r:t})),p.value=t.join(h)}else p.value=t.join(r.slice(u,u+p.count));u+=p.count,p.added||(l+=p.count)}}var m=n[c-1];return c>1&&"string"==typeof m.value&&(m.added||m.removed)&&t.equals("",m.value)&&(n[c-2].value+=m.value,n.pop()),n}function clonePath(t){return{newPos:t.newPos,components:t.components.slice(0)}}r.r(n),r.d(n,"Diff",(function(){return Diff})),r.d(n,"diffChars",(function(){return diffChars})),r.d(n,"diffWords",(function(){return diffWords})),r.d(n,"diffWordsWithSpace",(function(){return diffWordsWithSpace})),r.d(n,"diffLines",(function(){return diffLines})),r.d(n,"diffTrimmedLines",(function(){return diffTrimmedLines})),r.d(n,"diffSentences",(function(){return diffSentences})),r.d(n,"diffCss",(function(){return diffCss})),r.d(n,"diffJson",(function(){return diffJson})),r.d(n,"diffArrays",(function(){return diffArrays})),r.d(n,"structuredPatch",(function(){return structuredPatch})),r.d(n,"createTwoFilesPatch",(function(){return createTwoFilesPatch})),r.d(n,"createPatch",(function(){return createPatch})),r.d(n,"applyPatch",(function(){return applyPatch})),r.d(n,"applyPatches",(function(){return applyPatches})),r.d(n,"parsePatch",(function(){return parsePatch})),r.d(n,"merge",(function(){return merge})),r.d(n,"convertChangesToDMP",(function(){return convertChangesToDMP})),r.d(n,"convertChangesToXML",(function(){return convertChangesToXML})),r.d(n,"canonicalize",(function(){return canonicalize})),Diff.prototype={diff:function diff(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.callback;"function"==typeof r&&(i=r,r={}),this.options=r;var o=this;function done(t){return i?(setTimeout((function(){i(void 0,t)}),0),!0):t}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t));var a=(n=this.removeEmpty(this.tokenize(n))).length,c=t.length,u=1,l=a+c,p=[{newPos:-1,components:[]}],d=this.extractCommon(p[0],n,t,0);if(p[0].newPos+1>=a&&d+1>=c)return done([{value:this.join(n),count:n.length}]);function execEditLength(){for(var r=-1*u;r<=u;r+=2){var i=void 0,l=p[r-1],d=p[r+1],h=(d?d.newPos:0)-r;l&&(p[r-1]=void 0);var m=l&&l.newPos+1<a,g=d&&0<=h&&h<c;if(m||g){if(!m||g&&l.newPos<d.newPos?(i=clonePath(d),o.pushComponent(i.components,void 0,!0)):((i=l).newPos++,o.pushComponent(i.components,!0,void 0)),h=o.extractCommon(i,n,t,r),i.newPos+1>=a&&h+1>=c)return done(buildValues(o,i.components,n,t,o.useLongestToken));p[r]=i}else p[r]=void 0}u++}if(i)!function exec(){setTimeout((function(){if(u>l)return i();execEditLength()||exec()}),0)}();else for(;u<=l;){var h=execEditLength();if(h)return h}},pushComponent:function pushComponent(t,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={count:i.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},extractCommon:function extractCommon(t,n,r,i){for(var o=n.length,a=r.length,c=t.newPos,u=c-i,l=0;c+1<o&&u+1<a&&this.equals(n[c+1],r[u+1]);)c++,u++,l++;return l&&t.components.push({count:l}),t.newPos=c,u},equals:function equals(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function removeEmpty(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function castInput(t){return t},tokenize:function tokenize(t){return t.split("")},join:function join(t){return t.join("")}};var i=new Diff;function diffChars(t,n,r){return i.diff(t,n,r)}function generateOptions(t,n){if("function"==typeof t)n.callback=t;else if(t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}var o=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,c=new Diff;function diffWords(t,n,r){return r=generateOptions(r,{ignoreWhitespace:!0}),c.diff(t,n,r)}function diffWordsWithSpace(t,n,r){return c.diff(t,n,r)}c.equals=function(t,n){return this.options.ignoreCase&&(t=t.toLowerCase(),n=n.toLowerCase()),t===n||this.options.ignoreWhitespace&&!a.test(t)&&!a.test(n)},c.tokenize=function(t){for(var n=t.split(/(\s+|[()[\]{}'"]|\b)/),r=0;r<n.length-1;r++)!n[r+1]&&n[r+2]&&o.test(n[r])&&o.test(n[r+2])&&(n[r]+=n[r+2],n.splice(r+1,2),r--);return n};var u=new Diff;function diffLines(t,n,r){return u.diff(t,n,r)}function diffTrimmedLines(t,n,r){var i=generateOptions(r,{ignoreWhitespace:!0});return u.diff(t,n,i)}u.tokenize=function(t){var n=[],r=t.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var o=r[i];i%2&&!this.options.newlineIsToken?n[n.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),n.push(o))}return n};var l=new Diff;function diffSentences(t,n,r){return l.diff(t,n,r)}l.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var p=new Diff;function diffCss(t,n,r){return p.diff(t,n,r)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}p.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var d=Object.prototype.toString,h=new Diff;function diffJson(t,n,r){return h.diff(t,n,r)}function canonicalize(t,n,r,i,o){var a,c;for(n=n||[],r=r||[],i&&(t=i(o,t)),a=0;a<n.length;a+=1)if(n[a]===t)return r[a];if("[object Array]"===d.call(t)){for(n.push(t),c=new Array(t.length),r.push(c),a=0;a<t.length;a+=1)c[a]=canonicalize(t[a],n,r,i,o);return n.pop(),r.pop(),c}if(t&&t.toJSON&&(t=t.toJSON()),"object"===_typeof(t)&&null!==t){n.push(t),c={},r.push(c);var u,l=[];for(u in t)t.hasOwnProperty(u)&&l.push(u);for(l.sort(),a=0;a<l.length;a+=1)c[u=l[a]]=canonicalize(t[u],n,r,i,u);n.pop(),r.pop()}else c=t;return c}h.useLongestToken=!0,h.tokenize=u.tokenize,h.castInput=function(t){var n=this.options,r=n.undefinedReplacement,i=n.stringifyReplacer,o=void 0===i?function(t,n){return void 0===n?r:n}:i;return"string"==typeof t?t:JSON.stringify(canonicalize(t,null,null,o),o,"  ")},h.equals=function(t,n){return Diff.prototype.equals.call(h,t.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var m=new Diff;function diffArrays(t,n,r){return m.diff(t,n,r)}function parsePatch(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.split(/\r\n|[\n\v\f\r\x85]/),i=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],a=0;function parseIndex(){var t={};for(o.push(t);a<r.length;){var i=r[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var c=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);c&&(t.index=c[1]),a++}for(parseFileHeader(t),parseFileHeader(t),t.hunks=[];a<r.length;){var u=r[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))t.hunks.push(parseHunk());else{if(u&&n.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(u));a++}}}function parseFileHeader(t){var n=/^(---|\+\+\+)\s+(.*)$/.exec(r[a]);if(n){var i="---"===n[1]?"old":"new",o=n[2].split("\t",2),c=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(c)&&(c=c.substr(1,c.length-2)),t[i+"FileName"]=c,t[i+"Header"]=(o[1]||"").trim(),a++}}function parseHunk(){for(var t=a,o=r[a++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),c={oldStart:+o[1],oldLines:+o[2]||1,newStart:+o[3],newLines:+o[4]||1,lines:[],linedelimiters:[]},u=0,l=0;a<r.length&&!(0===r[a].indexOf("--- ")&&a+2<r.length&&0===r[a+1].indexOf("+++ ")&&0===r[a+2].indexOf("@@"));a++){var p=0==r[a].length&&a!=r.length-1?" ":r[a][0];if("+"!==p&&"-"!==p&&" "!==p&&"\\"!==p)break;c.lines.push(r[a]),c.linedelimiters.push(i[a]||"\n"),"+"===p?u++:"-"===p?l++:" "===p&&(u++,l++)}if(u||1!==c.newLines||(c.newLines=0),l||1!==c.oldLines||(c.oldLines=0),n.strict){if(u!==c.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(l!==c.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return c}for(;a<r.length;)parseIndex();return o}function distanceIterator(t,n,r){var i=!0,o=!1,a=!1,c=1;return function iterator(){if(i&&!a){if(o?c++:i=!1,t+c<=r)return c;a=!0}if(!o)return a||(i=!0),n<=t-c?-c++:(o=!0,iterator())}}function applyPatch(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n&&(n=parsePatch(n)),Array.isArray(n)){if(n.length>1)throw new Error("applyPatch only works with a single input.");n=n[0]}var i,o,a=t.split(/\r\n|[\n\v\f\r\x85]/),c=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],u=n.hunks,l=r.compareLine||function(t,n,r,i){return n===i},p=0,d=r.fuzzFactor||0,h=0,m=0;function hunkFits(t,n){for(var r=0;r<t.lines.length;r++){var i=t.lines[r],o=i.length>0?i[0]:" ",c=i.length>0?i.substr(1):i;if(" "===o||"-"===o){if(!l(n+1,a[n],o,c)&&++p>d)return!1;n++}}return!0}for(var g=0;g<u.length;g++){for(var y=u[g],v=a.length-y.oldLines,x=0,C=m+y.oldStart-1,b=distanceIterator(C,h,v);void 0!==x;x=b())if(hunkFits(y,C+x)){y.offset=m+=x;break}if(void 0===x)return!1;h=y.offset+y.oldStart+y.oldLines}for(var w=0,k=0;k<u.length;k++){var S=u[k],A=S.oldStart+S.offset+w-1;w+=S.newLines-S.oldLines,A<0&&(A=0);for(var _=0;_<S.lines.length;_++){var D=S.lines[_],T=D.length>0?D[0]:" ",I=D.length>0?D.substr(1):D,P=S.linedelimiters[_];if(" "===T)A++;else if("-"===T)a.splice(A,1),c.splice(A,1);else if("+"===T)a.splice(A,0,I),c.splice(A,0,P),A++;else if("\\"===T){var L=S.lines[_-1]?S.lines[_-1][0]:null;"+"===L?i=!0:"-"===L&&(o=!0)}}}if(i)for(;!a[a.length-1];)a.pop(),c.pop();else o&&(a.push(""),c.push("\n"));for(var N=0;N<a.length-1;N++)a[N]=a[N]+c[N];return a.join("")}function applyPatches(t,n){"string"==typeof t&&(t=parsePatch(t));var r=0;!function processIndex(){var i=t[r++];if(!i)return n.complete();n.loadFile(i,(function(t,r){if(t)return n.complete(t);var o=applyPatch(r,i,n);n.patched(i,o,(function(t){if(t)return n.complete(t);processIndex()}))}))}()}function structuredPatch(t,n,r,i,o,a,c){c||(c={}),void 0===c.context&&(c.context=4);var u=diffLines(r,i,c);function contextLines(t){return t.map((function(t){return" "+t}))}u.push({value:"",lines:[]});for(var l=[],p=0,d=0,h=[],m=1,g=1,y=function _loop(t){var n=u[t],o=n.lines||n.value.replace(/\n$/,"").split("\n");if(n.lines=o,n.added||n.removed){var a;if(!p){var y=u[t-1];p=m,d=g,y&&(h=c.context>0?contextLines(y.lines.slice(-c.context)):[],p-=h.length,d-=h.length)}(a=h).push.apply(a,_toConsumableArray(o.map((function(t){return(n.added?"+":"-")+t})))),n.added?g+=o.length:m+=o.length}else{if(p)if(o.length<=2*c.context&&t<u.length-2){var v;(v=h).push.apply(v,_toConsumableArray(contextLines(o)))}else{var x,C=Math.min(o.length,c.context);(x=h).push.apply(x,_toConsumableArray(contextLines(o.slice(0,C))));var b={oldStart:p,oldLines:m-p+C,newStart:d,newLines:g-d+C,lines:h};if(t>=u.length-2&&o.length<=c.context){var w=/\n$/.test(r),k=/\n$/.test(i),S=0==o.length&&h.length>b.oldLines;!w&&S&&h.splice(b.oldLines,0,"\\ No newline at end of file"),(w||S)&&k||h.push("\\ No newline at end of file")}l.push(b),p=0,d=0,h=[]}m+=o.length,g+=o.length}},v=0;v<u.length;v++)y(v);return{oldFileName:t,newFileName:n,oldHeader:o,newHeader:a,hunks:l}}function createTwoFilesPatch(t,n,r,i,o,a,c){var u=structuredPatch(t,n,r,i,o,a,c),l=[];t==n&&l.push("Index: "+t),l.push("==================================================================="),l.push("--- "+u.oldFileName+(void 0===u.oldHeader?"":"\t"+u.oldHeader)),l.push("+++ "+u.newFileName+(void 0===u.newHeader?"":"\t"+u.newHeader));for(var p=0;p<u.hunks.length;p++){var d=u.hunks[p];l.push("@@ -"+d.oldStart+","+d.oldLines+" +"+d.newStart+","+d.newLines+" @@"),l.push.apply(l,d.lines)}return l.join("\n")+"\n"}function createPatch(t,n,r,i,o,a){return createTwoFilesPatch(t,t,n,r,i,o,a)}function arrayStartsWith(t,n){if(n.length>t.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function calcLineCount(t){var n=function calcOldNewLineCount(t){var n=0,r=0;return t.forEach((function(t){if("string"!=typeof t){var i=calcOldNewLineCount(t.mine),o=calcOldNewLineCount(t.theirs);void 0!==n&&(i.oldLines===o.oldLines?n+=i.oldLines:n=void 0),void 0!==r&&(i.newLines===o.newLines?r+=i.newLines:r=void 0)}else void 0===r||"+"!==t[0]&&" "!==t[0]||r++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:r}}(t.lines),r=n.oldLines,i=n.newLines;void 0!==r?t.oldLines=r:delete t.oldLines,void 0!==i?t.newLines=i:delete t.newLines}function merge(t,n,r){t=loadPatch(t,r),n=loadPatch(n,r);var i={};(t.index||n.index)&&(i.index=t.index||n.index),(t.newFileName||n.newFileName)&&(fileNameChanged(t)?fileNameChanged(n)?(i.oldFileName=selectField(i,t.oldFileName,n.oldFileName),i.newFileName=selectField(i,t.newFileName,n.newFileName),i.oldHeader=selectField(i,t.oldHeader,n.oldHeader),i.newHeader=selectField(i,t.newHeader,n.newHeader)):(i.oldFileName=t.oldFileName,i.newFileName=t.newFileName,i.oldHeader=t.oldHeader,i.newHeader=t.newHeader):(i.oldFileName=n.oldFileName||t.oldFileName,i.newFileName=n.newFileName||t.newFileName,i.oldHeader=n.oldHeader||t.oldHeader,i.newHeader=n.newHeader||t.newHeader)),i.hunks=[];for(var o=0,a=0,c=0,u=0;o<t.hunks.length||a<n.hunks.length;){var l=t.hunks[o]||{oldStart:1/0},p=n.hunks[a]||{oldStart:1/0};if(hunkBefore(l,p))i.hunks.push(cloneHunk(l,c)),o++,u+=l.newLines-l.oldLines;else if(hunkBefore(p,l))i.hunks.push(cloneHunk(p,u)),a++,c+=p.newLines-p.oldLines;else{var d={oldStart:Math.min(l.oldStart,p.oldStart),oldLines:0,newStart:Math.min(l.newStart+c,p.oldStart+u),newLines:0,lines:[]};mergeLines(d,l.oldStart,l.lines,p.oldStart,p.lines),a++,o++,i.hunks.push(d)}}return i}function loadPatch(t,n){if("string"==typeof t){if(/^@@/m.test(t)||/^Index:/m.test(t))return parsePatch(t)[0];if(!n)throw new Error("Must provide a base reference or pass in a patch");return structuredPatch(void 0,void 0,n,t)}return t}function fileNameChanged(t){return t.newFileName&&t.newFileName!==t.oldFileName}function selectField(t,n,r){return n===r?n:(t.conflict=!0,{mine:n,theirs:r})}function hunkBefore(t,n){return t.oldStart<n.oldStart&&t.oldStart+t.oldLines<n.oldStart}function cloneHunk(t,n){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+n,newLines:t.newLines,lines:t.lines}}function mergeLines(t,n,r,i,o){var a={offset:n,lines:r,index:0},c={offset:i,lines:o,index:0};for(insertLeading(t,a,c),insertLeading(t,c,a);a.index<a.lines.length&&c.index<c.lines.length;){var u=a.lines[a.index],l=c.lines[c.index];if("-"!==u[0]&&"+"!==u[0]||"-"!==l[0]&&"+"!==l[0])if("+"===u[0]&&" "===l[0]){var p;(p=t.lines).push.apply(p,_toConsumableArray(collectChange(a)))}else if("+"===l[0]&&" "===u[0]){var d;(d=t.lines).push.apply(d,_toConsumableArray(collectChange(c)))}else"-"===u[0]&&" "===l[0]?removal(t,a,c):"-"===l[0]&&" "===u[0]?removal(t,c,a,!0):u===l?(t.lines.push(u),a.index++,c.index++):conflict(t,collectChange(a),collectChange(c));else mutualChange(t,a,c)}insertTrailing(t,a),insertTrailing(t,c),calcLineCount(t)}function mutualChange(t,n,r){var i=collectChange(n),o=collectChange(r);if(allRemoves(i)&&allRemoves(o)){var a,c;if(arrayStartsWith(i,o)&&skipRemoveSuperset(r,i,i.length-o.length))return void(a=t.lines).push.apply(a,_toConsumableArray(i));if(arrayStartsWith(o,i)&&skipRemoveSuperset(n,o,o.length-i.length))return void(c=t.lines).push.apply(c,_toConsumableArray(o))}else if(function arrayEqual(t,n){return t.length===n.length&&arrayStartsWith(t,n)}(i,o)){var u;return void(u=t.lines).push.apply(u,_toConsumableArray(i))}conflict(t,i,o)}function removal(t,n,r,i){var o,a=collectChange(n),c=function collectContext(t,n){var r=[],i=[],o=0,a=!1,c=!1;for(;o<n.length&&t.index<t.lines.length;){var u=t.lines[t.index],l=n[o];if("+"===l[0])break;if(a=a||" "!==u[0],i.push(l),o++,"+"===u[0])for(c=!0;"+"===u[0];)r.push(u),u=t.lines[++t.index];l.substr(1)===u.substr(1)?(r.push(u),t.index++):c=!0}"+"===(n[o]||"")[0]&&a&&(c=!0);if(c)return r;for(;o<n.length;)i.push(n[o++]);return{merged:i,changes:r}}(r,a);c.merged?(o=t.lines).push.apply(o,_toConsumableArray(c.merged)):conflict(t,i?c:a,i?a:c)}function conflict(t,n,r){t.conflict=!0,t.lines.push({conflict:!0,mine:n,theirs:r})}function insertLeading(t,n,r){for(;n.offset<r.offset&&n.index<n.lines.length;){var i=n.lines[n.index++];t.lines.push(i),n.offset++}}function insertTrailing(t,n){for(;n.index<n.lines.length;){var r=n.lines[n.index++];t.lines.push(r)}}function collectChange(t){for(var n=[],r=t.lines[t.index][0];t.index<t.lines.length;){var i=t.lines[t.index];if("-"===r&&"+"===i[0]&&(r="+"),r!==i[0])break;n.push(i),t.index++}return n}function allRemoves(t){return t.reduce((function(t,n){return t&&"-"===n[0]}),!0)}function skipRemoveSuperset(t,n,r){for(var i=0;i<r;i++){var o=n[n.length-r+i].substr(1);if(t.lines[t.index+i]!==" "+o)return!1}return t.index+=r,!0}function convertChangesToDMP(t){for(var n,r,i=[],o=0;o<t.length;o++)r=(n=t[o]).added?1:n.removed?-1:0,i.push([r,n.value]);return i}function convertChangesToXML(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];i.added?n.push("<ins>"):i.removed&&n.push("<del>"),n.push(escapeHTML(i.value)),i.added?n.push("</ins>"):i.removed&&n.push("</del>")}return n.join("")}function escapeHTML(t){var n=t;return n=(n=(n=(n=n.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}m.tokenize=function(t){return t.slice()},m.join=m.removeEmpty=function(t){return t}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.handleMarkdownMetadata=void 0;const i=r(0),o=r(14),a=r(36);n.handleMarkdownMetadata=function handleMarkdownMetadata(t){try{const n=a.load(t);n&&(o.isSingleItemArray(n.author)&&(t=o.singleValueMetadata(t,"author")),o.isSingleItemArray(n["ms.author"])&&(t=o.singleValueMetadata(t,"ms.author")),o.isSingleItemArray(n["ms.component"])&&(t=o.singleValueMetadata(t,"ms.component")),o.isSingleItemArray(n["ms.date"])&&(t=o.singleValueMetadata(t,"ms.date")),o.isSingleItemArray(n["ms.prod"])&&(t=o.singleValueMetadata(t,"ms.prod")),o.isSingleItemArray(n["ms.service"])&&(t=o.singleValueMetadata(t,"ms.service")),o.isSingleItemArray(n["ms.subservice"])&&(t=o.singleValueMetadata(t,"ms.subservice")),o.isSingleItemArray(n["ms.technology"])&&(t=o.singleValueMetadata(t,"ms.technology")),o.isSingleItemArray(n["ms.topic"])&&(t=o.singleValueMetadata(t,"ms.topic")),o.isSingleItemArray(n["ms.title"])&&(t=o.singleValueMetadata(t,"ms.title")),o.isSingleItemArray(n["ms.custom"])&&(t=o.singleValueMetadata(t,"ms.custom")))}catch(t){i.postError(t)}return t}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.handleYamlMetadata=void 0;const i=r(0),o=r(14),a=r(36);n.handleYamlMetadata=function handleYamlMetadata(t){try{const n=a.load(t);n.metadata&&(o.isSingleItemArray(n.metadata.author)&&(t=o.singleValueMetadata(t,"author")),o.isSingleItemArray(n.metadata["ms.author"])&&(t=o.singleValueMetadata(t,"ms.author")),o.isSingleItemArray(n.metadata["ms.component"])&&(t=o.singleValueMetadata(t,"ms.component")),o.isSingleItemArray(n.metadata["ms.date"])&&(t=o.singleValueMetadata(t,"ms.date")),o.isSingleItemArray(n.metadata["ms.prod"])&&(t=o.singleValueMetadata(t,"ms.prod")),o.isSingleItemArray(n.metadata["ms.service"])&&(t=o.singleValueMetadata(t,"ms.service")),o.isSingleItemArray(n.metadata["ms.subservice"])&&(t=o.singleValueMetadata(t,"ms.subservice")),o.isSingleItemArray(n.metadata["ms.technology"])&&(t=o.singleValueMetadata(t,"ms.technology")),o.isSingleItemArray(n.metadata["ms.topic"])&&(t=o.singleValueMetadata(t,"ms.topic")),o.isSingleItemArray(n.metadata["ms.title"])&&(t=o.singleValueMetadata(t,"ms.title")))}catch(t){i.postError(t)}return t}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.handleLinksWithRegex=n.microsoftLinks=void 0;const i=r(14);function handleLinksWithRegex(t){const n=new RegExp(/http:\/\/aka.ms/g);t=t.replace(n,"https://aka.ms");const r=new RegExp(/http:\/\/microsoft.com/g);t=t.replace(r,"https://microsoft.com");const i=new RegExp(/http:\/\/go.microsoft.com/g);t=t.replace(i,"https://go.microsoft.com");const o=new RegExp(/http:\/\/visualstudio.com/g);t=t.replace(o,"https://visualstudio.com");const a=new RegExp(/http:\/\/office.com/g);t=t.replace(a,"https://office.com");const c=new RegExp(/http:\/\/docs.microsoft.com/g);t=t.replace(c,"https://docs.microsoft.com");const u=new RegExp(/http:\/\/azure.microsoft.com/g);t=t.replace(u,"https://azure.microsoft.com");const l=new RegExp(/http:\/\/azure.com/g);t=t.replace(l,"https://azure.com");const p=new RegExp(/http:\/\/msdn.microsoft.com/g);t=t.replace(p,"https://msdn.microsoft.com");const d=new RegExp(/http:\/\/msdn.com/g);t=t.replace(d,"https://msdn.com");const h=new RegExp(/http:\/\/technet.microsoft.com/g);t=t.replace(h,"https://technet.microsoft.com");const m=new RegExp(/http:\/\/technet.com/g);t=t.replace(m,"https://technet.com");const g=new RegExp(/http:\/\/download.microsoft.com/g);t=t.replace(g,"https://download.microsoft.com");const y=new RegExp(/https:\/\/docs.microsoft.com\/[A-Za-z]{2}-[A-Za-z]{2}\//g);t=t.replace(y,"https://docs.microsoft.com/");const v=new RegExp(/https:\/\/azure.microsoft.com\/[A-Za-z]{2}-[A-Za-z]{2}\//g);t=t.replace(v,"https://azure.microsoft.com/");const x=new RegExp(/https:\/\/msdn.microsoft.com\/[A-Za-z]{2}-[A-Za-z]{2}\//g);t=t.replace(x,"https://msdn.microsoft.com/");const C=new RegExp(/https:\/\/technet.microsoft.com\/[A-Za-z]{2}-[A-Za-z]{2}\//g);return t=t.replace(C,"https://technet.microsoft.com/")}n.microsoftLinks=function microsoftLinks(t,n,r,o){return n.endsWith(".md")?i.readWriteFileWithProgress(t,n,"Microsoft Links",r,o,t=>t=handleLinksWithRegex(t)):Promise.resolve()},n.handleLinksWithRegex=handleLinksWithRegex},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getImageAndIncludesFiles=n.removeUnusedImagesAndIncludes=n.getUnusedImagesAndIncludesCommand=void 0;const o=r(20),a=r(8),c=r(2),u=r(0),l=r(15),p=r(38),d=r(14),h=r(13);n.getUnusedImagesAndIncludesCommand=function getUnusedImagesAndIncludesCommand(){return[{command:removeUnusedImagesAndIncludes.name,callback:removeUnusedImagesAndIncludes}]};const m=/\[!include\s?\[.*\]\((.*)\)\]|<img[^>]+src="([^">]+)"|\((.*?.(?:png|jpg|jpeg|svg|tiff|gif))\s*(?:".*")*\)|source\s*=\s*"(.*?)"|lightbox\s*=\s*"(.*?)"|"\s*source_path\s*"\s*:\s*"(.*?)"|href\s*:\s*(.*)"/gim;function removeUnusedImagesAndIncludes(t,n,r){return i(this,void 0,void 0,(function*(){let p=yield getImageAndIncludesFiles(n);const g=yield h(n,u.ignoreFiles),y=[];g.map((n,r)=>{(n.endsWith(".md")||n.endsWith(".openpublishing.redirection.json")||n.endsWith("toc.yml"))&&y.push(new Promise((i,a)=>{o.readFile(n,"utf8",(n,o)=>{let a;for(;a=m.exec(o);)p=p.filter(t=>-1===decodeURI((a[1]||a[2]||a[3]||a[4]||a[5]||a[6]||a[7]).toLowerCase()).indexOf(t.label.toLowerCase()));d.showProgress(r,g,t,"Removing unused images and includes. This could take several minutes."),i()})}).catch(t=>{u.postError(t)}))}),Promise.all(y).then(()=>{const n=c.join(a.homedir(),"Docs Authoring","unusedImages");o.existsSync(n)||o.mkdirSync(n),p.forEach(t=>i(this,void 0,void 0,(function*(){o.rename(c.join(t.description,t.label),c.join(n,t.label),n=>{l.output.appendLine("failed to move "+t.label)})}))),t.report({increment:100,message:"Cleanup: Removal of unused images and includes completed."}),u.showStatusMessage("Cleanup: Removal of unused images and includes completed."),setTimeout(()=>{r()},2e3)}).catch(t=>{u.postError(t)})}))}function getImageAndIncludesFiles(t){return i(this,void 0,void 0,(function*(){const n=[],r=p.imageExtensions.concat(p.markdownExtensionFilter);return(yield h(t,[".git",".github",".vscode",".vs","node_module","*.yml"])).filter(t=>-1!==r.indexOf(c.extname(t.toLowerCase()))).forEach(t=>{t.endsWith(".md")&&-1===t.indexOf("includes")||n.push({label:c.basename(t),description:c.dirname(t)})}),n}))}n.removeUnusedImagesAndIncludes=removeUnusedImagesAndIncludes,n.getImageAndIncludesFiles=getImageAndIncludesFiles},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.applyCodeFormatting=n.showSupportedLanguages=n.format=n.formatCode=n.codeFormattingCommand=void 0;const o=r(1),a=r(0),c=r(52),u=r(53),l=r(55),p=r(4);function formatCode(){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;if(t){{if(!a.isValidEditor(t,!0,"format code"))return;if(!a.isMarkdownFileCheck(t,!1))return;const n=t.selection,r=t.document.getText(n);n.isSingleLine||u.isMultiLineCode(r)?yield applyCodeFormatting(r,n,""):yield showSupportedLanguages(r,n)}p.sendTelemetryData("formatCode","")}else a.noActiveEditorMessage()}))}function format(t,n,r,i){const o=t.trim();let a="";if(r)a=u.isInlineCode(o)?o.substring(1,o.length-1):"`"+o+"`";else if(u.isMultiLineCode(o)){const t=o.indexOf("\r\n");a="\r\n"+o.substring(t,o.length-3).trim()+"\r\n"}else a="\n```"+n+"\n"+o+"\n```\n";return a}function showSupportedLanguages(t,n){return i(this,void 0,void 0,(function*(){const r=l.getLanguageIdentifierQuickPickItems(),i=yield o.window.showQuickPick(r,{matchOnDescription:!0,placeHolder:"Select a programming language (required)"});if(!i)return void a.postWarning("No code language selected. Abandoning command.");const c=l.languages.find(t=>t.language===i.label);if(void 0!==c){const r=c.aliases[0];yield applyCodeFormatting(t,n,r)}}))}function applyCodeFormatting(t,n,r){return i(this,void 0,void 0,(function*(){const i=t.trim(),u=o.window.activeTextEditor;if(u){const t=u.selections;new o.Range(u.selection.active,u.selection.active);if(0===t.length){const t=u.selection.active,r=new o.Range(t.with(t.line,t.character-1<0?0:t.character-1),t.with(t.line,t.character+1)),a=format(i,"",n.isSingleLine);yield c.insertUnselectedText(u,formatCode.name,a,r)}if(1===t.length){const t=format(i,r,n.isSingleLine);yield a.insertContentToEditor(u,t,!0)}if(t.length>1){if(!(yield u.edit(i=>{t.forEach(t=>{for(let o=t.start.line;o<=t.end.line;o++){const o=format(u.document.getText(t),r,n.isSingleLine);i.replace(t,o)}})})))return a.postWarning("Could not format selections. Abandoning command."),void a.showStatusMessage("Could not format selections. Abandoning command.")}}else a.noActiveEditorMessage()}))}n.codeFormattingCommand=function codeFormattingCommand(){return[{command:formatCode.name,callback:formatCode}]},n.formatCode=formatCode,n.format=format,n.showSupportedLanguages=showSupportedLanguages,n.applyCodeFormatting=applyCodeFormatting},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.applyLink=n.imageCompletionProvider=n.imageKeyWordHasBeenTyped=n.applyLightbox=n.applyLocScope=n.applyComplex=n.applyIcon=n.applyImage=n.pickImageType=n.insertImageCommand=void 0;const o=r(3),a=r(2),c=r(13),u=r(1),l=r(0),p=r(4),d=[".jpeg",".jpg",".png",".gif",".bmp",".svg"];let h;function pickImageType(t){return i(this,void 0,void 0,(function*(){const n=[],r=u.workspace.getConfiguration("markdown").get("alwaysIncludeLocScope");n.push({description:"",label:"Image"}),n.push({description:"",label:"Icon image"}),n.push({description:"",label:"Complex image"}),r||n.push({description:"",label:"Add localization scope to image"}),n.push({description:"",label:"Add lightbox to image"}),n.push({description:"",label:"Add link to image"});const i=yield u.window.showQuickPick(n,{placeHolder:"Select an Image type"});if(i){switch(i.label.toLowerCase()){case"image":yield applyImage(t),h="image";break;case"icon image":yield applyIcon(),h="icon";break;case"complex image":yield applyComplex(t),h="complex";break;case"add localization scope to image":yield applyLocScope(t),h="loc-scope";break;case"add lightbox to image":yield applyLightbox(),h="lightbox";break;case"add link to image":yield applyLink(),h="link"}p.sendTelemetryData("insertImage",h)}}))}function applyImage(t){return i(this,void 0,void 0,(function*(){const n=u.window.activeTextEditor;let r="";if(!n)return void l.noActiveEditorMessage();let o="";checkEditor(n)&&(u.workspace.workspaceFolders&&(r=u.workspace.workspaceFolders[0].uri.fsPath),c(r,l.ignoreFiles,(r,c)=>i(this,void 0,void 0,(function*(){r&&u.window.showErrorMessage(r);const i=[];c.sort(),c.filter(t=>-1!==d.indexOf(a.extname(t.toLowerCase()))).forEach(t=>{i.push({label:a.basename(t),description:a.dirname(t)})});const p=yield u.window.showQuickPick(i,{placeHolder:"Select Image from repo"});if(p&&p.description){const r=a.dirname(n.document.fileName),i=a.relative(r,a.join(p.description,p.label).split("//").join("//")).replace(/\\/g,"/"),c=n.selection,d=n.document.getText(c);let h="";""===d?(h=yield u.window.showInputBox({placeHolder:"Add alt text (up to 250 characters)",validateInput:t=>""!==t?t.length<=250?"":"alt text should be less than 250 characters":"alt-text input must not be empty"}),h||(h="")):h=d;if(u.workspace.getConfiguration("markdown").get("alwaysIncludeLocScope")){const n=t.globalState.get("product"),r=yield u.window.showQuickPick(n,{placeHolder:"Select from product list"});r&&(o=`:::image type="content" source="${i}" alt-text="${h}" loc-scope="${r.label}":::`)}else o=`:::image type="content" source="${i}" alt-text="${h}":::`;l.insertContentToEditor(n,o,!0)}}))))}))}function checkEditor(t){let n="Get File for Image";if(n="Art",h="art",p.sendTelemetryData("insertMedia",h),!l.isValidEditor(t,!1,"Art"))return;if(!l.isMarkdownFileCheck(t,!1))return;if(!l.hasValidWorkSpaceRootPath("insertLink"))return;const r=t.document.fileName,i=t.document.fileName.split(".")[0];if(o.existsSync(r))return!0;u.window.showWarningMessage(i+" is not saved.  Cannot accurately resolve path to create link.")}function applyIcon(){return i(this,void 0,void 0,(function*(){const t=u.window.activeTextEditor;let n="";if(!t)return void l.noActiveEditorMessage();let r="";if(checkEditor(t)){const o=t.selection;""===t.document.getText(o)&&(u.workspace.workspaceFolders&&(n=u.workspace.workspaceFolders[0].uri.fsPath),c(n,l.ignoreFiles,(n,o)=>i(this,void 0,void 0,(function*(){n&&u.window.showErrorMessage(n);const i=[];o.sort(),o.filter(t=>-1!==d.indexOf(a.extname(t.toLowerCase()))).forEach(t=>{i.push({label:a.basename(t),description:a.dirname(t)})});const c=yield u.window.showQuickPick(i,{placeHolder:"Select Image from repo"});if(c&&c.description){const n=a.dirname(t.document.fileName),i=a.relative(n,a.join(c.description,c.label).split("//").join("//")).replace(/\\/g,"/");r=`:::image type="icon" source="${i}" border="false":::`,l.insertContentToEditor(t,r,!0)}}))))}}))}function applyComplex(t){return i(this,void 0,void 0,(function*(){const n=u.window.activeTextEditor;let r="";if(!n)return void l.noActiveEditorMessage();let o="";checkEditor(n)&&(u.workspace.workspaceFolders&&(r=u.workspace.workspaceFolders[0].uri.fsPath),c(r,l.ignoreFiles,(r,c)=>i(this,void 0,void 0,(function*(){r&&u.window.showErrorMessage(r);const i=[];c.sort(),c.filter(t=>-1!==d.indexOf(a.extname(t.toLowerCase()))).forEach(t=>{i.push({label:a.basename(t),description:a.dirname(t)})});const p=yield u.window.showQuickPick(i,{placeHolder:"Select Image from repo"});if(p&&p.description){const r=a.dirname(n.document.fileName),i=a.relative(r,a.join(p.description,p.label).split("//").join("//")).replace(/\\/g,"/"),c=n.selection,d=n.document.getText(c);let h="";""===d?(h=yield u.window.showInputBox({placeHolder:"Add alt text (up to 250 characters)",validateInput:t=>""!==t?t.length<=250?"":"alt text should be less than 250 characters":"alt-text input must not be empty"}),h||(h="")):h=d;if(u.workspace.getConfiguration("markdown").get("alwaysIncludeLocScope")){const n=t.globalState.get("product"),r=yield u.window.showQuickPick(n,{placeHolder:"Select from product list"});r&&(o=`:::image type="complex" source="${i}" alt-text="${h}" loc-scope="${r.label}":::\n\n:::image-end:::`)}else o=`:::image type="complex" source="${i}" alt-text="${h}":::\n\n:::image-end:::`;l.insertContentToEditor(n,o,!0),l.setCursorPosition(n,n.selection.active.line+1,n.selection.active.character)}}))))}))}function applyLocScope(t){return i(this,void 0,void 0,(function*(){const n=u.window.activeTextEditor;if(!n)return void l.noActiveEditorMessage();const r=/:::image\s+((source|type|alt-text|lightbox|border|link)="([a-zA-Z0-9_.\/ -]+)"\s*)+:::/gm,i=new u.Position(n.selection.active.line,n.selection.active.character),o=n.document.getWordRangeAtPosition(i,r);if(o){const i=r.exec(n.document.getText(o));if(i){if("icon"===i[i.indexOf("type")+1].toLowerCase())return void u.window.showErrorMessage("The loc-scope attribute should not be added to icons, which are not localized.")}const a=t.globalState.get("product"),c=yield u.window.showQuickPick(a,{placeHolder:"Select from product list"});if(!c)return;yield n.edit(t=>{t.insert(new u.Position(o.end.line,o.end.character-3),` loc-scope="${c.label}"`)})}else{const t=/:::image\s+((source|type|alt-text|lightbox|border|loc-scope|link)="([a-zA-Z0-9_.\/ -]+)"\s*)+:::/gm;if(n.document.getWordRangeAtPosition(i,t))return void u.window.showErrorMessage("loc-scope attribute already exists on :::image::: tag.");u.window.showErrorMessage("invalid cursor position. You must be inside :::image::: tags.")}}))}function applyLightbox(){return i(this,void 0,void 0,(function*(){const t=u.window.activeTextEditor;if(!t)return void l.noActiveEditorMessage();const n=new u.Position(t.selection.active.line,t.selection.active.character),r=t.document.getWordRangeAtPosition(n,/:::image\s+((source|type|alt-text|loc-scope|border|link)="([a-zA-Z0-9_.\/ -]+)"\s*)+:::/gm);if(r){let n="";u.workspace.workspaceFolders&&(n=u.workspace.workspaceFolders[0].uri.fsPath),c(n,l.ignoreFiles,(n,o)=>i(this,void 0,void 0,(function*(){n&&u.window.showErrorMessage(n);const i=[];o.sort(),o.filter(t=>-1!==d.indexOf(a.extname(t.toLowerCase()))).forEach(t=>{i.push({label:a.basename(t),description:a.dirname(t)})});const c=yield u.window.showQuickPick(i,{placeHolder:"Select Image from repo"});if(c&&c.description){const n=a.dirname(t.document.fileName),i=a.relative(n,a.join(c.description,c.label).split("//").join("//")).replace(/\\/g,"/");yield t.edit(t=>{t.insert(new u.Position(r.end.line,r.end.character-3),` lightbox="${i}"`)})}})))}else{const r=/:::image\s+((source|type|alt-text|lightbox|border|loc-scope|link)="([a-zA-Z0-9_.\/ -]+)"\s*)+:::/gm;if(t.document.getWordRangeAtPosition(n,r))return void u.window.showErrorMessage("lightbox attribute already exists on :::image::: tag.");u.window.showErrorMessage("invalid cursor position. You must be inside :::image::: tags.")}}))}function applyLink(){return i(this,void 0,void 0,(function*(){const t=u.window.activeTextEditor;if(!t)return void l.noActiveEditorMessage();const n=new u.Position(t.selection.active.line,t.selection.active.character),r=t.document.getWordRangeAtPosition(n,/:::image\s+((source|type|alt-text|lightbox|border|loc-scope)="([a-zA-Z0-9_.\/ -]+)"\s*)+:::/gm);if(r){const n={placeHolder:"Enter link (URL or relative path)"},i=yield u.window.showInputBox(n);void 0===i?l.postWarning("No link provided, abandoning command."):yield t.edit(t=>{t.insert(new u.Position(r.end.line,r.end.character-3),` link="${i}"`)})}else{const r=/:::image\s+((source|type|alt-text|lightbox|border|loc-scope|link)="([a-zA-Z0-9_.\/ -:]+)"\s*)+:::/gm;if(t.document.getWordRangeAtPosition(n,r))return void u.window.showErrorMessage("link attribute already exists on :::image::: tag.");u.window.showErrorMessage("invalid cursor position. You must be inside :::image::: tags.")}}))}n.insertImageCommand=[{command:pickImageType.name,callback:pickImageType},{command:applyImage.name,callback:applyImage},{command:applyIcon.name,callback:applyIcon},{command:applyComplex.name,callback:applyComplex},{command:applyLocScope.name,callback:applyLocScope},{command:applyLightbox.name,callback:applyLightbox},{command:applyLink.name,callback:applyLink}],n.pickImageType=pickImageType,n.applyImage=applyImage,n.applyIcon=applyIcon,n.applyComplex=applyComplex,n.applyLocScope=applyLocScope,n.applyLightbox=applyLightbox,n.imageKeyWordHasBeenTyped=function imageKeyWordHasBeenTyped(t){const n=/image/g;if(t){const r=new u.Position(t.selection.active.line,t.selection.active.character);if(t.document.getWordRangeAtPosition(r,n))return!0}},n.imageCompletionProvider=function imageCompletionProvider(){const t=[];return t.push(new u.CompletionItem(':::image type="content" source="" alt-text="" loc-scope="":::')),t.push(new u.CompletionItem(':::image type="icon" source="" alt-text="" loc-scope="":::')),t.push(new u.CompletionItem(':::image type="complex" source="" alt-text="" loc-scope="":::')),t},n.applyLink=applyLink},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.insertInclude=n.insertIncludeCommand=void 0;const o=r(8),a=r(2),c=r(1),u=r(0),l=r(4),p=r(17),d=r(11).promisify(r(41));function insertInclude(){return i(this,void 0,void 0,(function*(){const t=c.window.activeTextEditor;if(!t)return void u.noActiveEditorMessage();const n=a.dirname(t.document.fileName);let r="";if(c.workspace.workspaceFolders&&(r=c.workspace.workspaceFolders[0].uri.fsPath),!u.isMarkdownFileCheck(t,!1))return;if(!u.hasValidWorkSpaceRootPath("insertInclude"))return;if(!r)return;const i=yield d("**/includes/**/*.md",{cwd:r,nocase:!0,realpath:!0}),h=[];i.forEach(t=>h.push({description:a.dirname(t),label:a.basename(t)}));const descSelector=t=>t&&t.description||"";h.sort((t,n)=>{const[r,i]=[descSelector(t),descSelector(n)];return r<i?-1:r>i?1:0});const m=yield c.window.showQuickPick(h);if(!m)return;let g;const y=t.selection.active,v=m.label.replace(".md","");switch(o.type()){case"Windows_NT":g=p.includeBuilder(a.relative(n,a.join(m.description||"Unknown",m.label).split("\\").join("\\\\")),v);break;case"Darwin":g=p.includeBuilder(a.relative(n,a.join(m.description||"Unknown",m.label).split("//").join("//")),v)}yield t.edit(t=>{t.insert(y,g.replace(/\\/g,"/"))}),l.sendTelemetryData("insertInclude","")}))}n.insertIncludeCommand=function insertIncludeCommand(){return[{command:insertInclude.name,callback:insertInclude}]},n.insertInclude=insertInclude},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.italicize=n.formatItalic=n.italicFormattingCommand=void 0;const o=r(1),a=r(0),c=r(52),u=r(53),l=r(4);function formatItalic(){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;if(t){{if(!a.isValidEditor(t,!0,"format italic"))return;if(!a.isMarkdownFileCheck(t,!1))return;const n=t.selections;let r;if(0===n.length){const n=t.selection.active,i="";r=new o.Range(n.with(n.line,n.character-1<0?0:n.character-1),n.with(n.line,n.character+1));const a=italicize(i,r);c.insertUnselectedText(t,formatItalic.name,a,r)}if(1===n.length){const n=t.selection,i=t.document.getText(n),c=t.selection.active;r=new o.Range(c.with(c.line,c.character-1<0?0:c.character-1),c.with(c.line,c.character+1));const u=italicize(i,r);yield a.insertContentToEditor(t,u,!0)}n.length>1&&(yield t.edit(r=>{n.forEach(n=>{for(let i=n.start.line;i<=n.end.line;i++){const i=italicize(t.document.getText(n));r.replace(n,i)}})}).then(t=>{if(!t)return a.postWarning("Could not format selections. Abandoning command."),void a.showStatusMessage("Could not format selections. Abandoning command.")}))}l.sendTelemetryData("formatItalic","")}else a.noActiveEditorMessage()}))}function italicize(t,n){const r=t.trim();if(u.isBoldAndItalic(t)||u.isItalic(t))return r.substring(1,r.length-1);return"*"+r+"*"}n.italicFormattingCommand=function italicFormattingCommand(){return[{command:formatItalic.name,callback:formatItalic}]},n.formatItalic=formatItalic,n.italicize=italicize},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.runLinkChecker=n.pickLinkType=n.collapseRelativeLinksForEditor=n.collapseRelativeLinksForFile=n.collapseRelativeLinks=n.collapseRelativeLinksInFolder=n.linkControllerCommands=void 0;const o=r(20),a=r(2),c=r(1),u=r(0),l=r(4),p=r(17),d=r(38),h=r(59),m=r(39);n.linkControllerCommands=[{callback:collapseRelativeLinks,command:collapseRelativeLinks.name},{callback:collapseRelativeLinksInFolder,command:collapseRelativeLinksInFolder.name}];const g={expression:/\]\((?<path>\..\/[^http?|~].+?)(?<query>\?.+?)?(?<hash>#.+?)?\)/gm,groups:["path","query","hash"]};let y;function collapseRelativeLinksInFolder(t){return i(this,void 0,void 0,(function*(){yield c.window.withProgress({cancellable:!0,location:c.ProgressLocation.Notification,title:"Collapsing links in folder"},(n,r)=>i(this,void 0,void 0,(function*(){r.onCancellationRequested(()=>{u.postInformation("Collapsing links operation canceled by user.")});const i=yield c.workspace.findFiles(new c.RelativePattern(t.path,"**/*.md")),o=i.length,l=o>20;let p=`scanning ${m.numberFormat.format(o)} markdown files.${l?" This might take a while, please be patient.":""}`;n.report({increment:0,message:p});const d=100/o;let h=0;for(let t=0;t<o&&!r.isCancellationRequested;t++){const r=i[t];let o=0;if(l)o=yield collapseRelativeLinksForFile(r.fsPath);else{const t=yield c.workspace.openTextDocument(r);o=yield collapseRelativeLinksForEditor(t,null)}o>0&&(h++,p=`collapsed ${o} links in ${a.basename(r.fsPath)}`),n.report({increment:d,message:p})}p=`Collapsed links in ${m.numberFormat.format(h)} of the ${m.numberFormat.format(o)} files scanned.`,n.report({increment:100,message:p}),u.postInformation(p)})))}))}function collapseRelativeLinks(){return i(this,void 0,void 0,(function*(){const t=c.window.activeTextEditor;t?yield collapseRelativeLinksForEditor(t.document,t):u.noActiveEditorMessage()}))}function collapseRelativeLinksForFile(t,n=!0){return i(this,void 0,void 0,(function*(){if(o.existsSync(t)){let r=(yield o.promises.readFile(t)).toString("utf8");if(!r)return 0;const i=p.findMatchesInText(r,g);if(!i||!i.length)return 0;const c=a.dirname(t),u=[];for(let t=0;t<i.length;t++){const n=i[t],r=a.join(c,n.value);if(n&&o.existsSync(r)){const t=tryGetRelativePath(c,r);t!==n.value&&"./"+t!==n.value&&u.push({originalValue:n.value,newValue:t})}}return 0===u.length?0:(u.forEach(t=>{r=r.replace(t.originalValue,t.newValue)}),n&&(yield o.promises.writeFile(t,r,"utf8")),u.length)}return 0}))}function collapseRelativeLinksForEditor(t,n){return i(this,void 0,void 0,(function*(){const r=t.getText();if(!r)return;const i=a.dirname(t.fileName),u=p.findReplacements(t,r,null,g);if(!u||0===u.length)return 0;const l=[];for(let t=0;t<u.length;t++){const n=u[t],r=a.join(i,n.value);if(n&&o.existsSync(r)){const t=tryGetRelativePath(i,r);t!==n.value&&"./"+t!==n.value&&l.push({selection:n.selection,value:t})}}return 0===l.length?0:(n||(n=yield c.window.showTextDocument(t)),yield p.applyReplacements(l,n),l.length)}))}function tryGetRelativePath(t,n){try{const r=a.relative(t,n);return r?r.replace(/\\/g,"/"):null}catch(t){return u.postWarning(t),null}}function runLinkChecker(){c.commands.executeCommand("extension.generateLinkReport")}n.collapseRelativeLinksInFolder=collapseRelativeLinksInFolder,n.collapseRelativeLinks=collapseRelativeLinks,n.collapseRelativeLinksForFile=collapseRelativeLinksForFile,n.collapseRelativeLinksForEditor=collapseRelativeLinksForEditor,n.pickLinkType=function pickLinkType(){const t=[];t.push({description:"",label:"$(file-symlink-directory) Link to file in repo"}),t.push({description:"",label:"$(globe) Link to web page"}),t.push({description:"",label:"$(link) Link to heading"}),t.push({description:"",label:"$(x) Link to Xref"}),u.checkExtension("blackmist.LinkCheckMD")&&t.push({description:"",label:"$(check) Generate a link report"}),c.window.showQuickPick(t,{placeHolder:"Select an Link type"}).then(t=>{if(!t)return;switch(t.label.toLowerCase().split(")")[1].trim()){case"link to file in repo":d.Insert(d.MediaType.Link),y="link to file in repo";break;case"link to web page":d.insertURL(),y="link to web page";break;case"link to heading":d.selectLinkType(),y="link to heading";break;case"link to xref":h.applyXref(),y="link to Xref";break;case"generate a link report":runLinkChecker(),y="generate a link report"}l.sendTelemetryData("insertLink",y)})},n.runLinkChecker=runLinkChecker},function(t,n,r){"use strict";t.exports=function bind(t,n){return function wrap(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return t.apply(n,r)}}},function(t,n,r){"use strict";t.exports=function isCancel(t){return!(!t||!t.__CANCEL__)}},function(t,n,r){"use strict";var i=r(9),o=r(277),a={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(t,n){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=n)}var c={adapter:function getDefaultAdapter(){var t;return"undefined"!=typeof XMLHttpRequest?t=r(278):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(t=r(284)),t}(),transformRequest:[function transformRequest(t,n){return o(n,"Accept"),o(n,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(setContentTypeIfUnset(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(setContentTypeIfUnset(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function transformResponse(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function validateStatus(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function forEachMethodNoData(t){c.headers[t]={}})),i.forEach(["post","put","patch"],(function forEachMethodWithData(t){c.headers[t]=i.merge(a)})),t.exports=c},function(t,n,r){"use strict";var i=r(62);t.exports=function settle(t,n,r){var o=r.config.validateStatus;!o||o(r.status)?t(r):n(i("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(t,n,r){"use strict";t.exports=function enhanceError(t,n,r,i,o){return t.config=n,r&&(t.code=r),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,n,r){"use strict";var i=r(279),o=r(280);t.exports=function buildFullPath(t,n){return t&&!i(n)?o(t,n):n}},function(t,n,r){var i=r(16),o=r(21),a=r(23),c=r(19),u=r(45).Writable,l=r(285)("follow-redirects"),p={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},d=Object.create(null);function RedirectableRequest(t,n){u.call(this),t.headers=t.headers||{},this._options=t,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t.host&&(t.hostname||(t.hostname=t.host),delete t.host),n&&this.on("response",n);var r=this;if(this._onNativeResponse=function(t){r._processResponse(t)},!t.pathname&&t.path){var i=t.path.indexOf("?");i<0?t.pathname=t.path:(t.pathname=t.path.substring(0,i),t.search=t.path.substring(i))}this._performRequest()}function wrap(t){var n={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach((function(o){var a=o+":",u=r[a]=t[o],p=n[o]=Object.create(u);p.request=function(t,o){return"string"==typeof t?(t=i.parse(t)).maxRedirects=n.maxRedirects:t=Object.assign({protocol:a,maxRedirects:n.maxRedirects,maxBodyLength:n.maxBodyLength},t),t.nativeProtocols=r,c.equal(t.protocol,a,"protocol mismatch"),l("options",t),new RedirectableRequest(t,o)},p.get=function(t,n){var r=p.request(t,n);return r.end(),r}})),n}["abort","aborted","error","socket","timeout"].forEach((function(t){d[t]=function(n){this._redirectable.emit(t,n)}})),RedirectableRequest.prototype=Object.create(u.prototype),RedirectableRequest.prototype.write=function(t,n,r){if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof n&&(r=n,n=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:n}),this._currentRequest.write(t,n,r)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):r&&r()},RedirectableRequest.prototype.end=function(t,n,r){"function"==typeof t?(r=t,t=n=null):"function"==typeof n&&(r=n,n=null);var i=this._currentRequest;this.write(t||"",n,(function(){i.end(null,null,r)}))},RedirectableRequest.prototype.setHeader=function(t,n){this._options.headers[t]=n,this._currentRequest.setHeader(t,n)},RedirectableRequest.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach((function(t){RedirectableRequest.prototype[t]=function(n,r){return this._currentRequest[t](n,r)}})),["aborted","connection","socket"].forEach((function(t){Object.defineProperty(RedirectableRequest.prototype,t,{get:function(){return this._currentRequest[t]}})})),RedirectableRequest.prototype._performRequest=function(){var t=this._options.protocol,n=this._options.nativeProtocols[t];if(n){if(this._options.agents){var r=t.substr(0,t.length-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=n.request(this._options,this._onNativeResponse);for(var a in this._currentUrl=i.format(this._options),o._redirectable=this,d)a&&o.on(a,d[a]);if(this._isRedirect){var c=0,u=this._requestBodyBuffers;!function writeNext(){if(c<u.length){var t=u[c++];o.write(t.data,t.encoding,writeNext)}else o.end()}()}}else this.emit("error",new Error("Unsupported protocol "+t))},RedirectableRequest.prototype._processResponse=function(t){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:t.statusCode});var n=t.headers.location;if(n&&!1!==this._options.followRedirects&&t.statusCode>=300&&t.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var r,o=this._options.headers;if(307!==t.statusCode&&!(this._options.method in p))for(r in this._options.method="GET",this._requestBodyBuffers=[],o)/^content-/i.test(r)&&delete o[r];if(!this._isRedirect)for(r in o)/^host$/i.test(r)&&delete o[r];var a=i.resolve(this._currentUrl,n);l("redirecting to",a),Object.assign(this._options,i.parse(a)),this._isRedirect=!0,this._performRequest(),t.destroy()}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]},t.exports=wrap({http:o,https:a}),t.exports.wrap=wrap},function(t,n,r){function createDebug(t){var r;function debug(){if(debug.enabled){var t=debug,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var a=new Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,i){if("%%"===r)return r;u++;var o=n.formatters[i];if("function"==typeof o){var c=a[u];r=o.call(t,c),a.splice(u,1),u--}return r})),n.formatArgs.call(t,a);var l=debug.log||n.log||console.log.bind(console);l.apply(t,a)}}return debug.namespace=t,debug.enabled=n.enabled(t),debug.useColors=n.useColors(),debug.color=function selectColor(t){var r,i=0;for(r in t)i=(i<<5)-i+t.charCodeAt(r),i|=0;return n.colors[Math.abs(i)%n.colors.length]}(t),debug.destroy=destroy,"function"==typeof n.init&&n.init(debug),n.instances.push(debug),debug}function destroy(){var t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}(n=t.exports=createDebug.debug=createDebug.default=createDebug).coerce=function coerce(t){return t instanceof Error?t.stack||t.message:t},n.disable=function disable(){n.enable("")},n.enable=function enable(t){var r;n.save(t),n.names=[],n.skips=[];var i=("string"==typeof t?t:"").split(/[\s,]+/),o=i.length;for(r=0;r<o;r++)i[r]&&("-"===(t=i[r].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(r=0;r<n.instances.length;r++){var a=n.instances[r];a.enabled=n.enabled(a.namespace)}},n.enabled=function enabled(t){if("*"===t[t.length-1])return!0;var r,i;for(r=0,i=n.skips.length;r<i;r++)if(n.skips[r].test(t))return!1;for(r=0,i=n.names.length;r<i;r++)if(n.names[r].test(t))return!0;return!1},n.humanize=r(287),n.instances=[],n.names=[],n.skips=[],n.formatters={}},function(t,n,r){"use strict";var i=r(9);t.exports=function mergeConfig(t,n){n=n||{};var r={},o=["url","method","params","data"],a=["headers","auth","proxy"],c=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(o,(function valueFromConfig2(t){void 0!==n[t]&&(r[t]=n[t])})),i.forEach(a,(function mergeDeepProperties(o){i.isObject(n[o])?r[o]=i.deepMerge(t[o],n[o]):void 0!==n[o]?r[o]=n[o]:i.isObject(t[o])?r[o]=i.deepMerge(t[o]):void 0!==t[o]&&(r[o]=t[o])})),i.forEach(c,(function defaultToConfig2(i){void 0!==n[i]?r[i]=n[i]:void 0!==t[i]&&(r[i]=t[i])}));var u=o.concat(a).concat(c),l=Object.keys(n).filter((function filterAxiosKeys(t){return-1===u.indexOf(t)}));return i.forEach(l,(function otherKeysDefaultToConfig2(i){void 0!==n[i]?r[i]=n[i]:void 0!==t[i]&&(r[i]=t[i])})),r}},function(t,n,r){"use strict";function Cancel(t){this.message=t}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,t.exports=Cancel},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeNestedList=n.insertNestedList=n.automaticList=n.insertBulletedList=n.insertNumberedList=n.insertListsCommands=void 0;const i=r(1),o=r(114),a=r(0),c=r(295),u=r(15),l=r(4);let p;function insertNumberedList(){p="numbered";const t=i.window.activeTextEditor;t?a.isValidEditor(t,!1,"insert numbered list")&&a.isMarkdownFileCheck(t,!1)&&(c.checkEmptyLine(t)||c.checkEmptySelection(t)?c.insertList(t,o.ListType.Numbered):c.createNumberedListFromText(t),l.sendTelemetryData("insertList",p)):a.noActiveEditorMessage()}function insertBulletedList(){p="bulleted";const t=i.window.activeTextEditor;if(t){if(a.isValidEditor(t,!1,"insert bulleted list")&&a.isMarkdownFileCheck(t,!1)){try{c.checkEmptyLine(t)?c.insertList(t,o.ListType.Bulleted):c.createBulletedListFromText(t)}catch(t){u.output.appendLine(t)}l.sendTelemetryData("insertList",p)}}else a.noActiveEditorMessage()}function automaticList(){const t=i.window.activeTextEditor;if(t)try{if(!a.isValidEditor(t,!1,"automatic list"))return;if(!a.isMarkdownFileCheck(t,!1))return;const n=t.selection.active,r=c.getNumberedLine(t.document.lineAt(n.line).text.substring(0,n.character)),i=c.getAlphabetLine(t.document.lineAt(n.line).text.substring(0,n.character));if(r>0)c.autolistNumbered(t,n,r);else if(i>0)c.autolistAlpha(t,n,i);else if(c.isBulletedLine(t.document.lineAt(n.line).text.trim())&&!n.isEqual(n.with(n.line,0))){const r=t.document.lineAt(n.line).text;let i="";const o=c.addIndent(t.document.lineAt(n.line).text);i="-"===r.trim()&&r.indexOf("-")===r.length-1?" \n"+o+"- ":"\n"+o+"- ",a.insertContentToEditor(t,i,!1)}else{const n="\n";a.insertContentToEditor(t,n,!1)}}catch(n){const r="\n";a.insertContentToEditor(t,r,!1)}else a.noActiveEditorMessage()}function insertNestedList(){const t=i.window.activeTextEditor;if(t){const n=t.selection.active;if(!a.isValidEditor(t,!1,"insert nested list"))return;if(!a.isMarkdownFileCheck(t,!1))return;if(t.selection.isSingleLine)if(c.checkEmptyLine(t))a.insertContentToEditor(t,c.tabPattern,!1);else{const r=t.document.getText(new i.Range(n.with(n.line,0),n.with(n.line,t.selection.end.character))),o=c.CountIndent(t.document.lineAt(n.line).text),u=new RegExp(c.fixedNumberedListWithIndentRegexTemplate.replace("{0}",o.toString()));null!=c.fixedBulletedListRegex.exec(r)?t.edit(t=>{t.insert(n.with(n.line,0),c.tabPattern)}):c.getNumberedLineWithRegex(u,r)>0?(c.nestedNumberedList(t,n,o),a.insertContentToEditor(t,c.tabPattern,!1)):a.insertContentToEditor(t,c.tabPattern,!1)}else{const n=t.selection.start,r=t.selection.end,o=[];for(let i=n.line;i<=r.line;i++){const n=t.document.lineAt(i).text;o.push(c.tabPattern+n)}const u=new i.Range(n.line,0,r.line,t.document.lineAt(r.line).text.length),l=o.join("\n");a.insertContentToEditor(t,l,!0,u)}}else a.noActiveEditorMessage()}function removeNestedList(){const t=i.window.activeTextEditor;t?a.isMarkdownFileCheck(t,!1)&&(t.selection.isSingleLine?c.removeNestedListSingleLine(t):c.removeNestedListMultipleLine(t)):a.noActiveEditorMessage()}n.insertListsCommands=function insertListsCommands(){return[{command:automaticList.name,callback:automaticList},{command:insertBulletedList.name,callback:insertBulletedList},{command:insertNestedList.name,callback:insertNestedList},{command:insertNumberedList.name,callback:insertNumberedList},{command:removeNestedList.name,callback:removeNestedList}]},n.insertNumberedList=insertNumberedList,n.insertBulletedList=insertBulletedList,n.automaticList=automaticList,n.insertNestedList=insertNestedList,n.removeNestedList=removeNestedList},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ListType=void 0,function(t){t[t.Numbered=0]="Numbered",t[t.Alphabet=1]="Alphabet",t[t.Bulleted=2]="Bulleted",t[t.Other=3]="Other"}(n.ListType||(n.ListType={}))},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.updateMetadataDate=n.updateImplicitMetadataValues=n.insertMetadataCommands=void 0;const o=r(3),a=r(2),c=r(1),u=r(0),l=r(4),p=r(17);n.insertMetadataCommands=function insertMetadataCommands(){return[{command:updateMetadataDate.name,callback:updateMetadataDate},{command:updateImplicitMetadataValues.name,callback:updateImplicitMetadataValues}]};class ReplacementFormat{constructor(t,n){this.type=t,this.value=n}toReplacementString(){return`${this.type}: ${this.value}`}}const d=/ms.date:\s*\b(.+?)$/im,h=new Map([["author",/^author:\s*\b(.+?)$/im],["manager",/^manager:\s*\b(.+?)$/im],["titleSuffix",/^titleSuffix:\s*\b(.+?)$/im],["ms.author",/ms.author:\s*\b(.+?)$/im],["ms.date",d],["ms.service",/ms.service:\s*\b(.+?)$/im],["ms.subservice",/ms.subservice:\s*\b(.+?)$/im]]);function updateImplicitMetadataValues(){return i(this,void 0,void 0,(function*(){const t=c.window.activeTextEditor;if(!t)return void u.noActiveEditorMessage();if(!u.isMarkdownFileCheck(t,!1))return;const n=t.document.getText();if(n){const r=yield function getMetadataReplacements(t){return i(this,void 0,void 0,(function*(){const n=c.workspace.getWorkspaceFolder(t.document.uri);if(n){const r=u.tryFindFile(n.uri.fsPath,"docfx.json");if(r&&o.existsSync(r)){const n=o.readFileSync(r),i=JSON.parse(n.toString());if(i&&i.build&&i.build.fileMetadata){const n=[],r=t.document.uri.fsPath,o=i.build.fileMetadata,tryAssignReplacement=(t,r,i)=>{if(i){const o=function getReplacementValue(t,n){if(t&&n){let r=n.split(a.sep);const i=Object.keys(t).map(t=>({key:t,segments:t.split("/")})),o=i[0].segments[0];r=r.slice(r.indexOf(o));const c=r.length;for(let n=0;n<i.length;++n){const o=i[n];if(c<=o.segments.length){let n=!1;for(let t=0;t<r.length-1;++t){const i=r[t],a=o.segments[t];if(a.startsWith("*"))break;n=i.toLowerCase()===a.toLowerCase()}if(n)return t[o.key]}}}return}(i,t);if(o)return n.push(new ReplacementFormat(r,o)),!0}return!1};if(!tryAssignReplacement(r,"author",o.author)){const t=c.workspace.getConfiguration("docs.templates").githubid;t&&n.push(new ReplacementFormat("author",t))}if(!tryAssignReplacement(r,"ms.author",o["ms.author"])){const t=c.workspace.getConfiguration("docs.templates").alias;t&&n.push(new ReplacementFormat("ms.author",t))}return tryAssignReplacement(r,"manager",o.manager),tryAssignReplacement(r,"titleSuffix",o.titleSuffix),tryAssignReplacement(r,"ms.service",o["ms.service"]),tryAssignReplacement(r,"ms.subservice",o["ms.subservice"]),n.push(new ReplacementFormat("ms.date",u.toShortDate(new Date))),n}}}return[]}))}(t);if(r){const i=[];for(let o=0;o<r.length;++o){const a=r[o];if(a){const r=h.get(a.type),o=p.findReplacement(t.document,n,a.toReplacementString(),r);o&&i.push(o)}}yield p.applyReplacements(i,t),yield saveAndSendTelemetry()}}}))}function updateMetadataDate(){return i(this,void 0,void 0,(function*(){const t=c.window.activeTextEditor;if(!t)return void u.noActiveEditorMessage();if(!u.isMarkdownFileCheck(t,!1))return;const n=t.document.getText();if(n){const r=p.findReplacement(t.document,n,"ms.date: "+u.toShortDate(new Date),d);r&&(yield p.applyReplacements([r],t),yield saveAndSendTelemetry())}}))}function saveAndSendTelemetry(){return i(this,void 0,void 0,(function*(){yield c.commands.executeCommand("workbench.action.files.save");l.sendTelemetryData("updateMetadata",updateMetadataDate.name)}))}n.updateImplicitMetadataValues=updateImplicitMetadataValues,n.updateMetadataDate=updateMetadataDate},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.insertMoniker=n.insertMonikerCommand=void 0;const o=r(1),a=r(0),c=r(4),u=r(35);function insertMoniker(){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;let n="";if(!t)return void a.noActiveEditorMessage();if(!a.isMarkdownFileCheck(t,!1))return;if(function isContentOnCurrentLine(t){const n=new o.Range(t.selection.active.line,0,t.selection.active.line,1e3),r=t.document.getText(n);if(""===r)return!1;return!/^\s+$/.test(r)}(t))return void o.window.showErrorMessage("Moniker must be inserted on a new line.");const r=["range equals","range greater than or equal","range less than or equal"],l=yield o.window.showQuickPick(r);l&&(l===r[0]&&(n=""),l===r[1]&&(n=">="),l===r[2]&&(n="<="),u.isCursorInsideYamlHeader(t)?yield function insertYamlMoniker(t,n){return i(this,void 0,void 0,(function*(){const r=`monikerRange: '${n}'`,i=r.indexOf("'")+n.length+1;yield a.insertContentToEditor(t,r,!1),a.setCursorPosition(t,t.selection.active.line,i);c.sendTelemetryData("insertMoniker","yaml-header")}))}(t,n):yield function insertMarkdownMoniker(t,n){return i(this,void 0,void 0,(function*(){const r=`::: moniker range="${n}"\n\n::: moniker-end`;yield a.insertContentToEditor(t,r,!1);const i=r.indexOf('"')+n.length+1;a.setCursorPosition(t,t.selection.active.line,i);c.sendTelemetryData("insertMoniker","markdown-body")}))}(t,n))}))}n.insertMonikerCommand=function insertMonikerCommand(){return[{command:insertMoniker.name,callback:insertMoniker}]},n.insertMoniker=insertMoniker},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.noLocText=n.noLocCompletionItemsYaml=n.noLocCompletionItemsMarkdown=n.noLocCompletionItemsMarkdownYamlHeader=n.noLocTextCommand=void 0;const o=r(1),a=r(0),c=r(4),u=r(35);let l;function noLocText(){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;t?a.isMarkdownFileCheck(t,!1)?u.isCursorInsideYamlHeader(t)?yield insertYamlNoLocEntry(t):yield function insertMarkdownNoLocEntry(t){return i(this,void 0,void 0,(function*(){l="markdown-entry",c.sendTelemetryData("applyNoLoc",l);const n=t.document.getText(t.selection);if(""===n){const n=':::no-loc text="":::';yield a.insertContentToEditor(t,n,!1);const r=new o.Position(t.selection.active.line,t.selection.active.character+n.indexOf('"')+1),i=new o.Selection(r,r);t.selection=i}else{const r=`:::no-loc text="${n}":::`;yield a.insertContentToEditor(t,r,!0,t.selection);const i=new o.Position(t.selection.end.line,t.selection.end.character+r.indexOf('"')+1),c=new o.Selection(i,i);t.selection=c}}))}(t):yield insertYamlNoLocEntry(t):a.noActiveEditorMessage()}))}function insertYamlNoLocEntry(t){return i(this,void 0,void 0,(function*(){if(l="yaml-entry",c.sendTelemetryData("applyNoLoc",l),function isContentOnCurrentLine(t){const n=new o.Range(t.selection.active.line,0,t.selection.active.line,1e3),r=t.document.getText(n);if(""===r)return!1;return!/^\s+$/.test(r)}(t))o.window.showErrorMessage("The no-loc metadata must be inserted on a new line.");else if(a.isMarkdownFileCheck(t,!1)){const n="no-loc: []";yield a.insertContentToEditor(t,n,!1);const r=new o.Position(t.selection.active.line,n.indexOf("]")),i=new o.Selection(r,r);t.selection=i}else{const n=`no-loc:\n${function getTabInsertion(t){let n="";const r=t.selection.end.character;for(let i=0;i<r;i++)n+=t.options.insertSpaces?" ":"\t";return n}(t)}- `;yield a.insertContentToEditor(t,n,!1);const r=new o.Position(t.selection.active.line+1,n.indexOf("- ")+1),i=new o.Selection(r,r);t.selection=i}}))}n.noLocTextCommand=function noLocTextCommand(){return[{command:noLocText.name,callback:noLocText}]},n.noLocCompletionItemsMarkdownYamlHeader=function noLocCompletionItemsMarkdownYamlHeader(){return[new o.CompletionItem("no-loc: []")]},n.noLocCompletionItemsMarkdown=function noLocCompletionItemsMarkdown(){return[new o.CompletionItem(':::no-loc text="":::')]},n.noLocCompletionItemsYaml=function noLocCompletionItemsYaml(){return[new o.CompletionItem("no-loc:\n- ")]},n.noLocText=noLocText},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.seoPreview=n.previewTopic=n.previewTopicCommand=void 0;const i=r(1),o=r(0),a=r(4);let c="previewTopic";function previewTopic(){const t=i.window.activeTextEditor;if(t){{if(!o.isValidEditor(t,!1,"preview topic"))return;if(!o.isMarkdownFileCheck(t,!1))return;const n=o.getOSPlatform(),r="docsmsft.docs-preview",{msTimeValue:a}=o.generateTimestamp(),c=`[${a}] - The ${"docsmsft.docs-preview".split(".").reverse()[0]} extension is not installed.`;o.checkExtension(r,c)&&("linux"===n?i.commands.executeCommand("markdown.showPreviewToSide"):i.commands.executeCommand("docs.showPreviewToSide"))}a.sendTelemetryData(c,"")}else o.noActiveEditorMessage()}function seoPreview(){const t=i.window.activeTextEditor;if(t){{if(!o.isValidEditor(t,!1,"preview seo"))return;if(!o.isMarkdownFileCheck(t,!1))return;const n=o.getOSPlatform(),r="docsmsft.docs-preview",{msTimeValue:a}=o.generateTimestamp(),c=`[${a}] - The ${"docsmsft.docs-preview".split(".").reverse()[0]} extension is not installed.`;o.checkExtension(r,c)&&("linux"===n?i.commands.executeCommand("markdown.seoPreview"):i.commands.executeCommand("docs.seoPreview"))}c="docs.seoPreview",a.sendTelemetryData(c,"")}else o.noActiveEditorMessage()}n.previewTopicCommand=function previewTopicCommand(){return[{command:previewTopic.name,callback:previewTopic},{command:seoPreview.name,callback:seoPreview}]},n.previewTopic=previewTopic,n.seoPreview=seoPreview},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.insertNewColumnWithSpan=n.insertNewColumn=n.insertRowsWithColumns=n.insertRowsAndColumns=n.insertRowsAndColumnsCommand=void 0;const i=r(1),o=r(0),a=r(299),c=r(4);let u;function insertRowsAndColumns(){const t=i.window.activeTextEditor;if(t){if(!o.isMarkdownFileCheck(t,!1))return;const n=["Two-column structure","New column","New column with span"];i.window.showQuickPick(n).then(t=>{if(t)switch(t){case"Two-column structure":insertRowsWithColumns();break;case"New column":insertNewColumn();break;case"New column with span":insertNewColumnWithSpan()}})}else o.noActiveEditorMessage()}function insertRowsWithColumns(){a.createRow(2),u="row",c.sendTelemetryData("insertColumn",u)}function insertNewColumn(){a.addNewColumn(),u="column",c.sendTelemetryData("insertColumn",u)}function insertNewColumnWithSpan(){a.addNewColumnWithSpan(),u="column-with-span",c.sendTelemetryData("insertColumn",u)}n.insertRowsAndColumnsCommand=function insertRowsAndColumnsCommand(){return[{command:insertRowsAndColumns.name,callback:insertRowsAndColumns}]},n.insertRowsAndColumns=insertRowsAndColumns,n.insertRowsWithColumns=insertRowsWithColumns,n.insertNewColumn=insertNewColumn,n.insertNewColumnWithSpan=insertNewColumnWithSpan},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.insertSnippet=n.insertSnippetCommand=void 0;const o=r(1),a=r(0),c=r(4),u=r(300);function insertSnippet(){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;t?a.isValidEditor(t,!1,insertSnippet.name)&&a.isMarkdownFileCheck(t,!1)&&a.hasValidWorkSpaceRootPath("insertSnippet")&&(yield u.searchRepo(),c.sendTelemetryData("insertSnippet","")):a.noActiveEditorMessage()}))}n.insertSnippetCommand=function insertSnippetCommand(){return[{command:insertSnippet.name,callback:insertSnippet}]},n.insertSnippet=insertSnippet},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.insertTable=n.distributeTable=n.consolidateTable=n.insertTableCommand=void 0;const o=r(1),a=r(0),c=r(302),u=r(15),l=r(4),p=r(17);let d;function consolidateTable(){return i(this,void 0,void 0,(function*(){yield reformatTable(c.FormatOptions.Consolidate)}))}function distributeTable(){return i(this,void 0,void 0,(function*(){yield reformatTable(c.FormatOptions.Distribute)}))}function reformatTable(t){return i(this,void 0,void 0,(function*(){const n=o.window.activeTextEditor;if(!n)return void a.noActiveEditorMessage();const r=n.selection;if(!r)return void a.postWarning("You must select a markdown table first.");const i=c.MarkdownTable.parse(r,n.document);i&&(yield i.reformat(n,t))}))}function insertTable(){let t;const n=o.window.activeTextEditor;if(!n)return void a.noActiveEditorMessage();if(!a.isValidEditor(n,!1,insertTable.name))return;if(!a.isMarkdownFileCheck(n,!1))return;o.window.showInputBox({prompt:"Input the number of columns and rows as C:R"}).then(r=>{if(r){const i=r.split(":");if(p.validateTableRowAndColumnCount(i.length,i[0],i[1])){const r=Number.parseInt(i[0],void 0),o=Number.parseInt(i[1],void 0),c=p.tableBuilder(r,o);a.insertContentToEditor(n,c),t=r+":"+o}else u.output.appendLine("Table insert failed.");d=t,l.sendTelemetryData("insertTable",d)}})}n.insertTableCommand=function insertTableCommand(){return[{command:consolidateTable.name,callback:consolidateTable},{command:distributeTable.name,callback:distributeTable},{command:insertTable.name,callback:insertTable}]},n.consolidateTable=consolidateTable,n.distributeTable=distributeTable,n.insertTable=insertTable},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.yamlCommands=n.insertExpandableParentNode=n.insertTocEntryWithOptions=n.insertTocEntry=void 0;const o=r(304),a=r(305);let c;function insertTocEntry(){return i(this,void 0,void 0,(function*(){c="tocEntry",yield a.checkForPreviousEntry(!1)}))}function insertTocEntryWithOptions(){return i(this,void 0,void 0,(function*(){c="tocEntryWithOptions",yield a.checkForPreviousEntry(!0)}))}function insertExpandableParentNode(){return i(this,void 0,void 0,(function*(){c="expandableParentNode",yield o.createParentNode()}))}n.insertTocEntry=insertTocEntry,n.insertTocEntryWithOptions=insertTocEntryWithOptions,n.insertExpandableParentNode=insertExpandableParentNode,n.yamlCommands=function yamlCommands(){return[{command:insertTocEntry.name,callback:insertTocEntry},{command:insertTocEntryWithOptions.name,callback:insertTocEntryWithOptions},{command:insertExpandableParentNode.name,callback:insertExpandableParentNode}]}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.toUrl=n.toRaw=n.updateNotebook=n.insertNotebook=n.notebookControllerCommands=void 0;const o=r(8),a=r(60),c=r(0),u=r(2),l=r(1),p=r(22),d=r(3),h=r(16);function insertNotebook(){return i(this,void 0,void 0,(function*(){const t=l.window.activeTextEditor;if(t){const n=yield l.window.showInputBox({prompt:"Provide the GitHub URL of the *.ipynb notebook file"});if(!n)return void l.window.showInformationMessage("No URL to take action on.");const r=yield getNotebookAsMarkdown(n);null!==r&&c.insertContentToEditor(t,r,!0)}else c.noActiveEditorMessage()}))}function updateNotebook(){return i(this,void 0,void 0,(function*(){const t=l.window.activeTextEditor;if(t){const n=c.findLineNumberOfPattern(t,"\x3c!-- nbstart"),r=c.findLineNumberOfPattern(t,"\x3c!-- nbend");if(n>-1&&r>-1&&n<r){t.selection=new l.Selection(n,0,r,14);const i=function getUrl(t,n){const r=t.document.lineAt(n).text;return r.replace("\x3c!-- nbstart ","").replace(" --\x3e","")}(t,n),o=yield getNotebookAsMarkdown(i);o&&c.insertContentToEditor(t,o,!0)}else l.window.showInformationMessage("There isn't a notebook to update in this document")}else c.noActiveEditorMessage()}))}function getConvertPromise(t){return new Promise((n,r)=>{!function convertToMarkdown(t,n){const r=["nbconvert","--to","markdown",`"${t}"`,"--stdout"];let i=null;const a=o.platform(),c=p.execSync(("win32"===a?"where":"which")+" python").toString();let l=c.split("\r\n")[0].substr(0,c.length-1);l=l.replace("python.exe","");const d=u.join(l,"Scripts/jupyter"),h=u.resolve(d),m=p.spawn(h,r,{windowsVerbatimArguments:!0});m.stdout.on("data",t=>{i={markdown:t+""}}),m.on("error",t=>{n(null,t)}),m.on("exit",(r,o)=>{0!==r?n(null,{name:"FileSystemError",message:`Unable to convert '${t}' to markdown - error code: ${r}`}):n(i,null)})}(t,(t,i)=>{i||null===t?r(i):n(t)})})}function getNotebookAsMarkdown(t){return i(this,void 0,void 0,(function*(){const r=n.toRaw(t),o=yield function getRawNotebookJson(t){return i(this,void 0,void 0,(function*(){const n=yield a.default(t),r=yield n.data;return JSON.stringify(r)}))}(r);d.writeFileSync("temp.ipynb",o);const c=u.resolve("temp.ipynb");try{const t=yield getConvertPromise(c);return null!==t?function wrapMarkdownInTemplate(t,r){const i=n.toUrl(r),o=r.split("/"),a=o[o.length-1];return`\x3c!-- nbstart ${r} --\x3e\n\n> [!TIP]\n> Contents of _${a}_. **[Open in GitHub](${i})**.\n\n`+t+"\n\x3c!-- nbend --\x3e\n"}(t.markdown,r):null}finally{d.unlinkSync(c)}}))}var m;n.notebookControllerCommands=[{command:insertNotebook.name,callback:insertNotebook},{command:updateNotebook.name,callback:updateNotebook}],n.insertNotebook=insertNotebook,n.updateNotebook=updateNotebook,function(t){t[t.Base=0]="Base",t[t.Raw=1]="Raw"}(m||(m={}));function convertUrlTo(t,n){const r=new h.URL(t);switch(n){case m.Base:if("raw.githubusercontent.com"===r.hostname){r.hostname="github.com";const t=r.pathname.split("/");t.splice(3,0,"blob"),r.pathname=t.join("/")}break;case m.Raw:if("github.com"===r.hostname){r.hostname="raw.githubusercontent.com";const t=r.pathname.split("/");t.splice(t.indexOf("blob"),1),r.pathname=t.join("/")}}return r.toString()}n.toRaw=t=>convertUrlTo(t,m.Raw),n.toUrl=t=>convertUrlTo(t,m.Base)},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.validateRepository=n.validateRepositoryCommand=n.DocsValidationExtensionName=void 0;const i=r(1),o=r(0),a=r(4);function validateRepository(){const{msTimeValue:t}=o.generateTimestamp(),r=`[${t}] - The ${n.DocsValidationExtensionName.split(".").reverse()[0]} extension is not installed.`;o.checkExtensionInstalled(n.DocsValidationExtensionName,r)&&i.commands.executeCommand("docs.build"),a.sendTelemetryData("validateRepository","")}n.DocsValidationExtensionName="docsmsft.docs-build",n.validateRepositoryCommand=function validateRepositoryCommand(){return[{command:validateRepository.name,callback:validateRepository}]},n.validateRepository=validateRepository},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RedirectUrl=void 0;const i=r(16),o=r(58),a="https://"+o.DocsMicrosoftCom;class RedirectUrl{constructor(t,n,r){this.config=t,this.originalValue=n,this.url=r,this._filePath=""}static parse(t,n){try{const r=n.startsWith("/")?`${a}${n}`:n,o=new i.URL(r);return new RedirectUrl(t,n,o)}catch(t){return null}}get isExternalUrl(){return this.url.host.toLocaleLowerCase()!==o.DocsMicrosoftCom}get filePath(){if(this._filePath)return this._filePath;const t=this.config,n=this.url.pathname.substring(1).replace(t.docsetName,t.docsetRootFolderName);return this._filePath=n+".md"}toRelativeUrl(){return"/"+this.filePath.replace(".md","").replace(this.config.docsetRootFolderName,this.config.docsetName)}adaptHashAndQueryString(t){let n=t;return this.url.search&&(n+=this.url.search),this.url.hash&&(n+=this.url.hash),n}}n.RedirectUrl=RedirectUrl},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.deactivate=n.setupAutoComplete=n.installedExtensionsCheck=n.activate=n.extensionPath=void 0;const o=r(1),a=r(63),c=r(84),u=r(85),l=r(98),p=r(99),d=r(100),h=r(101),m=r(102),g=r(113),y=r(38),v=r(115),x=r(116),C=r(117),b=r(118),w=r(298),k=r(308),S=r(119),A=r(120),_=r(313),D=r(121),T=r(59),I=r(122),P=r(0),L=r(55),N=r(15),M=r(4),R=r(314),O=r(315),j=r(17),B=r(35),U=r(316),q=r(317),H=r(318),W=r(123),$=r(124);function installedExtensionsCheck(){const{msTimeValue:t}=P.generateTimestamp();["docsmsft.docs-article-templates","docsmsft.docs-preview"].forEach(n=>{const r=n.split(".").reverse()[0],i=`[${t}] - The ${r} extension is not installed.`;P.checkExtension(n,i)})}function setupAutoComplete(){let t=[];t=t.concat(C.noLocCompletionItemsMarkdownYamlHeader());let n=[];n=n.concat(C.noLocCompletionItemsMarkdown());let r=[];return r=r.concat(C.noLocCompletionItemsYaml()),o.languages.registerCompletionItemProvider("*",{provideCompletionItems(i){const a=o.window.activeTextEditor;if(a)return"markdown"===i.languageId?B.isCursorInsideYamlHeader(a)?t:n:r;P.noActiveEditorMessage()}})}n.activate=function activate(t){return i(this,void 0,void 0,(function*(){n.extensionPath=t.extensionPath,t.subscriptions.push(new M.Reporter(t));const{msTimeValue:r}=P.generateTimestamp();N.output.appendLine(`[${r}] - Activating docs markdown extension.`);const B=new U.AllowList(t);j.checkVersion(t)?yield B.refreshAllowList():yield B.getAllowList(),(new O.UiHelper).LoadToolbar(),installedExtensionsCheck();const z=[...m.linkControllerCommands,...p.insertImageCommand,...w.quickPickMenuCommand,...W.notebookControllerCommands];a.insertAlertCommand().forEach(t=>z.push(t)),x.insertMonikerCommand().forEach(t=>z.push(t)),d.insertIncludeCommand().forEach(t=>z.push(t)),y.insertLinksAndMediaCommands().forEach(t=>z.push(t)),g.insertListsCommands().forEach(t=>z.push(t)),A.insertSnippetCommand().forEach(t=>z.push(t)),D.insertTableCommand().forEach(t=>z.push(t)),c.boldFormattingCommand().forEach(t=>z.push(t)),l.codeFormattingCommand().forEach(t=>z.push(t)),h.italicFormattingCommand().forEach(t=>z.push(t)),b.previewTopicCommand().forEach(t=>z.push(t)),$.validateRepositoryCommand().forEach(t=>z.push(t)),k.getMasterRedirectionCommand().forEach(t=>z.push(t)),u.applyCleanupCommand().forEach(t=>z.push(t)),T.applyXrefCommand().forEach(t=>z.push(t)),I.yamlCommands().forEach(t=>z.push(t)),C.noLocTextCommand().forEach(t=>z.push(t)),S.insertRowsAndColumnsCommand().forEach(t=>z.push(t)),v.insertMetadataCommands().forEach(t=>z.push(t)),_.insertSortSelectionCommands().forEach(t=>z.push(t)),L.insertLanguageCommands().forEach(t=>z.push(t)),t.subscriptions.push(setupAutoComplete()),o.languages.registerDocumentLinkProvider({language:"markdown"},{provideDocumentLinks(t,n){const r=/source="(.*?)"/gm,i=t.getText(),o=[];for(const n of P.matchAll(r,i)){const r=P.extractDocumentLink(t,n[1],n.index);r&&o.push(r)}return o}}),o.languages.registerCompletionItemProvider("markdown",q.msSubServiceCompletionItemsProvider(t),":"),o.languages.registerCompletionItemProvider("markdown",q.msTechnologyCompletionItemsProvider(t),":"),o.languages.registerCompletionItemProvider("markdown",q.msServiceCompletionItemsProvider(t),":"),o.languages.registerCompletionItemProvider("markdown",q.msProdCompletionItemsProvider(t),":"),o.languages.registerCompletionItemProvider("markdown",R.tripleColonCompletionItemsProvider,":"),o.languages.registerCompletionItemProvider("markdown",L.markdownCompletionItemsProvider,"`"),o.languages.registerCodeActionsProvider("markdown",L.markdownCodeActionProvider),o.workspace.onDidChangeTextDocument(j.findAndReplaceTargetExpressions),o.workspace.onWillSaveTextDocument((function willSaveTextDocument(t){return i(this,void 0,void 0,(function*(){t.waitUntil(H.nag())}))})),t.subscriptions.push(new M.Reporter(t));try{o.commands.registerCommand("cleanupFile",t=>i(this,void 0,void 0,(function*(){return yield u.applyCleanupFile(t)}))),o.commands.registerCommand("cleanupInFolder",t=>i(this,void 0,void 0,(function*(){return yield u.applyCleanupFolder(t)}))),z.map(n=>{const r=o.commands.registerCommand(n.command,()=>n.callback(t));t.subscriptions.push(r)})}catch(t){N.output.appendLine(`[${r}] - Error registering commands with vscode extension context: + ${t}`)}N.output.appendLine(`[${r}] - Registered commands with vscode extension context.`),o.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration("markdown.showToolbar")&&o.window.showInformationMessage("Your updated configuration has been recorded, but you must reload to see its effects.","Reload").then(t=>{"Reload"===t&&o.commands.executeCommand("workbench.action.reloadWindow")})})}))},n.installedExtensionsCheck=installedExtensionsCheck,n.setupAutoComplete=setupAutoComplete,n.deactivate=function deactivate(){N.output.appendLine("Deactivating extension.")}},function(t,n,r){var i=r(2),o="win32"===process.platform,a=r(3),c=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function maybeCallback(t){return"function"==typeof t?t:function rethrow(){var t;if(c){var n=new Error;t=function debugCallback(t){t&&(n.message=t.message,missingCallback(t=n))}}else t=missingCallback;return t;function missingCallback(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var n="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(n):console.error(n)}}}}()}i.normalize;if(o)var u=/(.*?)(?:[\/\\]+|$)/g;else u=/(.*?)(?:[\/]+|$)/g;if(o)var l=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else l=/^[\/]*/;n.realpathSync=function realpathSync(t,n){if(t=i.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];var r,c,p,d,h=t,m={},g={};function start(){var n=l.exec(t);r=n[0].length,c=n[0],p=n[0],d="",o&&!g[p]&&(a.lstatSync(p),g[p]=!0)}for(start();r<t.length;){u.lastIndex=r;var y=u.exec(t);if(d=c,c+=y[0],p=d+y[1],r=u.lastIndex,!(g[p]||n&&n[p]===p)){var v;if(n&&Object.prototype.hasOwnProperty.call(n,p))v=n[p];else{var x=a.lstatSync(p);if(!x.isSymbolicLink()){g[p]=!0,n&&(n[p]=p);continue}var C=null;if(!o){var b=x.dev.toString(32)+":"+x.ino.toString(32);m.hasOwnProperty(b)&&(C=m[b])}null===C&&(a.statSync(p),C=a.readlinkSync(p)),v=i.resolve(d,C),n&&(n[p]=v),o||(m[b]=C)}t=i.resolve(v,t.slice(r)),start()}}return n&&(n[h]=t),t},n.realpath=function realpath(t,n,r){if("function"!=typeof r&&(r=maybeCallback(n),n=null),t=i.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return process.nextTick(r.bind(null,null,n[t]));var c,p,d,h,m=t,g={},y={};function start(){var n=l.exec(t);c=n[0].length,p=n[0],d=n[0],h="",o&&!y[d]?a.lstat(d,(function(t){if(t)return r(t);y[d]=!0,LOOP()})):process.nextTick(LOOP)}function LOOP(){if(c>=t.length)return n&&(n[m]=t),r(null,t);u.lastIndex=c;var i=u.exec(t);return h=p,p+=i[0],d=h+i[1],c=u.lastIndex,y[d]||n&&n[d]===d?process.nextTick(LOOP):n&&Object.prototype.hasOwnProperty.call(n,d)?gotResolvedLink(n[d]):a.lstat(d,gotStat)}function gotStat(t,i){if(t)return r(t);if(!i.isSymbolicLink())return y[d]=!0,n&&(n[d]=d),process.nextTick(LOOP);if(!o){var c=i.dev.toString(32)+":"+i.ino.toString(32);if(g.hasOwnProperty(c))return gotTarget(null,g[c],d)}a.stat(d,(function(t){if(t)return r(t);a.readlink(d,(function(t,n){o||(g[c]=n),gotTarget(t,n)}))}))}function gotTarget(t,o,a){if(t)return r(t);var c=i.resolve(h,o);n&&(n[a]=c),gotResolvedLink(c)}function gotResolvedLink(n){t=i.resolve(n,t.slice(c)),start()}start()}},function(t,n,r){var i=r(129),o=r(130);t.exports=function expandTop(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function expand(t,n){var r=[],a=o("{","}",t);if(!a||/\$$/.test(a.pre))return[t];var c,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body),d=l||p,h=a.body.indexOf(",")>=0;if(!d&&!h)return a.post.match(/,.*\}/)?(t=a.pre+"{"+a.body+u+a.post,expand(t)):[t];if(d)c=a.body.split(/\.\./);else{if(1===(c=function parseCommaParts(t){if(!t)return[""];var n=[],r=o("{","}",t);if(!r)return t.split(",");var i=r.pre,a=r.body,c=r.post,u=i.split(",");u[u.length-1]+="{"+a+"}";var l=parseCommaParts(c);c.length&&(u[u.length-1]+=l.shift(),u.push.apply(u,l));return n.push.apply(n,u),n}(a.body)).length)if(1===(c=expand(c[0],!1).map(embrace)).length)return(y=a.post.length?expand(a.post,!1):[""]).map((function(t){return a.pre+c[0]+t}))}var m,g=a.pre,y=a.post.length?expand(a.post,!1):[""];if(d){var v=numeric(c[0]),x=numeric(c[1]),C=Math.max(c[0].length,c[1].length),b=3==c.length?Math.abs(numeric(c[2])):1,w=lte;x<v&&(b*=-1,w=gte);var k=c.some(isPadded);m=[];for(var S=v;w(S,x);S+=b){var A;if(p)"\\"===(A=String.fromCharCode(S))&&(A="");else if(A=String(S),k){var _=C-A.length;if(_>0){var D=new Array(_+1).join("0");A=S<0?"-"+D+A.slice(1):D+A}}m.push(A)}}else m=i(c,(function(t){return expand(t,!1)}));for(var T=0;T<m.length;T++)for(var I=0;I<y.length;I++){var P=g+m[T]+y[I];(!n||d||P)&&r.push(P)}return r}(function escapeBraces(t){return t.split("\\\\").join(a).split("\\{").join(c).split("\\}").join(u).split("\\,").join(l).split("\\.").join(p)}(t),!0).map(unescapeBraces)};var a="\0SLASH"+Math.random()+"\0",c="\0OPEN"+Math.random()+"\0",u="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",p="\0PERIOD"+Math.random()+"\0";function numeric(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function unescapeBraces(t){return t.split(a).join("\\").split(c).join("{").split(u).join("}").split(l).join(",").split(p).join(".")}function embrace(t){return"{"+t+"}"}function isPadded(t){return/^-?0\d/.test(t)}function lte(t,n){return t<=n}function gte(t,n){return t>=n}},function(t,n){t.exports=function(t,n){for(var i=[],o=0;o<t.length;o++){var a=n(t[o],o);r(a)?i.push.apply(i,a):i.push(a)}return i};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,n,r){"use strict";function balanced(t,n,r){t instanceof RegExp&&(t=maybeMatch(t,r)),n instanceof RegExp&&(n=maybeMatch(n,r));var i=range(t,n,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+n.length)}}function maybeMatch(t,n){var r=n.match(t);return r?r[0]:null}function range(t,n,r){var i,o,a,c,u,l=r.indexOf(t),p=r.indexOf(n,l+1),d=l;if(l>=0&&p>0){for(i=[],a=r.length;d>=0&&!u;)d==l?(i.push(d),l=r.indexOf(t,d+1)):1==i.length?u=[i.pop(),p]:((o=i.pop())<a&&(a=o,c=p),p=r.indexOf(n,d+1)),d=l<p&&l>=0?l:p;i.length&&(u=[a,c])}return u}t.exports=balanced,balanced.range=range},function(t,n,r){try{var i=r(11);if("function"!=typeof i.inherits)throw"";t.exports=i.inherits}catch(n){t.exports=r(132)}},function(t,n){"function"==typeof Object.create?t.exports=function inherits(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function inherits(t,n){if(n){t.super_=n;var TempCtor=function(){};TempCtor.prototype=n.prototype,t.prototype=new TempCtor,t.prototype.constructor=t}}},function(t,n,r){t.exports=globSync,globSync.GlobSync=GlobSync;var i=r(3),o=r(64),a=r(33),c=(a.Minimatch,r(41).Glob,r(11),r(2)),u=r(19),l=r(42),p=r(66),d=(p.alphasort,p.alphasorti,p.setopts),h=p.ownProp,m=p.childrenIgnored,g=p.isIgnored;function globSync(t,n){if("function"==typeof n||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(t,n).found}function GlobSync(t,n){if(!t)throw new Error("must provide pattern");if("function"==typeof n||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(t,n);if(d(this,t,n),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}GlobSync.prototype._finish=function(){if(u(this instanceof GlobSync),this.realpath){var t=this;this.matches.forEach((function(n,r){var i=t.matches[r]=Object.create(null);for(var a in n)try{a=t._makeAbs(a),i[o.realpathSync(a,t.realpathCache)]=!0}catch(n){if("stat"!==n.syscall)throw n;i[t._makeAbs(a)]=!0}}))}p.finish(this)},GlobSync.prototype._process=function(t,n,r){u(this instanceof GlobSync);for(var i,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),n);case 0:i=null;break;default:i=t.slice(0,o).join("/")}var c,p=t.slice(o);null===i?c=".":l(i)||l(t.join("/"))?(i&&l(i)||(i="/"+i),c=i):c=i;var d=this._makeAbs(c);m(this,c)||(p[0]===a.GLOBSTAR?this._processGlobStar(i,c,d,p,n,r):this._processReaddir(i,c,d,p,n,r))},GlobSync.prototype._processReaddir=function(t,n,r,i,o,a){var u=this._readdir(r,a);if(u){for(var l=i[0],p=!!this.minimatch.negate,d=l._glob,h=this.dot||"."===d.charAt(0),m=[],g=0;g<u.length;g++){if("."!==(x=u[g]).charAt(0)||h)(p&&!t?!x.match(l):x.match(l))&&m.push(x)}var y=m.length;if(0!==y)if(1!==i.length||this.mark||this.stat){i.shift();for(g=0;g<y;g++){var v;x=m[g];v=t?[t,x]:[x],this._process(v.concat(i),o,a)}}else{this.matches[o]||(this.matches[o]=Object.create(null));for(var g=0;g<y;g++){var x=m[g];t&&(x="/"!==t.slice(-1)?t+"/"+x:t+x),"/"!==x.charAt(0)||this.nomount||(x=c.join(this.root,x)),this._emitMatch(o,x)}}}},GlobSync.prototype._emitMatch=function(t,n){if(!g(this,n)){var r=this._makeAbs(n);if(this.mark&&(n=this._mark(n)),this.absolute&&(n=r),!this.matches[t][n]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[t][n]=!0,this.stat&&this._stat(n)}}},GlobSync.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var n,r;try{r=i.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var o=r&&r.isSymbolicLink();return this.symlinks[t]=o,o||!r||r.isDirectory()?n=this._readdir(t,!1):this.cache[t]="FILE",n},GlobSync.prototype._readdir=function(t,n){if(n&&!h(this.symlinks,t))return this._readdirInGlobStar(t);if(h(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,i.readdirSync(t))}catch(n){return this._readdirError(t,n),null}},GlobSync.prototype._readdirEntries=function(t,n){if(!this.mark&&!this.stat)for(var r=0;r<n.length;r++){var i=n[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=n,n},GlobSync.prototype._readdirError=function(t,n){switch(n.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(n.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=n.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw n;this.silent||console.error("glob error",n)}},GlobSync.prototype._processGlobStar=function(t,n,r,i,o,a){var c=this._readdir(r,a);if(c){var u=i.slice(1),l=t?[t]:[],p=l.concat(u);this._process(p,o,!1);var d=c.length;if(!this.symlinks[r]||!a)for(var h=0;h<d;h++){if("."!==c[h].charAt(0)||this.dot){var m=l.concat(c[h],u);this._process(m,o,!0);var g=l.concat(c[h],i);this._process(g,o,!0)}}}},GlobSync.prototype._processSimple=function(t,n){var r=this._stat(t);if(this.matches[n]||(this.matches[n]=Object.create(null)),r){if(t&&l(t)&&!this.nomount){var i=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=c.join(this.root,t):(t=c.resolve(this.root,t),i&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(n,t)}},GlobSync.prototype._stat=function(t){var n=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!r||"DIR"===o)return o;if(r&&"FILE"===o)return!1}var a=this.statCache[n];if(!a){var c;try{c=i.lstatSync(n)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[n]=!1,!1}if(c&&c.isSymbolicLink())try{a=i.statSync(n)}catch(t){a=c}else a=c}this.statCache[n]=a;o=!0;return a&&(o=a.isDirectory()?"DIR":"FILE"),this.cache[n]=this.cache[n]||o,(!r||"FILE"!==o)&&o},GlobSync.prototype._mark=function(t){return p.mark(this,t)},GlobSync.prototype._makeAbs=function(t){return p.makeAbs(this,t)}},function(t,n,r){var i=r(67),o=Object.create(null),a=r(68);function slice(t){for(var n=t.length,r=[],i=0;i<n;i++)r[i]=t[i];return r}t.exports=i((function inflight(t,n){return o[t]?(o[t].push(n),null):(o[t]=[n],function makeres(t){return a((function RES(){var n=o[t],r=n.length,i=slice(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,i)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){RES.apply(null,i)}))):delete o[t]}}))}(t))}))},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.format=void 0;const i=r(69),o=r(136);n.format=function format(t,n){const r=["Information the user should notice even if skimming","Optional information to help a user be more successful","Essential information required for user success","Negative potential consequences of an action","Dangerous certain consequences of an action"];let a=t;if(o.isAlert(t)){if(o.getAlertType(t)===n){return a.split("\r\n").map(t=>t.substring(2)).slice(1).join("\r\n")}{const t=a.split("\r\n").slice(1);return i.AlertTags[n]+t.join("\r\n")}}0===a.length&&(a=r[n]);const c=a.split("\r\n").map(t=>"> "+t);return i.AlertTags[n]+c.join("\r\n")}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isAlert=n.getAlertType=void 0;const i=r(69);n.getAlertType=function getAlertType(t){return i.AlertTags.findIndex(n=>t.startsWith(n))},n.isAlert=function isAlert(t){return!(!i.AlertTags.some(n=>t.startsWith(n))||!t.split("\n").every(t=>t.startsWith(">")))}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var i=r(3),o=r(8),a=r(2),c=r(1),u=r(138),l=function(){function TelemetryReporter(t,n,r,o){var u=this;this.extensionId=t,this.extensionVersion=n,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!o;var l=process.env.VSCODE_LOGS||"";l&&t&&"trace"===process.env.VSCODE_LOG_LEVEL&&(l=a.join(l,t+".txt"),this.logStream=i.createWriteStream(l,{flags:"a",encoding:"utf8",autoClose:!0})),this.updateUserOptIn(r),this.configListener=c.workspace.onDidChangeConfiguration((function(){return u.updateUserOptIn(r)}))}return TelemetryReporter.prototype.updateUserOptIn=function(t){var n=c.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);this.userOptIn!==n.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID,!0)&&(this.userOptIn=n.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID,!0),this.userOptIn?this.createAppInsightsClient(t):this.dispose())},TelemetryReporter.prototype.createAppInsightsClient=function(t){u.defaultClient?(this.appInsightsClient=new u.TelemetryClient(t),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(u.setup(t).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=u.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),c&&c.env&&(this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId]=c.env.machineId,this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId]=c.env.sessionId),t&&0===t.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1",this.firstParty=!0)},TelemetryReporter.prototype.getCommonProperties=function(){var t=Object.create(null);if(t["common.os"]=o.platform(),t["common.platformversion"]=(o.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,c&&c.env){switch(t["common.vscodemachineid"]=c.env.machineId,t["common.vscodesessionid"]=c.env.sessionId,t["common.vscodeversion"]=c.version,c.env.uiKind){case c.UIKind.Web:t["common.uikind"]="web";break;case c.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(c.env.remoteName)}return t},TelemetryReporter.prototype.cleanRemoteName=function(t){if(!t)return"none";var n="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach((function(r){0===t.indexOf(r+"+")&&(n=r)})),n},TelemetryReporter.prototype.shouldSendErrorTelemetry=function(){return!this.firstParty||("other"!==this.cleanRemoteName(c.env.remoteName)||void 0!==this.extension&&this.extension.extensionKind!==c.ExtensionKind.Workspace&&c.env.uiKind!==c.UIKind.Web)},Object.defineProperty(TelemetryReporter.prototype,"extension",{get:function(){return void 0===this._extension&&(this._extension=c.extensions.getExtension(this.extensionId)),this._extension},enumerable:!0,configurable:!0}),TelemetryReporter.prototype.cloneAndChange=function(t,n){if(null===t||"object"!=typeof t)return t;if("function"!=typeof n)return t;var r={};for(var i in t)r[i]=n(i,t[i]);return r},TelemetryReporter.prototype.anonymizeFilePaths=function(t,n){if(null==t)return"";var r=[new RegExp(c.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")];this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var i=t;if(n){for(var o=[],a=0,u=r;a<u.length;a++)for(var l=u[a];;){var p=l.exec(t);if(!p)break;o.push([p.index,l.lastIndex])}var d=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,h=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g,m=0;i="";for(var _loop_1=function(){var n=h.exec(t);if(!n)return"break";!d.test(n[0])&&o.every((function(t){var r=t[0],i=t[1];return n.index<r||n.index>=i}))&&(i+=t.substring(m,n.index)+"<REDACTED: user-file-path>",m=h.lastIndex)};;){if("break"===_loop_1())break}m<t.length&&(i+=t.substr(m))}for(var g=0,y=r;g<y.length;g++){l=y[g];i=i.replace(l,"")}return i},TelemetryReporter.prototype.sendTelemetryEvent=function(t,n,r){var i=this;if(this.userOptIn&&t&&this.appInsightsClient){var o=this.cloneAndChange(n,(function(t,n){return i.anonymizeFilePaths(n,i.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+t,properties:o,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+t+" "+JSON.stringify({properties:n,measurements:r})+"\n")}},TelemetryReporter.prototype.sendTelemetryErrorEvent=function(t,n,r,i){var o=this;if(this.userOptIn&&t&&this.appInsightsClient){var a=this.cloneAndChange(n,(function(t,n){return o.shouldSendErrorTelemetry()?o.anonymizeFilePaths(n,o.firstParty):void 0===i||-1!==i.indexOf(t)?"REDACTED":o.anonymizeFilePaths(n,o.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+t,properties:a,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+t+" "+JSON.stringify({properties:n,measurements:r})+"\n")}},TelemetryReporter.prototype.sendTelemetryException=function(t,n,r){var i=this;if(this.shouldSendErrorTelemetry()&&this.userOptIn&&t&&this.appInsightsClient){var o=this.cloneAndChange(n,(function(t,n){return i.anonymizeFilePaths(n,i.firstParty)}));this.appInsightsClient.trackException({exception:t,properties:o,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+t.name+" "+t.message+" "+JSON.stringify({properties:n,measurements:r})+"\n")}},TelemetryReporter.prototype.dispose=function(){var t=this;this.configListener.dispose();var n=new Promise((function(n){if(!t.logStream)return n(void 0);t.logStream.on("finish",n),t.logStream.end()})),r=new Promise((function(n){t.appInsightsClient?t.appInsightsClient.flush({callback:function(){t.appInsightsClient=void 0,n(void 0)}}):n(void 0)}));return Promise.all([r,n])},TelemetryReporter.TELEMETRY_CONFIG_ID="telemetry",TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",TelemetryReporter}();n.default=l},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o=r(27),a=r(173),c=r(194),u=r(49),l=r(34),p=r(83),d=r(24),h=r(7),m=r(202),g=r(206);n.TelemetryClient=r(207),n.Contracts=r(10),function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C"}(i=n.DistributedTracingModes||(n.DistributedTracingModes={}));var y,v,x,C,b,w,k,S,A,_=!0,D=!1,T=!0,I=!0,P=!0,L=!0,N=!0,M=!0,R=!1,O=!0,j=void 0,B=void 0,U=!1;function start(){return n.defaultClient?(U=!0,x.enable(_,D),C.enable(T),b.enable(I),w.enable(O,v),k.useAutoCorrelation(M,y),k.enable(P),S.enable(L),n.liveMetricsClient&&R&&n.liveMetricsClient.enable(R)):h.warn("Start cannot be called before setup"),q}n.setup=function setup(t){return n.defaultClient?h.info("The default client is already setup"):(n.defaultClient=new n.TelemetryClient(t),x=new a(n.defaultClient),C=new c(n.defaultClient),b=new u(n.defaultClient),k=new p(n.defaultClient),S=new l(n.defaultClient),w||(w=new g.AutoCollectNativePerformance(n.defaultClient))),n.defaultClient&&n.defaultClient.channel&&n.defaultClient.channel.setUseDiskRetryCaching(N,j,B),q},n.start=start,n.getCorrelationContext=function getCorrelationContext(){return M?o.CorrelationContextManager.getCurrentContext():null},n.wrapWithCorrelationContext=function wrapWithCorrelationContext(t){return o.CorrelationContextManager.wrapCallback(t)};var q=function(){function Configuration(){}return Configuration.setDistributedTracingMode=function(t){return d.w3cEnabled=t===i.AI_AND_W3C,Configuration},Configuration.setAutoCollectConsole=function(t,n){return void 0===n&&(n=!1),_=t,D=n,U&&x.enable(t,n),Configuration},Configuration.setAutoCollectExceptions=function(t){return T=t,U&&C.enable(t),Configuration},Configuration.setAutoCollectPerformance=function(t,n){void 0===n&&(n=!0),I=t;var r=g.AutoCollectNativePerformance.parseEnabled(n);return O=r.isEnabled,v=r.disabledMetrics,U&&(b.enable(t),w.enable(r.isEnabled,r.disabledMetrics)),Configuration},Configuration.setAutoCollectRequests=function(t){return P=t,U&&k.enable(t),Configuration},Configuration.setAutoCollectDependencies=function(t){return L=t,U&&S.enable(t),Configuration},Configuration.setAutoDependencyCorrelation=function(t,n){return M=t,y=n,U&&k.useAutoCorrelation(t,n),Configuration},Configuration.setUseDiskRetryCaching=function(t,r,i){return N=t,j=r,B=i,n.defaultClient&&n.defaultClient.channel&&n.defaultClient.channel.setUseDiskRetryCaching(t,r,i),Configuration},Configuration.setInternalLogging=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),h.enableDebug=t,h.disableWarnings=!n,Configuration},Configuration.setSendLiveMetrics=function(t){return void 0===t&&(t=!1),n.defaultClient?(!n.liveMetricsClient&&t?(n.liveMetricsClient=new m(n.defaultClient.config.instrumentationKey),A=new u(n.liveMetricsClient,1e3,!0),n.liveMetricsClient.addCollector(A),n.defaultClient.quickPulseClient=n.liveMetricsClient):n.liveMetricsClient&&n.liveMetricsClient.enable(t),R=t,Configuration):(h.warn("Live metrics client cannot be setup without the default client"),Configuration)},Configuration.start=start,Configuration}();n.Configuration=q,n.dispose=function dispose(){n.defaultClient=null,U=!1,x&&x.dispose(),C&&C.dispose(),b&&b.dispose(),w&&w.dispose(),k&&k.dispose(),S&&S.dispose(),n.liveMetricsClient&&(n.liveMetricsClient.enable(!1),R=!1,n.liveMetricsClient=void 0)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(140);n.azuresdk=i;var o=r(142);n.bunyan=o;var a=r(143);n.console=a;var c=r(145);n.mongodbCore=c;var u=r(146);n.mongodb=u;var l=r(147);n.mysql=l;var p=r(150);n.pgPool=p;var d=r(151);n.pg=d;var h=r(152);n.redis=h;var m=r(153);n.tedious=m;var g=r(154);n.winston=g,n.enable=function enable(){o.enable(),a.enable(),c.enable(),u.enable(),l.enable(),d.enable(),p.enable(),h.enable(),g.enable(),i.enable(),m.enable()}},function(t,n,r){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t};Object.defineProperty(n,"__esModule",{value:!0});var o=r(5);n.AzureMonitorSymbol="Azure_Monitor_Tracer";var a=function(){function AzureMonitorSpanProcessor(){}return AzureMonitorSpanProcessor.prototype.onStart=function(t){},AzureMonitorSpanProcessor.prototype.onEnd=function(t){o.channel.publish("azure-coretracing",t)},AzureMonitorSpanProcessor.prototype.shutdown=function(){},AzureMonitorSpanProcessor}();n.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(t){try{var c=new(0,r(!function webpackMissingModule(){var t=new Error("Cannot find module '@opentelemetry/tracing'");throw t.code="MODULE_NOT_FOUND",t}()).BasicTracer)(o.channel.spanContextPropagator?{scopeManager:o.channel.spanContextPropagator}:void 0),u=c.startSpan;c.startSpan=function(t,n){if(!n||!n.parent){var r=c.getCurrentSpan();r&&r.operation&&r.operation.traceparent&&(n=i({},n,{parent:{traceId:r.operation.traceparent.traceId,spanId:r.operation.traceparent.spanId}}))}var o=u.call(this,t,n);return o.addEvent("Application Insights Integration enabled"),o},c.addSpanProcessor(new a),c[n.AzureMonitorSymbol]=!0,t.setTracer(c)}catch(t){}return t}},n.enable=function enable(){o.channel.registerMonkeyPatch("@azure/core-tracing",n.azureCoreTracing)}},function(t){t.exports=JSON.parse('{"_from":"diagnostic-channel@0.2.0","_id":"diagnostic-channel@0.2.0","_inBundle":false,"_integrity":"sha1-zJmvlhLCP7H/8TYSxy8sv6qNWhc=","_location":"/diagnostic-channel","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"diagnostic-channel@0.2.0","name":"diagnostic-channel","escapedName":"diagnostic-channel","rawSpec":"0.2.0","saveSpec":null,"fetchSpec":"0.2.0"},"_requiredBy":["/applicationinsights"],"_resolved":"https://registry.npmjs.org/diagnostic-channel/-/diagnostic-channel-0.2.0.tgz","_shasum":"cc99af9612c23fb1fff13612c72f2cbfaa8d5a17","_spec":"diagnostic-channel@0.2.0","_where":"D:\\\\a\\\\1\\\\s\\\\packages\\\\docs-markdown\\\\node_modules\\\\applicationinsights","bugs":{"url":"https://github.com/Microsoft/node-diagnostic-channel/issues"},"bundleDependencies":false,"dependencies":{"semver":"^5.3.0"},"deprecated":false,"description":"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers","devDependencies":{"@types/mocha":"^2.2.40","@types/node":"^7.0.12","mocha":"^3.2.0","rimraf":"^2.6.1","tslint":"^5.0.0","typescript":"^2.2.1"},"files":["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],"homepage":"https://github.com/Microsoft/node-diagnostic-channel","license":"MIT","main":"./dist/src/channel.js","name":"diagnostic-channel","repository":{"type":"git","url":"git+https://github.com/Microsoft/node-diagnostic-channel.git"},"scripts":{"build":"tsc","clean":"rimraf ./dist","lint":"tslint -c tslint.json -p tsconfig.json","test":"mocha ./dist/tests/**/*.js"},"types":"./dist/src/channel.d.ts","version":"0.2.0"}')},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5);n.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(t){var n=t.prototype._emit;return t.prototype._emit=function(t,r){var o=n.apply(this,arguments);if(!r){var a=o;a||(a=n.call(this,t,!0)),i.channel.publish("bunyan",{level:t.level,result:a})}return o},t}},n.enable=function enable(){i.channel.registerMonkeyPatch("bunyan",n.bunyan)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5),o=r(45);n.console={versionSpecifier:">= 4.0.0",patch:function(t){var n=new o.Writable,r=new o.Writable;n.write=function(t){if(!t)return!0;var n=t.toString();return i.channel.publish("console",{message:n}),!0},r.write=function(t){if(!t)return!0;var n=t.toString();return i.channel.publish("console",{message:n,stderr:!0}),!0};for(var a=new t.Console(n,r),_loop_1=function(n){var r=t[n];r&&(t[n]=function(){if(a[n])try{a[n].apply(a,arguments)}catch(t){}return r.apply(t,arguments)})},c=0,u=["log","info","warn","error","dir","time","timeEnd","trace","assert"];c<u.length;c++){_loop_1(u[c])}return t}},n.enable=function enable(){i.channel.registerMonkeyPatch("console",n.console),r(144)}},function(t,n){t.exports=require("console")},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5);n.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(t){var n=t.Server.prototype.connect;return t.Server.prototype.connect=function contextPreservingConnect(){var t=n.apply(this,arguments),r=this.s.pool.write;this.s.pool.write=function contextPreservingWrite(){var t="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[t]&&(arguments[t]=i.channel.bindToContext(arguments[t])),r.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function contextPreservingLogout(){return"function"==typeof arguments[1]&&(arguments[1]=i.channel.bindToContext(arguments[1])),o.apply(this,arguments)},t},t}},n.enable=function enable(){i.channel.registerMonkeyPatch("mongodb-core",n.mongoCore)}},function(t,n,r){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t};Object.defineProperty(n,"__esModule",{value:!0});var o=r(5);n.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(t){var n=t.instrument({operationIdGenerator:{next:function(){return o.channel.bindToContext((function(t){return t()}))}}}),r={};return n.on("started",(function(t){r[t.requestId]||(r[t.requestId]=i({},t,{time:new Date}))})),n.on("succeeded",(function(t){var n=r[t.requestId];n&&delete r[t.requestId],"function"==typeof t.operationId?t.operationId((function(){return o.channel.publish("mongodb",{startedData:n,event:t,succeeded:!0})})):o.channel.publish("mongodb",{startedData:n,event:t,succeeded:!0})})),n.on("failed",(function(t){var n=r[t.requestId];n&&delete r[t.requestId],"function"==typeof t.operationId?t.operationId((function(){return o.channel.publish("mongodb",{startedData:n,event:t,succeeded:!1})})):o.channel.publish("mongodb",{startedData:n,event:t,succeeded:!1})})),t}},n.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(t){var n=t.instrument(),r={},a={};return n.on("started",(function(t){r[t.requestId]||(a[t.requestId]=o.channel.bindToContext((function(t){return t()})),r[t.requestId]=i({},t,{time:new Date}))})),n.on("succeeded",(function(t){var n=r[t.requestId];n&&delete r[t.requestId],"object"==typeof t&&"function"==typeof a[t.requestId]&&(a[t.requestId]((function(){return o.channel.publish("mongodb",{startedData:n,event:t,succeeded:!0})})),delete a[t.requestId])})),n.on("failed",(function(t){var n=r[t.requestId];n&&delete r[t.requestId],"object"==typeof t&&"function"==typeof a[t.requestId]&&(a[t.requestId]((function(){return o.channel.publish("mongodb",{startedData:n,event:t,succeeded:!1})})),delete a[t.requestId])})),t}},n.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(t){!function(t){var n=t.Server.prototype.connect;t.Server.prototype.connect=function contextPreservingConnect(){var t=n.apply(this,arguments),r=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function contextPreservingWrite(){var t="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[t]&&(arguments[t]=o.channel.bindToContext(arguments[t])),r.apply(this,arguments)};var i=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function contextPreservingLogout(){return"function"==typeof arguments[1]&&(arguments[1]=o.channel.bindToContext(arguments[1])),i.apply(this,arguments)},t}}(t);var n=t.instrument(),r={},i={};return n.on("started",(function(t){r[t.requestId]||(i[t.requestId]=o.channel.bindToContext((function(t){return t()})),r[t.requestId]=t)})),n.on("succeeded",(function(t){var n=r[t.requestId];n&&delete r[t.requestId],"object"==typeof t&&"function"==typeof i[t.requestId]&&(i[t.requestId]((function(){return o.channel.publish("mongodb",{startedData:n,event:t,succeeded:!0})})),delete i[t.requestId])})),n.on("failed",(function(t){var n=r[t.requestId];n&&delete r[t.requestId],"object"==typeof t&&"function"==typeof i[t.requestId]&&(i[t.requestId]((function(){return o.channel.publish("mongodb",{startedData:n,event:t,succeeded:!1})})),delete i[t.requestId])})),t}},n.enable=function enable(){o.channel.registerMonkeyPatch("mongodb",n.mongo2),o.channel.registerMonkeyPatch("mongodb",n.mongo3),o.channel.registerMonkeyPatch("mongodb",n.mongo330)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5),o=r(2);n.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(t,n){var patchObjectFunction=function(t,n){return function(n,r){var o=t[n];o&&(t[n]=function mysqlContextPreserver(){for(var t=arguments.length-1,n=arguments.length-1;n>=0;--n){if("function"==typeof arguments[n]){t=n;break}if(void 0!==arguments[n])break}var a=arguments[t],c={result:null,startTime:null,startDate:null};"function"==typeof a&&(r?(c.startTime=process.hrtime(),c.startDate=new Date,arguments[t]=i.channel.bindToContext(r(c,a))):arguments[t]=i.channel.bindToContext(a));var u=o.apply(this,arguments);return c.result=u,u})}},patchClassMemberFunction=function(t,n){return patchObjectFunction(t.prototype)},a=r(148)(o.dirname(n)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(t){return patchClassMemberFunction(a)(t)})),patchObjectFunction(a)("createQuery",(function(t,n){return function(r){var o=process.hrtime(t.startTime),a=1e3*o[0]+o[1]/1e6|0;i.channel.publish("mysql",{query:t.result,callbackArgs:arguments,err:r,duration:a,time:t.startDate}),n.apply(this,arguments)}}));var c=r(149)(o.dirname(n)+"/lib/Pool");return["_enqueueCallback"].forEach((function(t){return patchClassMemberFunction(c)(t)})),t}},n.enable=function enable(){i.channel.registerMonkeyPatch("mysql",n.mysql)}},function(t,n){function webpackEmptyContext(t){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,t.exports=webpackEmptyContext,webpackEmptyContext.id=148},function(t,n){function webpackEmptyContext(t){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,t.exports=webpackEmptyContext,webpackEmptyContext.id=149},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5);n.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function postgresPool1PatchFunction(t){var n=t.prototype.connect;return t.prototype.connect=function connect(t){return t&&(arguments[0]=i.channel.bindToContext(t)),n.apply(this,arguments)},t}},n.enable=function enable(){i.channel.registerMonkeyPatch("pg-pool",n.postgresPool1)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5),o=r(65);n.postgres6={versionSpecifier:"6.*",patch:function postgres6PatchFunction(t,n){var r=t.Client.prototype.query;return t.Client.prototype.query=function query(t,n,a){var c,u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},l=process.hrtime();function patchCallback(t){t&&t.__diagnosticOriginalFunc&&(t=t.__diagnosticOriginalFunc);var n=i.channel.bindToContext((function(n,r){var a=process.hrtime(l);if(u.result=r&&{rowCount:r.rowCount,command:r.command},u.error=n,u.duration=Math.ceil(1e3*a[0]+a[1]/1e6),i.channel.publish("postgres",u),n){if(t)return t.apply(this,arguments);c&&c instanceof o.EventEmitter&&c.emit("error",n)}else t&&t.apply(this,arguments)}));try{return Object.defineProperty(n,"__diagnosticOriginalFunc",{value:t}),n}catch(n){return t}}try{"string"==typeof t?n instanceof Array?(u.query.preparable={text:t,args:n},a=patchCallback(a)):(u.query.text=t,a?a=patchCallback(a):n=patchCallback(n)):("string"==typeof t.name?u.query.plan=t.name:t.values instanceof Array?u.query.preparable={text:t.text,args:t.values}:u.query.text=t.text,a?a=patchCallback(a):n?n=patchCallback(n):t.callback=patchCallback(t.callback))}catch(t){return r.apply(this,arguments)}return arguments[0]=t,arguments[1]=n,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,c=r.apply(this,arguments)},t}},n.postgres7={versionSpecifier:">=7.* <=8.*",patch:function postgres7PatchFunction(t,n){var r=t.Client.prototype.query;return t.Client.prototype.query=function query(t,n,a){var c,u=this,l=!!a,p={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},d=process.hrtime();function patchCallback(t){t&&t.__diagnosticOriginalFunc&&(t=t.__diagnosticOriginalFunc);var n=i.channel.bindToContext((function(n,r){var a=process.hrtime(d);if(p.result=r&&{rowCount:r.rowCount,command:r.command},p.error=n,p.duration=Math.ceil(1e3*a[0]+a[1]/1e6),i.channel.publish("postgres",p),n){if(t)return t.apply(this,arguments);c&&c instanceof o.EventEmitter&&c.emit("error",n)}else t&&t.apply(this,arguments)}));try{return Object.defineProperty(n,"__diagnosticOriginalFunc",{value:t}),n}catch(n){return t}}try{"string"==typeof t?n instanceof Array?(p.query.preparable={text:t,args:n},a=(l="function"==typeof a)?patchCallback(a):a):(p.query.text=t,a?a=(l="function"==typeof a)?patchCallback(a):a:n=(l="function"==typeof n)?patchCallback(n):n):("string"==typeof t.name?p.query.plan=t.name:t.values instanceof Array?p.query.preparable={text:t.text,args:t.values}:p.query.text=t.text,a?(l="function"==typeof a,a=patchCallback(a)):n?n=(l="function"==typeof n)?patchCallback(n):n:(l="function"==typeof t.callback,t.callback=l?patchCallback(t.callback):t.callback))}catch(t){return r.apply(this,arguments)}return arguments[0]=t,arguments[1]=n,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,c=r.apply(this,arguments),l?c:c.then((function(t){return patchCallback()(void 0,t),new u._Promise((function(n,r){n(t)}))})).catch((function(t){return patchCallback()(t,void 0),new u._Promise((function(n,r){r(t)}))}))},t}},n.enable=function enable(){i.channel.registerMonkeyPatch("pg",n.postgres6),i.channel.registerMonkeyPatch("pg",n.postgres7)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5);n.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(t){var n=t.RedisClient.prototype.internal_send_command;return t.RedisClient.prototype.internal_send_command=function(t){if(t){var r=t.callback;if(!r||!r.pubsubBound){var o=this.address,a=process.hrtime(),c=new Date;t.callback=i.channel.bindToContext((function(n,u){var l=process.hrtime(a),p=1e3*l[0]+l[1]/1e6|0;i.channel.publish("redis",{duration:p,address:o,commandObj:t,err:n,result:u,time:c}),"function"==typeof r&&r.apply(this,arguments)})),t.callback.pubsubBound=!0}}return n.call(this,t)},t}},n.enable=function enable(){i.channel.registerMonkeyPatch("redis",n.redis)}},function(t,n,r){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t};Object.defineProperty(n,"__esModule",{value:!0});var o=r(5);n.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(t){var n=t.Connection.prototype.makeRequest;return t.Connection.prototype.makeRequest=function makeRequest(){function getPatchedCallback(t){var n=process.hrtime(),r={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return o.channel.bindToContext((function(a,c,u){var l=process.hrtime(n);r=i({},r,{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!a&&{rowCount:c,rows:u},query:{text:this.parametersByName.statement.value},error:a,duration:Math.ceil(1e3*l[0]+l[1]/1e6)}),o.channel.publish("tedious",r),t.call(this,a,c,u)}))}var t=arguments[0];arguments[0].callback=getPatchedCallback(t.callback),n.apply(this,arguments)},t}},n.enable=function enable(){o.channel.registerMonkeyPatch("tedious",n.tedious)}},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=this&&this.__rest||function(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)n.indexOf(i[o])<0&&(r[i[o]]=t[i[o]])}return r};Object.defineProperty(n,"__esModule",{value:!0});var c=r(5);n.winston3={versionSpecifier:"3.x",patch:function(t){var n=function(t){function AppInsightsTransport(n,r){var i=t.call(this,r)||this;return i.winston=n,i}return o(AppInsightsTransport,t),AppInsightsTransport.prototype.log=function(t,n){var r=t.message,i=t.level,o=t.meta,u=a(t,["message","level","meta"]);i="function"==typeof Symbol.for?t[Symbol.for("level")]:i,r=t instanceof Error?t:r;var l=function(t,n){return null!=t.config.npm.levels[n]?"npm":null!=t.config.syslog.levels[n]?"syslog":"unknown"}(this.winston,i);for(var p in o=o||{},u)u.hasOwnProperty(p)&&(o[p]=u[p]);c.channel.publish("winston",{message:r,level:i,levelKind:l,meta:o}),n()},AppInsightsTransport}(t.Transport);function patchedConfigure(){var r,i=arguments[0].levels||t.config.npm.levels;for(var o in i)i.hasOwnProperty(o)&&(r=void 0===r||i[o]>i[r]?o:r);this.add(new n(t,{level:r}))}var r=t.createLogger;t.createLogger=function patchedCreate(){var i,o=arguments[0].levels||t.config.npm.levels;for(var a in o)o.hasOwnProperty(a)&&(i=void 0===i||o[a]>o[i]?a:i);var c=r.apply(this,arguments);c.add(new n(t,{level:i}));var u=c.configure;return c.configure=function(){u.apply(this,arguments),patchedConfigure.apply(this,arguments)},c};var i=t.createLogger;return t.configure=function(){i.apply(this,arguments),patchedConfigure.apply(this,arguments)},t.add(new n(t)),t}},n.winston2={versionSpecifier:"2.x",patch:function(t){var n,r=t.Logger.prototype.log,loggingFilter=function(r,i,o){var a;return a=n===t.config.npm.levels?"npm":n===t.config.syslog.levels?"syslog":"unknown",c.channel.publish("winston",{level:r,message:i,meta:o,levelKind:a}),i};return t.Logger.prototype.log=function log(){return n=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==loggingFilter&&(this.filters=this.filters.filter((function(t){return t!==loggingFilter})),this.filters.push(loggingFilter)):this.filters=[loggingFilter],r.apply(this,arguments)},t}},n.enable=function enable(){c.channel.registerMonkeyPatch("winston",n.winston2),c.channel.registerMonkeyPatch("winston",n.winston3)}},function(t,n,r){"use strict";const i=r(44);process&&i.gte(process.versions.node,"8.0.0")?t.exports=r(156):t.exports=r(158)},function(t,n,r){"use strict";const i=r(11),o=r(19),a=r(46),c=r(157),u=process.env.DEBUG_CLS_HOOKED;let l=-1;function Namespace(t){this.name=t,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function getNamespace(t){return process.namespaces[t]}function destroyNamespace(t){let n=getNamespace(t);o.ok(n,"can't delete nonexistent namespace! \""+t+'"'),o.ok(n.id,"don't assign to process.namespaces directly! "+i.inspect(n)),process.namespaces[t]=null}function debug2(...t){u&&process._rawDebug(""+i.format(...t))}t.exports={getNamespace:getNamespace,createNamespace:function createNamespace(t){o.ok(t,"namespace must be given a name."),u&&debug2(`NS-CREATING NAMESPACE (${t})`);let n=new Namespace(t);n.id=l;return c.createHook({init(r,o,a,p){l=c.executionAsyncId();if(n.active){n._contexts.set(r,n.active);if(u){const c=" ".repeat(n._indent<0?0:n._indent);debug2(`${c}INIT [${o}] (${t}) asyncId:${r} currentUid:${l} triggerId:${a} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} resource:${p}`)}}else if(l===0){const a=c.triggerAsyncId();const d=n._contexts.get(a);if(d){n._contexts.set(r,d);if(u){const c=" ".repeat(n._indent<0?0:n._indent);debug2(`${c}INIT USING CONTEXT FROM TRIGGERID [${o}] (${t}) asyncId:${r} currentUid:${l} triggerId:${a} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} resource:${p}`)}}else if(u){const c=" ".repeat(n._indent<0?0:n._indent);debug2(`${c}INIT MISSING CONTEXT [${o}] (${t}) asyncId:${r} currentUid:${l} triggerId:${a} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} resource:${p}`)}}if(u&&o==="PROMISE"){debug2(i.inspect(p,{showHidden:true}));const c=p.parentId;const u=" ".repeat(n._indent<0?0:n._indent);debug2(`${u}INIT RESOURCE-PROMISE [${o}] (${t}) parentId:${c} asyncId:${r} currentUid:${l} triggerId:${a} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} resource:${p}`)}},before(r){l=c.executionAsyncId();let o;o=n._contexts.get(r)||n._contexts.get(l);if(o){if(u){const a=c.triggerAsyncId();const u=" ".repeat(n._indent<0?0:n._indent);debug2(`${u}BEFORE (${t}) asyncId:${r} currentUid:${l} triggerId:${a} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} context:${i.inspect(o)}`);n._indent+=2}n.enter(o)}else if(u){const o=c.triggerAsyncId();const a=" ".repeat(n._indent<0?0:n._indent);debug2(`${a}BEFORE MISSING CONTEXT (${t}) asyncId:${r} currentUid:${l} triggerId:${o} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} namespace._contexts:${i.inspect(n._contexts,{showHidden:true,depth:2,colors:true})}`);n._indent+=2}},after(r){l=c.executionAsyncId();let o;o=n._contexts.get(r)||n._contexts.get(l);if(o){if(u){const a=c.triggerAsyncId();n._indent-=2;const u=" ".repeat(n._indent<0?0:n._indent);debug2(`${u}AFTER (${t}) asyncId:${r} currentUid:${l} triggerId:${a} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} context:${i.inspect(o)}`)}n.exit(o)}else if(u){const a=c.triggerAsyncId();n._indent-=2;const u=" ".repeat(n._indent<0?0:n._indent);debug2(`${u}AFTER MISSING CONTEXT (${t}) asyncId:${r} currentUid:${l} triggerId:${a} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} context:${i.inspect(o)}`)}},destroy(r){l=c.executionAsyncId();if(u){const o=c.triggerAsyncId();const a=" ".repeat(n._indent<0?0:n._indent);debug2(`${a}DESTROY (${t}) currentUid:${l} asyncId:${r} triggerId:${o} active:${i.inspect(n.active,{showHidden:true,depth:2,colors:true})} context:${i.inspect(n._contexts.get(l))}`)}n._contexts.delete(r)}}).enable(),process.namespaces[t]=n,n},destroyNamespace:destroyNamespace,reset:function reset(){process.namespaces&&Object.keys(process.namespaces).forEach((function(t){destroyNamespace(t)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},Namespace.prototype.set=function set(t,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[t]=n,u){debug2(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+t+"="+n+" in ns:"+this.name+" currentUid:"+l+" active:"+i.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return n},Namespace.prototype.get=function get(t){if(this.active){if(u){const n=c.executionAsyncId(),r=c.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);debug2(o+"CONTEXT-GETTING KEY:"+t+"="+this.active[t]+" ("+this.name+") currentUid:"+l+" active:"+i.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),debug2(`${o}CONTEXT-GETTING KEY: (${this.name}) ${t}=${this.active[t]} currentUid:${l} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length} active:${i.inspect(this.active)}`)}return this.active[t]}if(u){const n=c.currentId(),r=c.triggerAsyncId();debug2(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${t}=undefined currentUid:${l} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length}`)}},Namespace.prototype.createContext=function createContext(){let t=Object.create(this.active?this.active:Object.prototype);if(t._ns_name=this.name,t.id=l,u){const n=c.executionAsyncId(),r=c.triggerAsyncId();debug2(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length} context:${i.inspect(t,{showHidden:!0,depth:2,colors:!0})}`)}return t},Namespace.prototype.run=function run(t){let n=this.createContext();this.enter(n);try{if(u){const t=c.triggerAsyncId(),r=c.executionAsyncId();debug2(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${t} asyncHooksCurrentId:${r} len:${this._set.length} context:${i.inspect(n)}`)}return t(n),n}catch(t){throw t&&(t["error@context"]=n),t}finally{if(u){const t=c.triggerAsyncId(),r=c.executionAsyncId();debug2(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${t} asyncHooksCurrentId:${r} len:${this._set.length} ${i.inspect(n)}`)}this.exit(n)}},Namespace.prototype.runAndReturn=function runAndReturn(t){let n;return this.run((function(r){n=t(r)})),n},Namespace.prototype.runPromise=function runPromise(t){let n=this.createContext();this.enter(n);let r=t(n);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return u&&debug2("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+i.inspect(n)),r.then(t=>(u&&debug2("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+i.inspect(n)),this.exit(n),t)).catch(t=>{throw t["error@context"]=n,u&&debug2("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+i.inspect(n)),this.exit(n),t})},Namespace.prototype.bind=function bindFactory(t,n){n||(n=this.active?this.active:this.createContext());let r=this;return function clsBind(){r.enter(n);try{return t.apply(this,arguments)}catch(t){throw t&&(t["error@context"]=n),t}finally{r.exit(n)}}},Namespace.prototype.enter=function enter(t){if(o.ok(t,"context must be provided for entering"),u){const n=c.executionAsyncId(),r=c.triggerAsyncId();debug2(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${r} asyncHooksCurrentId:${n} len:${this._set.length} ${i.inspect(t)}`)}this._set.push(this.active),this.active=t},Namespace.prototype.exit=function exit(t){if(o.ok(t,"context must be provided for exiting"),u){const n=c.executionAsyncId(),r=c.triggerAsyncId();debug2(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${r} asyncHooksCurrentId:${n} len:${this._set.length} ${i.inspect(t)}`)}if(this.active===t)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let n=this._set.lastIndexOf(t);n<0?(u&&debug2("??ERROR?? context exiting but not entered - ignoring: "+i.inspect(t)),o.ok(n>=0,"context not currently entered; can't exit. \n"+i.inspect(this)+"\n"+i.inspect(t))):(o.ok(n,"can't remove top context"),this._set.splice(n,1))},Namespace.prototype.bindEmitter=function bindEmitter(t){o.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let n=this,r="context@"+this.name;a(t,(function attach(t){t&&(t["cls@contexts"]||(t["cls@contexts"]=Object.create(null)),t["cls@contexts"][r]={namespace:n,context:n.active})}),(function bind(t){if(!t||!t["cls@contexts"])return t;let n=t,r=t["cls@contexts"];return Object.keys(r).forEach((function(t){let i=r[t];n=i.namespace.bind(n,i.context)})),n}))},Namespace.prototype.fromException=function fromException(t){return t["error@context"]},process.namespaces={}},function(t,n){t.exports=require("async_hooks")},function(t,n,r){"use strict";const i=r(11),o=r(19),a=r(46),c=r(159),u=[];for(let t in c.providers)u[c.providers[t]]=t;const l=process.env.DEBUG_CLS_HOOKED;let p=-1;function Namespace(t){this.name=t,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function getNamespace(t){return process.namespaces[t]}function destroyNamespace(t){let n=getNamespace(t);o.ok(n,"can't delete nonexistent namespace! \""+t+'"'),o.ok(n.id,"don't assign to process.namespaces directly! "+i.inspect(n)),process.namespaces[t]=null}function debug2(t){process.env.DEBUG&&process._rawDebug(t)}function getFunctionName(t){return t?"function"==typeof t?t.name?t.name:(t.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:t.constructor&&t.constructor.name?t.constructor.name:void 0:t}if(t.exports={getNamespace:getNamespace,createNamespace:function createNamespace(t){o.ok(t,"namespace must be given a name."),l&&debug2("CREATING NAMESPACE "+t);let n=new Namespace(t);return n.id=p,c.addHooks({init(r,o,a,c,d){p=r,c?(n._contexts.set(r,n._contexts.get(c)),l&&debug2("PARENTID: "+t+" uid:"+r+" parent:"+c+" provider:"+a)):n._contexts.set(p,n.active),l&&debug2("INIT "+t+" uid:"+r+" parent:"+c+" provider:"+u[a]+" active:"+i.inspect(n.active,!0))},pre(r,o){p=r;let a=n._contexts.get(r);a?(l&&debug2(" PRE "+t+" uid:"+r+" handle:"+getFunctionName(o)+" context:"+i.inspect(a)),n.enter(a)):l&&debug2(" PRE MISSING CONTEXT "+t+" uid:"+r+" handle:"+getFunctionName(o))},post(r,o){p=r;let a=n._contexts.get(r);a?(l&&debug2(" POST "+t+" uid:"+r+" handle:"+getFunctionName(o)+" context:"+i.inspect(a)),n.exit(a)):l&&debug2(" POST MISSING CONTEXT "+t+" uid:"+r+" handle:"+getFunctionName(o))},destroy(r){p=r,l&&debug2("DESTROY "+t+" uid:"+r+" context:"+i.inspect(n._contexts.get(p))+" active:"+i.inspect(n.active,!0)),n._contexts.delete(r)}}),process.namespaces[t]=n,n},destroyNamespace:destroyNamespace,reset:function reset(){process.namespaces&&Object.keys(process.namespaces).forEach((function(t){destroyNamespace(t)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},Namespace.prototype.set=function set(t,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return l&&debug2("    SETTING KEY:"+t+"="+n+" in ns:"+this.name+" uid:"+p+" active:"+i.inspect(this.active,!0)),this.active[t]=n,n},Namespace.prototype.get=function get(t){if(this.active)return l&&debug2("    GETTING KEY:"+t+"="+this.active[t]+" "+this.name+" uid:"+p+" active:"+i.inspect(this.active,!0)),this.active[t];l&&debug2("    GETTING KEY:"+t+"=undefined "+this.name+" uid:"+p+" active:"+i.inspect(this.active,!0))},Namespace.prototype.createContext=function createContext(){l&&debug2("   CREATING Context: "+this.name+" uid:"+p+" len:"+this._set.length+"  active:"+i.inspect(this.active,!0,2,!0));let t=Object.create(this.active?this.active:Object.prototype);return t._ns_name=this.name,t.id=p,l&&debug2("   CREATED Context: "+this.name+" uid:"+p+" len:"+this._set.length+"  context:"+i.inspect(t,!0,2,!0)),t},Namespace.prototype.run=function run(t){let n=this.createContext();this.enter(n);try{return l&&debug2(" BEFORE RUN: "+this.name+" uid:"+p+" len:"+this._set.length+" "+i.inspect(n)),t(n),n}catch(t){throw t&&(t["error@context"]=n),t}finally{l&&debug2(" AFTER RUN: "+this.name+" uid:"+p+" len:"+this._set.length+" "+i.inspect(n)),this.exit(n)}},Namespace.prototype.runAndReturn=function runAndReturn(t){var n;return this.run((function(r){n=t(r)})),n},Namespace.prototype.runPromise=function runPromise(t){let n=this.createContext();this.enter(n);let r=t(n);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return l&&debug2(" BEFORE runPromise: "+this.name+" uid:"+p+" len:"+this._set.length+" "+i.inspect(n)),r.then(t=>(l&&debug2(" AFTER runPromise: "+this.name+" uid:"+p+" len:"+this._set.length+" "+i.inspect(n)),this.exit(n),t)).catch(t=>{throw t["error@context"]=n,l&&debug2(" AFTER runPromise: "+this.name+" uid:"+p+" len:"+this._set.length+" "+i.inspect(n)),this.exit(n),t})},Namespace.prototype.bind=function bindFactory(t,n){n||(n=this.active?this.active:this.createContext());let r=this;return function clsBind(){r.enter(n);try{return t.apply(this,arguments)}catch(t){throw t&&(t["error@context"]=n),t}finally{r.exit(n)}}},Namespace.prototype.enter=function enter(t){o.ok(t,"context must be provided for entering"),l&&debug2("  ENTER "+this.name+" uid:"+p+" len:"+this._set.length+" context: "+i.inspect(t)),this._set.push(this.active),this.active=t},Namespace.prototype.exit=function exit(t){if(o.ok(t,"context must be provided for exiting"),l&&debug2("  EXIT "+this.name+" uid:"+p+" len:"+this._set.length+" context: "+i.inspect(t)),this.active===t)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let n=this._set.lastIndexOf(t);n<0?(l&&debug2("??ERROR?? context exiting but not entered - ignoring: "+i.inspect(t)),o.ok(n>=0,"context not currently entered; can't exit. \n"+i.inspect(this)+"\n"+i.inspect(t))):(o.ok(n,"can't remove top context"),this._set.splice(n,1))},Namespace.prototype.bindEmitter=function bindEmitter(t){o.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let n=this,r="context@"+this.name;a(t,(function attach(t){t&&(t["cls@contexts"]||(t["cls@contexts"]=Object.create(null)),t["cls@contexts"][r]={namespace:n,context:n.active})}),(function bind(t){if(!t||!t["cls@contexts"])return t;let n=t,r=t["cls@contexts"];return Object.keys(r).forEach((function(t){let i=r[t];n=i.namespace.bind(n,i.context)})),n}))},Namespace.prototype.fromException=function fromException(t){return t["error@context"]},process.namespaces={},c._state&&!c._state.enabled&&c.enable(),l){var d=r(74);for(var h in d.filter._modifiers)d.filter.deattach(h)}},function(t,n,r){"use strict";(function(n){const i=r(160);if(global._asyncHook){if(global._asyncHook.version!==r(73).version)throw new Error("Conflicting version of async-hook-jl found");t.exports=global._asyncHook}else{r(74).filter.attach((function(t,r){return r.filter((function(t){const r=t.getFileName();return!(r&&r.slice(0,n.length)===n)}))})),t.exports=global._asyncHook=new i}}).call(this,"/")},function(t,n,r){"use strict";const i=process.binding("async_wrap"),o=i.Providers.TIMERWRAP,a={nextTick:r(161),promise:r(162),timers:r(163)},c=new Set;function State(){this.enabled=!1,this.counter=0}function Hooks(){const t=this.initFns=[],n=this.preFns=[],r=this.postFns=[],i=this.destroyFns=[];this.init=function(n,r,i,a){if(r!==o)for(const o of t)o(n,this,r,i,a);else c.add(n)},this.pre=function(t){if(!c.has(t))for(const r of n)r(t,this)},this.post=function(t,n){if(!c.has(t))for(const i of r)i(t,this,n)},this.destroy=function(t){if(c.has(t))c.delete(t);else for(const n of i)n(t)}}function removeElement(t,n){const r=t.indexOf(n);-1!==r&&t.splice(r,1)}function AsyncHook(){this._state=new State,this._hooks=new Hooks,this.version=r(73).version,this.providers=i.Providers;for(const t of Object.keys(a))a[t].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),i.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}Hooks.prototype.add=function(t){t.init&&this.initFns.push(t.init),t.pre&&this.preFns.push(t.pre),t.post&&this.postFns.push(t.post),t.destroy&&this.destroyFns.push(t.destroy)},Hooks.prototype.remove=function(t){t.init&&removeElement(this.initFns,t.init),t.pre&&removeElement(this.preFns,t.pre),t.post&&removeElement(this.postFns,t.post),t.destroy&&removeElement(this.destroyFns,t.destroy)},t.exports=AsyncHook,AsyncHook.prototype.addHooks=function(t){this._hooks.add(t)},AsyncHook.prototype.removeHooks=function(t){this._hooks.remove(t)},AsyncHook.prototype.enable=function(){this._state.enabled=!0,i.enable()},AsyncHook.prototype.disable=function(){this._state.enabled=!1,i.disable()}},function(t,n,r){"use strict";function NextTickWrap(){}t.exports=function patch(){const t=this._hooks,n=this._state,r=process.nextTick;process.nextTick=function(){if(!n.enabled)return r.apply(process,arguments);const i=new Array(arguments.length);for(let t=0;t<arguments.length;t++)i[t]=arguments[t];const o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");const a=new NextTickWrap,c=--n.counter;return t.init.call(a,c,0,null,null),i[0]=function(){t.pre.call(a,c);let n=!0;try{o.apply(this,arguments),n=!1}finally{n&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){t.post.call(a,c,!0),t.destroy.call(null,c)}))}t.post.call(a,c,!1),t.destroy.call(null,c)},r.apply(process,i)}}},function(t,n,r){"use strict";function PromiseWrap(){}t.exports=function patchPromise(){const t=this._hooks,n=this._state,r=global.Promise,i=r.prototype.then;function makeWrappedHandler(n,r,i,o){return"function"!=typeof n?o?function makeUnhandledResolutionHandler(n){return function unhandledResolutionHandler(r){return t.destroy.call(null,n),r}}(i):function makeUnhandledRejectionHandler(n){return function unhandledRejectedHandler(r){throw t.destroy.call(null,n),r}}(i):function wrappedHandler(){t.pre.call(r,i);try{return n.apply(this,arguments)}finally{t.post.call(r,i,!1),t.destroy.call(null,i)}}}r.prototype.then=function wrappedThen(r,o){if(!n.enabled)return i.call(this,r,o);const a=new PromiseWrap,c=--n.counter;return t.init.call(a,c,0,null,null),i.call(this,makeWrappedHandler(r,a,c,!0),makeWrappedHandler(o,a,c,!1))}}},function(t,n,r){"use strict";const i=r(72);function TimeoutWrap(){}function IntervalWrap(){}function ImmediateWrap(){}const o=new Map,a=new Map,c=new Map;let u=null,l=!1;function patchTimer(t,n,r,o,a,c,p){const d=i[r],h=i[o];i[r]=function(){if(!n.enabled)return d.apply(i,arguments);const r=new Array(arguments.length);for(let t=0;t<arguments.length;t++)r[t]=arguments[t];const o=r[0];if("function"!=typeof o)throw new TypeError('"callback" argument must be a function');const h=new a,m=--n.counter;let g=void 0;return t.init.call(h,m,0,null,null),r[0]=function(){u=g,t.pre.call(h,m);let n=!0;try{o.apply(this,arguments),n=!1}finally{n&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){t.post.call(h,m,!0),c.delete(g),t.destroy.call(null,m)}))}t.post.call(h,m,!1),u=null,(p||l)&&(l=!1,c.delete(g),t.destroy.call(null,m))},g=d.apply(i,r),c.set(g,m),g},i[o]=function(n){if(u===n&&null!==n)l=!0;else if(c.has(n)){const r=c.get(n);c.delete(n),t.destroy.call(null,r)}h.apply(i,arguments)}}t.exports=function patch(){patchTimer(this._hooks,this._state,"setTimeout","clearTimeout",TimeoutWrap,o,!0),patchTimer(this._hooks,this._state,"setInterval","clearInterval",IntervalWrap,a,!1),patchTimer(this._hooks,this._state,"setImmediate","clearImmediate",ImmediateWrap,c,!0),global.setTimeout=i.setTimeout,global.setInterval=i.setInterval,global.setImmediate=i.setImmediate,global.clearTimeout=i.clearTimeout,global.clearInterval=i.clearInterval,global.clearImmediate=i.clearImmediate}},function(t,n,r){var i=r(165);function stackChain(){this.extend=new TraceModifier,this.filter=new TraceModifier,this.format=new StackFormater,this.version=r(75).version}var o=!1;stackChain.prototype.callSite=function collectCallSites(t){t||(t={}),o=!0;var n={};Error.captureStackTrace(n,collectCallSites);var r=n.stack;return o=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var a=new stackChain;function TraceModifier(){this._modifiers=[]}function StackFormater(){this._formater=i,this._previous=void 0}TraceModifier.prototype._modify=function(t,n){for(var r=0,i=this._modifiers.length;r<i;r++)n=this._modifiers[r](t,n);return n},TraceModifier.prototype.attach=function(t){this._modifiers.push(t)},TraceModifier.prototype.deattach=function(t){var n=this._modifiers.indexOf(t);return-1!==n&&(this._modifiers.splice(n,1),!0)},StackFormater.prototype.replace=function(t){t?this._formater=t:this.restore()},StackFormater.prototype.restore=function(){this._formater=i,this._previous=void 0},StackFormater.prototype._backup=function(){this._previous=this._formater},StackFormater.prototype._roolback=function(){this._previous===i?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&a.format.replace(Error.prepareStackTrace);var c=!1;function prepareStackTrace(t,n){if(o)return n;if(c)return i(t,n);var r=n.concat();r=a.extend._modify(t,r),r=(r=a.filter._modify(t,r)).slice(0,Error.stackTraceLimit),Object.isExtensible(t)&&void 0===Object.getOwnPropertyDescriptor(t,"callSite")&&(t.callSite={original:n,mutated:r}),c=!0;var u=a.format._formater(t,r);return c=!1,u}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return prepareStackTrace},set:function(t){t===prepareStackTrace?a.format._roolback():(a.format._backup(),a.format.replace(t))}}),Object.defineProperty(Error.prototype,"callSite",{get:function callSiteGetter(){return this.stack,this.callSite},set:function(t){Object.defineProperty(this,"callSite",{value:t,writable:!0,configurable:!0})},configurable:!0}),t.exports=a},function(t,n){t.exports=function FormatStackTrace(t,n){var r=[];r.push(function FormatErrorString(t){try{return Error.prototype.toString.call(t)}catch(t){try{return"<error: "+t+">"}catch(t){return"<error>"}}}(t));for(var i=0;i<n.length;i++){var o,a=n[i];try{o=a.toString()}catch(t){try{o="<error: "+t+">"}catch(t){o="<error>"}}r.push("    at "+o)}return r.join("\n")}},function(t,n,r){"use strict";var i=r(19),o=r(46);function Namespace(t){this.name=t,this.active=null,this._set=[],this.id=null}function get(t){return process.namespaces[t]}function destroy(t){var n=get(t);i.ok(n,"can't delete nonexistent namespace!"),i.ok(n.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(n.id),process.namespaces[t]=null}function reset(){process.namespaces&&Object.keys(process.namespaces).forEach((function(t){destroy(t)})),process.namespaces=Object.create(null)}process.addAsyncListener||r(167),Namespace.prototype.set=function(t,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[t]=n,n},Namespace.prototype.get=function(t){if(this.active)return this.active[t]},Namespace.prototype.createContext=function(){return Object.create(this.active)},Namespace.prototype.run=function(t){var n=this.createContext();this.enter(n);try{return t(n),n}catch(t){throw t&&(t["error@context"]=n),t}finally{this.exit(n)}},Namespace.prototype.runAndReturn=function(t){var n;return this.run((function(r){n=t(r)})),n},Namespace.prototype.bind=function(t,n){n||(n=this.active?this.active:this.createContext());var r=this;return function(){r.enter(n);try{return t.apply(this,arguments)}catch(t){throw t&&(t["error@context"]=n),t}finally{r.exit(n)}}},Namespace.prototype.enter=function(t){i.ok(t,"context must be provided for entering"),this._set.push(this.active),this.active=t},Namespace.prototype.exit=function(t){if(i.ok(t,"context must be provided for exiting"),this.active===t)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var n=this._set.lastIndexOf(t);i.ok(n>=0,"context not currently entered; can't exit"),i.ok(n,"can't remove top context"),this._set.splice(n,1)},Namespace.prototype.bindEmitter=function(t){i.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");var n=this,r="context@"+this.name;o(t,(function attach(t){t&&(t["cls@contexts"]||(t["cls@contexts"]=Object.create(null)),t["cls@contexts"][r]={namespace:n,context:n.active})}),(function bind(t){if(!t||!t["cls@contexts"])return t;var n=t,r=t["cls@contexts"];return Object.keys(r).forEach((function(t){var i=r[t];n=i.namespace.bind(n,i.context)})),n}))},Namespace.prototype.fromException=function(t){return t["error@context"]},process.namespaces||reset(),t.exports={getNamespace:get,createNamespace:function create(t){i.ok(t,"namespace must be given a name!");var n=new Namespace(t);return n.id=process.addAsyncListener({create:function(){return n.active},before:function(t,r){r&&n.enter(r)},after:function(t,r){r&&n.exit(r)},error:function(t){t&&n.exit(t)}}),process.namespaces[t]=n,n},destroyNamespace:destroy,reset:reset}},function(t,n,r){"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var i=r(47),o=r(44),a=i.wrap,c=i.massWrap,u=r(168),l=r(11),p=o.gte(process.version,"6.0.0"),d=o.gte(process.version,"7.0.0"),h=o.gte(process.version,"8.0.0"),m=o.gte(process.version,"11.0.0"),g=r(169);function wrapSetUpListenHandle(t){return function(){this.on("connection",(function(t){t._handle&&(t._handle.onread=u(t._handle.onread))}));try{return t.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=u(this._handle.onconnection))}}}function patchOnRead(t){if(t&&t._handle){var n=t._handle;n._originalOnread||(n._originalOnread=n.onread),n.onread=u(n._originalOnread)}}d&&!g._normalizeArgs?g._normalizeArgs=function(t){if(0===t.length)return[{},null];var n=t[0],r={};"object"==typeof n&&null!==n?r=n:!function isPipeName(t){return"string"==typeof t&&!1===function toNumber(t){return(t=Number(t))>=0&&t}(t)}(n)?(r.port=n,t.length>1&&"string"==typeof t[1]&&(r.host=t[1])):r.path=n;var i=t[t.length-1];return"function"!=typeof i?[r,null]:[r,i]}:d||g._normalizeConnectArgs||(g._normalizeConnectArgs=function(t){var n={};"object"==typeof t[0]&&null!==t[0]?n=t[0]:"string"==typeof t[0]&&!1===function toNumber(t){return(t=Number(t))>=0&&t}(t[0])?n.path=t[0]:(n.port=t[0],"string"==typeof t[1]&&(n.host=t[1]));var r=t[t.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in g.Server.prototype?a(g.Server.prototype,"_setUpListenHandle",wrapSetUpListenHandle):a(g.Server.prototype,"_listen2",wrapSetUpListenHandle),a(g.Socket.prototype,"connect",(function(t){return function(){var n;(n=h&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:d?g._normalizeArgs(arguments):g._normalizeConnectArgs(arguments))[1]&&(n[1]=u(n[1]));var r=t.apply(this,n);return patchOnRead(this),r}}));var y=r(21);a(y.Agent.prototype,"addRequest",(function(t){return function(n){var r=n.onSocket;return n.onSocket=u((function(t){return patchOnRead(t),r.apply(this,arguments)})),t.apply(this,arguments)}}));var v=r(22);function wrapChildProcess(t){Array.isArray(t.stdio)&&t.stdio.forEach((function(t){t&&t._handle&&(t._handle.onread=u(t._handle.onread),a(t._handle,"close",activatorFirst))})),t._handle&&(t._handle.onexit=u(t._handle.onexit))}v.ChildProcess?a(v.ChildProcess.prototype,"spawn",(function(t){return function(){var n=t.apply(this,arguments);return wrapChildProcess(this),n}})):c(v,["execFile","fork","spawn"],(function(t){return function(){var n=t.apply(this,arguments);return wrapChildProcess(n),n}})),process._fatalException||(process._originalNextTick=process.nextTick);var x=[];process._nextDomainTick&&x.push("_nextDomainTick"),process._tickDomainCallback&&x.push("_tickDomainCallback"),c(process,x,activator),a(process,"nextTick",activatorFirst);var C=["setTimeout","setInterval"];global.setImmediate&&C.push("setImmediate");var b=r(72),w=global.setTimeout===b.setTimeout;c(b,C,activatorFirst),w&&c(global,C,activatorFirst);var k=r(170);c(k,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],activator),k.resolveNaptr&&a(k,"resolveNaptr",activator);var S,A,_=r(3);c(_,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],activator),_.lchown&&a(_,"lchown",activator),_.lchmod&&a(_,"lchmod",activator),_.ftruncate&&a(_,"ftruncate",activator);try{S=r(48)}catch(t){}if(S&&S.Deflate&&S.Deflate.prototype){var D=Object.getPrototypeOf(S.Deflate.prototype);D._transform?a(D,"_transform",activator):D.write&&D.flush&&D.end&&c(D,["write","flush","end"],activator)}try{A=r(171)}catch(t){}if(A){var T=["pbkdf2","randomBytes"];m||T.push("pseudoRandomBytes"),c(A,T,activator)}var I=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(I){var P=process.addAsyncListener({create:function create(){I=!1}});global.Promise.resolve(!0).then((function notSync(){I=!1})),process.removeAsyncListener(P)}function activator(t){var fallback=function(){var n,r=arguments.length-1;if("function"==typeof arguments[r]){n=Array(arguments.length);for(var i=0;i<arguments.length-1;i++)n[i]=arguments[i];n[r]=u(arguments[r])}return t.apply(this,n||arguments)};switch(t.length){case 1:return function(n){return 1!==arguments.length?fallback.apply(this,arguments):("function"==typeof n&&(n=u(n)),t.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?fallback.apply(this,arguments):("function"==typeof r&&(r=u(r)),t.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?fallback.apply(this,arguments):("function"==typeof i&&(i=u(i)),t.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?fallback.apply(this,arguments):("function"==typeof o&&(o=u(o)),t.call(this,n,r,i,o))};case 5:return function(n,r,i,o,a){return 5!==arguments.length?fallback.apply(this,arguments):("function"==typeof a&&(a=u(a)),t.call(this,n,r,i,o,a))};case 6:return function(n,r,i,o,a,c){return 6!==arguments.length?fallback.apply(this,arguments):("function"==typeof c&&(c=u(c)),t.call(this,n,r,i,o,a,c))};default:return fallback}}function activatorFirst(t){var fallback=function(){var n;if("function"==typeof arguments[0]){(n=Array(arguments.length))[0]=u(arguments[0]);for(var r=1;r<arguments.length;r++)n[r]=arguments[r]}return t.apply(this,n||arguments)};switch(t.length){case 1:return function(n){return 1!==arguments.length?fallback.apply(this,arguments):("function"==typeof n&&(n=u(n)),t.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?fallback.apply(this,arguments):("function"==typeof n&&(n=u(n)),t.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?fallback.apply(this,arguments):("function"==typeof n&&(n=u(n)),t.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?fallback.apply(this,arguments):("function"==typeof n&&(n=u(n)),t.call(this,n,r,i,o))};case 5:return function(n,r,i,o,a){return 5!==arguments.length?fallback.apply(this,arguments):("function"==typeof n&&(n=u(n)),t.call(this,n,r,i,o,a))};case 6:return function(n,r,i,o,a,c){return 6!==arguments.length?fallback.apply(this,arguments):("function"==typeof n&&(n=u(n)),t.call(this,n,r,i,o,a,c))};default:return fallback}}I&&function wrapPromise(){var t=global.Promise;function wrappedPromise(n){if(!(this instanceof wrappedPromise))return t(n);if("function"!=typeof n)return new t(n);var r,i,o=new t((function wrappedExecutor(t,n){r=this,i=[function wrappedResolve(n){return ensureAslWrapper(o,!1),t(n)},function wrappedReject(t){return ensureAslWrapper(o,!1),n(t)}]}));o.__proto__=wrappedPromise.prototype;try{n.apply(r,i)}catch(t){i[1](t)}return o}l.inherits(wrappedPromise,t),a(t.prototype,"then",wrapThen),t.prototype.chain&&a(t.prototype,"chain",wrapThen);if(p)global.Promise=r(172)(t,ensureAslWrapper);else{["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof t[n]&&(wrappedPromise[n]=t[n])})),global.Promise=wrappedPromise}function ensureAslWrapper(t,n){t.__asl_wrapper&&!n||(t.__asl_wrapper=u(propagateAslWrapper))}function propagateAslWrapper(n,r,i,o){var a;try{return{returnVal:a=r.call(n,i),error:!1}}catch(t){return{errorVal:t,error:!0}}finally{a instanceof t?o.__asl_wrapper=function proxyWrapper(){var t=a.__asl_wrapper||propagateAslWrapper;return t.apply(this,arguments)}:ensureAslWrapper(o,!0)}}function wrapThen(t){return function wrappedThen(){var n=this,r=t.apply(n,Array.prototype.map.call(arguments,bind));return r.__asl_wrapper=function proxyWrapper(t,i,o,a){return n.__asl_wrapper?(n.__asl_wrapper(t,(function(){}),null,r),r.__asl_wrapper(t,i,o,a)):propagateAslWrapper(t,i,o,a)},r;function bind(t){return"function"!=typeof t?t:u((function(i){var o=(n.__asl_wrapper||propagateAslWrapper)(this,t,i,r);if(o.error)throw o.errorVal;return o.returnVal}))}}}}()},function(t,n,r){var i,o,a=r(47).wrap,c=[],u=0,l=!1,p=[];function union(t,n){var r=t.length,i=n.length,o=[];if(0===r&&0===i)return o;for(var a=0;a<r;a++)o[a]=t[a];if(0===i)return o;for(var c=0;c<i;c++){var u=!0;for(a=0;a<r;a++)if(t[a].uid===n[c].uid){u=!1;break}u&&o.push(n[c])}return o}if(process._fatalException){var d,h=!1;i=function asyncCatcher(t){var n=c.length;if(h||0===n)return!1;var r=!1;h=!0;for(var i=0;i<n;++i){var o=c[i];if(0!=(8&o.flags)){var a=d&&d[o.uid];r=o.error(a,t)||r}}return h=!1,p.length>0&&(c=p.pop()),d=void 0,r&&!l},o=function asyncWrap(t,n,r){var i=[];l=!0;for(var o=0;o<r;++o){var a=n[o];if(i[a.uid]=a.data,0!=(1&a.flags)){var u=a.create(a.data);void 0!==u&&(i[a.uid]=u)}}return l=!1,function(){d=i,p.push(c),c=union(n,c),l=!0;for(var o=0;o<r;++o)(2&n[o].flags)>0&&n[o].before(this,i[n[o].uid]);l=!1;var a=t.apply(this,arguments);for(l=!0,o=0;o<r;++o)(4&n[o].flags)>0&&n[o].after(this,i[n[o].uid]);return l=!1,c=p.pop(),d=void 0,a}},a(process,"_fatalException",(function(t){return function _asyncFatalException(n){return i(n)||t(n)}}))}else{var m=!1;i=function uncaughtCatcher(t){if(m)throw t;for(var n=!1,r=c.length,i=0;i<r;++i){var o=c[i];0!=(8&o.flags)&&(n=o.error(null,t)||n)}if(!n&&l)throw t},o=function asyncWrap(t,n,r){var o=[];l=!0;for(var a=0;a<r;++a){var u=n[a];if(o[u.uid]=u.data,0!=(1&u.flags)){var d=u.create(u.data);void 0!==d&&(o[u.uid]=d)}}return l=!1,function(){var a,u=!1,d=!1;p.push(c),c=union(n,c),l=!0;for(var h=0;h<r;++h)(2&n[h].flags)>0&&n[h].before(this,o[n[h].uid]);l=!1;try{a=t.apply(this,arguments)}catch(t){u=!0;for(h=0;h<r;++h)if(0!=(8&c[h].flags))try{d=c[h].error(o[n[h].uid],t)||d}catch(t){throw m=!0,t}if(!d)throw process.removeListener("uncaughtException",i),process._originalNextTick((function(){process.addListener("uncaughtException",i)})),t}finally{if(!u||d){for(l=!0,h=0;h<r;++h)(4&n[h].flags)>0&&n[h].after(this,o[n[h].uid]);l=!1}c=p.pop()}return a}},process.addListener("uncaughtException",i)}function AsyncListener(t,n){"function"==typeof t.create&&(this.create=t.create,this.flags|=1),"function"==typeof t.before&&(this.before=t.before,this.flags|=2),"function"==typeof t.after&&(this.after=t.after,this.flags|=4),"function"==typeof t.error&&(this.error=t.error,this.flags|=8),this.uid=++u,this.data=void 0===n?null:n}function createAsyncListener(t,n){if("object"!=typeof t||!t)throw new TypeError("callbacks argument must be an object");return t instanceof AsyncListener?t:new AsyncListener(t,n)}AsyncListener.prototype.create=void 0,AsyncListener.prototype.before=void 0,AsyncListener.prototype.after=void 0,AsyncListener.prototype.error=void 0,AsyncListener.prototype.data=void 0,AsyncListener.prototype.uid=0,AsyncListener.prototype.flags=0,process.createAsyncListener=createAsyncListener,process.addAsyncListener=function addAsyncListener(t,n){var r;r=t instanceof AsyncListener?t:createAsyncListener(t,n);for(var i=!1,o=0;o<c.length;o++)if(r===c[o]){i=!0;break}return i||c.push(r),r},process.removeAsyncListener=function removeAsyncListener(t){for(var n=0;n<c.length;n++)if(t===c[n]){c.splice(n,1);break}},t.exports=function wrapCallback(t){var n=c.length;if(0===n)return t;for(var r=c.slice(),i=0;i<n;++i)if(r[i].flags>0)return o(t,r,n);return function simpleWrap(t,n,r){l=!0;for(var i=0;i<r;++i){var o=n[i];o.create&&o.create(o.data)}return l=!1,function(){p.push(c),c=union(n,c);var r=t.apply(this,arguments);return c=p.pop(),r}}(t,r,n)}},function(t,n){t.exports=require("net")},function(t,n){t.exports=require("dns")},function(t,n){t.exports=require("crypto")},function(t,n,r){"use strict";t.exports=(t,n)=>class WrappedPromise extends t{constructor(t){var r,i;super((function wrappedExecutor(t,a){r=this,i=[function wrappedResolve(r){return n(o,!1),t(r)},function wrappedReject(t){return n(o,!1),a(t)}]}));var o=this;try{t.apply(r,i)}catch(t){i[1](t)}return o}}},function(t,n,r){"use strict";var i=r(43),o=function(){function AutoCollectConsole(t){if(AutoCollectConsole.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,AutoCollectConsole.INSTANCE=this}return AutoCollectConsole.prototype.enable=function(t,n){i.IsInitialized&&(r(174).enable(t&&n,this._client),r(192).enable(t,this._client),r(193).enable(t,this._client))},AutoCollectConsole.prototype.isInitialized=function(){return this._isInitialized},AutoCollectConsole.prototype.dispose=function(){AutoCollectConsole.INSTANCE=null,this.enable(!1,!1)},AutoCollectConsole._methodNames=["debug","info","log","warn","error"],AutoCollectConsole}();t.exports=o},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(10),o=r(5),a=[],subscriber=function(t){var n=t.data.message;a.forEach((function(r){n instanceof Error?r.trackException({exception:n}):(n.lastIndexOf("\n")==n.length-1&&(n=n.substring(0,n.length-1)),r.trackTrace({message:n,severity:t.data.stderr?i.SeverityLevel.Warning:i.SeverityLevel.Information}))}))};n.enable=function enable(t,n){t?(0===a.length&&o.channel.subscribe("console",subscriber),a.push(n)):0===(a=a.filter((function(t){return t!=n}))).length&&o.channel.unsubscribe("console",subscriber)},n.dispose=function dispose(){o.channel.unsubscribe("console",subscriber),a=[]}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(76),o=function(){function RemoteDependencyDataConstants(){}return RemoteDependencyDataConstants.TYPE_HTTP="Http",RemoteDependencyDataConstants.TYPE_AI="Http (tracked component)",RemoteDependencyDataConstants}();n.RemoteDependencyDataConstants=o,n.domainSupportsProperties=function domainSupportsProperties(t){return"properties"in t||t instanceof i.EventData||t instanceof i.ExceptionData||t instanceof i.MessageData||t instanceof i.MetricData||t instanceof i.PageViewData||t instanceof i.RemoteDependencyData||t instanceof i.RequestData}},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function AvailabilityData(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o(AvailabilityData,t),AvailabilityData}(r(18));t.exports=a},function(t,n,r){"use strict";var i=function i(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};t.exports=i},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function Data(){return t.call(this)||this}return o(Data,t),Data}(r(77));t.exports=a},function(t,n,r){"use strict";var i=r(78),o=function o(){this.kind=i.Measurement};t.exports=o},function(t,n,r){"use strict";var i=function i(){this.ver=1,this.sampleRate=100,this.tags={}};t.exports=i},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function ExceptionData(){var n=t.call(this)||this;return n.ver=2,n.exceptions=[],n.properties={},n.measurements={},n}return o(ExceptionData,t),ExceptionData}(r(18));t.exports=a},function(t,n,r){"use strict";var i=function i(){this.hasFullStack=!0,this.parsedStack=[]};t.exports=i},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function MessageData(){var n=t.call(this)||this;return n.ver=2,n.properties={},n}return o(MessageData,t),MessageData}(r(18));t.exports=a},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function MetricData(){var n=t.call(this)||this;return n.ver=2,n.metrics=[],n.properties={},n}return o(MetricData,t),MetricData}(r(18));t.exports=a},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function PageViewData(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o(PageViewData,t),PageViewData}(r(79));t.exports=a},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function RemoteDependencyData(){var n=t.call(this)||this;return n.ver=2,n.success=!0,n.properties={},n.measurements={},n}return o(RemoteDependencyData,t),RemoteDependencyData}(r(18));t.exports=a},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=function(t){function RequestData(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o(RequestData,t),RequestData}(r(18));t.exports=a},function(t,n,r){"use strict";var i;!function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"}(i||(i={})),t.exports=i},function(t,n,r){"use strict";var i=function i(){};t.exports=i},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function __export(t){for(var r in t)n.hasOwnProperty(r)||(n[r]=t[r])}(r(191))},function(t,n,r){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.telemetryTypeToBaseType=function telemetryTypeToBaseType(t){switch(t){case i.Event:return"EventData";case i.Exception:return"ExceptionData";case i.Trace:return"MessageData";case i.Metric:return"MetricData";case i.Request:return"RequestData";case i.Dependency:return"RemoteDependencyData";case i.Availability:return"AvailabilityData"}},n.baseTypeToTelemetryType=function baseTypeToTelemetryType(t){switch(t){case"EventData":return i.Event;case"ExceptionData":return i.Exception;case"MessageData":return i.Trace;case"MetricData":return i.Metric;case"RequestData":return i.Request;case"RemoteDependencyData":return i.Dependency;case"AvailabilityData":return i.Availability}},n.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData"},function(t){t[t.Event=0]="Event",t[t.Exception=1]="Exception",t[t.Trace=2]="Trace",t[t.Metric=3]="Metric",t[t.Request=4]="Request",t[t.Dependency=5]="Dependency",t[t.Availability=6]="Availability"}(i=n.TelemetryType||(n.TelemetryType={}))},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(10),o=r(5),a=[],c={10:i.SeverityLevel.Verbose,20:i.SeverityLevel.Verbose,30:i.SeverityLevel.Information,40:i.SeverityLevel.Warning,50:i.SeverityLevel.Error,60:i.SeverityLevel.Critical},subscriber=function(t){var n=t.data.result;a.forEach((function(r){var i=c[t.data.level];n instanceof Error?r.trackException({exception:n}):r.trackTrace({message:n,severity:i})}))};n.enable=function enable(t,n){t?(0===a.length&&o.channel.subscribe("bunyan",subscriber),a.push(n)):0===(a=a.filter((function(t){return t!=n}))).length&&o.channel.unsubscribe("bunyan",subscriber)},n.dispose=function dispose(){o.channel.unsubscribe("bunyan",subscriber),a=[]}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(10),o=r(5),a=[],c={syslog:function(t){var n={emerg:i.SeverityLevel.Critical,alert:i.SeverityLevel.Critical,crit:i.SeverityLevel.Critical,error:i.SeverityLevel.Error,warning:i.SeverityLevel.Warning,notice:i.SeverityLevel.Information,info:i.SeverityLevel.Information,debug:i.SeverityLevel.Verbose};return void 0===n[t]?i.SeverityLevel.Information:n[t]},npm:function(t){var n={error:i.SeverityLevel.Error,warn:i.SeverityLevel.Warning,info:i.SeverityLevel.Information,verbose:i.SeverityLevel.Verbose,debug:i.SeverityLevel.Verbose,silly:i.SeverityLevel.Verbose};return void 0===n[t]?i.SeverityLevel.Information:n[t]},unknown:function(t){return i.SeverityLevel.Information}},subscriber=function(t){var n=t.data.message;a.forEach((function(r){if(n instanceof Error)r.trackException({exception:n,properties:t.data.meta});else{var i=c[t.data.levelKind](t.data.level);r.trackTrace({message:n,severity:i,properties:t.data.meta})}}))};n.enable=function enable(t,n){t?(0===a.length&&o.channel.subscribe("winston",subscriber),a.push(n)):0===(a=a.filter((function(t){return t!=n}))).length&&o.channel.unsubscribe("winston",subscriber)},n.dispose=function dispose(){o.channel.unsubscribe("winston",subscriber),a=[]}},function(t,n,r){"use strict";var i=function(){function AutoCollectExceptions(t){if(AutoCollectExceptions.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");AutoCollectExceptions.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");AutoCollectExceptions._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return AutoCollectExceptions.prototype.isInitialized=function(){return this._isInitialized},AutoCollectExceptions.prototype.enable=function(t){var n=this;if(t){this._isInitialized=!0;if(!this._exceptionListenerHandle){var handle=function(t,r,i){void 0===i&&(i=new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE)),n._client.trackException({exception:i}),n._client.flush({isAppCrashing:!0}),t&&r&&1===process.listeners(r).length&&(console.error(i),process.exit(1))};AutoCollectExceptions._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=handle.bind(this,!1),process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=handle.bind(this,!0,AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=handle.bind(this,!1),process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(AutoCollectExceptions._canUseUncaughtExceptionMonitor?process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},AutoCollectExceptions.prototype.dispose=function(){AutoCollectExceptions.INSTANCE=null,this.enable(!1),this._isInitialized=!1},AutoCollectExceptions.INSTANCE=null,AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",AutoCollectExceptions._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",AutoCollectExceptions._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",AutoCollectExceptions._canUseUncaughtExceptionMonitor=!1,AutoCollectExceptions}();t.exports=i},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=r(16),c=r(10),u=r(12),l=r(29),p=r(81),d=r(24),h=function(t){function HttpDependencyParser(n,r){var i=t.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=HttpDependencyParser._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return o(HttpDependencyParser,t),HttpDependencyParser.prototype.onError=function(t){this._setStatus(void 0,t)},HttpDependencyParser.prototype.onResponse=function(t){this._setStatus(t.statusCode,void 0),this.correlationId=u.getCorrelationContextTarget(t,l.requestContextTargetKey)},HttpDependencyParser.prototype.getDependencyTelemetry=function(t,n){var r=a.parse(this.url);r.search=void 0,r.hash=void 0;var i=this.method.toUpperCase()+" "+r.pathname,o=c.RemoteDependencyDataConstants.TYPE_HTTP,u=r.hostname;this.correlationId?(o=c.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==d.correlationIdPrefix&&(u=r.hostname+" | "+this.correlationId)):o=c.RemoteDependencyDataConstants.TYPE_HTTP,r.port&&(u+=":"+r.port);var l={id:n,name:i,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:u};if(t){for(var p in t)l[p]||(l[p]=t[p]);if(t.properties)for(var p in t.properties)l.properties[p]=t.properties[p]}return l},HttpDependencyParser._getUrlFromRequestOptions=function(t,n){if("string"==typeof t)t=a.parse(t);else{var r=t;t={},r&&Object.keys(r).forEach((function(n){t[n]=r[n]}))}if(t.path){var i=a.parse(t.path);t.pathname=i.pathname,t.search=i.search}t.host&&t.port&&(!a.parse("http://"+t.host).port&&t.port&&(t.hostname=t.host,delete t.host));return t.protocol=t.protocol||n.agent&&n.agent.protocol||void 0,t.hostname=t.hostname||"localhost",a.format(t)},HttpDependencyParser}(p);t.exports=h},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5),o=[];n.subscriber=function(t){t.data.event.commandName,o.forEach((function(n){var r=t.data.startedData&&t.data.startedData.databaseName||"Unknown database";n.trackDependency({target:r,data:t.data.event.commandName,name:t.data.event.commandName,duration:t.data.event.duration,success:t.data.succeeded,resultCode:t.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})}))},n.enable=function enable(t,r){t?(0===o.length&&i.channel.subscribe("mongodb",n.subscriber),o.push(r)):0===(o=o.filter((function(t){return t!=r}))).length&&i.channel.unsubscribe("mongodb",n.subscriber)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5),o=[];n.subscriber=function(t){o.forEach((function(n){var r=t.data.query||{},i=r.sql||"Unknown query",o=!t.data.err,a=(r._connection||{}).config||{},c=a.socketPath?a.socketPath:(a.host||"localhost")+":"+a.port;n.trackDependency({target:c,data:i,name:i,duration:t.data.duration,success:o,resultCode:o?"0":"1",dependencyTypeName:"mysql"})}))},n.enable=function enable(t,r){t?(0===o.length&&i.channel.subscribe("mysql",n.subscriber),o.push(r)):0===(o=o.filter((function(t){return t!=r}))).length&&i.channel.unsubscribe("mysql",n.subscriber)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5),o=[];n.subscriber=function(t){o.forEach((function(n){"info"!==t.data.commandObj.command&&n.trackDependency({target:t.data.address,name:t.data.commandObj.command,data:t.data.commandObj.command,duration:t.data.duration,success:!t.data.err,resultCode:t.data.err?"1":"0",dependencyTypeName:"redis"})}))},n.enable=function enable(t,r){t?(0===o.length&&i.channel.subscribe("redis",n.subscriber),o.push(r)):0===(o=o.filter((function(t){return t!=r}))).length&&i.channel.unsubscribe("redis",n.subscriber)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(5),o=[];n.subscriber=function(t){o.forEach((function(n){var r=t.data.query,i=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",o=!t.data.error,a=t.data.database.host+":"+t.data.database.port;n.trackDependency({target:a,data:i,name:i,duration:t.data.duration,success:o,resultCode:o?"0":"1",dependencyTypeName:"postgres"})}))},n.enable=function enable(t,r){t?(0===o.length&&i.channel.subscribe("postgres",n.subscriber),o.push(r)):0===(o=o.filter((function(t){return t!=r}))).length&&i.channel.unsubscribe("postgres",n.subscriber)}},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=r(16),c=r(10),u=r(12),l=r(29),p=r(81),d=r(24),h=r(201),m=r(82),g=function(t){function HttpRequestParser(n,r){var i=t.call(this)||this;return n&&(i.method=n.method,i.url=i._getAbsoluteUrl(n),i.startTime=+new Date,i.socketRemoteAddress=n.socket&&n.socket.remoteAddress,i.parseHeaders(n,r),n.connection&&(i.connectionRemoteAddress=n.connection.remoteAddress,i.legacySocketRemoteAddress=n.connection.socket&&n.connection.socket.remoteAddress)),i}return o(HttpRequestParser,t),HttpRequestParser.prototype.onError=function(t,n){this._setStatus(void 0,t),n&&(this.duration=n)},HttpRequestParser.prototype.onResponse=function(t,n){this._setStatus(t.statusCode,void 0),n&&(this.duration=n)},HttpRequestParser.prototype.getRequestTelemetry=function(t){var n={id:this.requestId,name:this.method+" "+a.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(t){for(var r in t)n[r]||(n[r]=t[r]);if(t.properties)for(var r in t.properties)n.properties[r]=t.properties[r]}return n},HttpRequestParser.prototype.getRequestTags=function(t){var n={};for(var r in t)n[r]=t[r];return n[HttpRequestParser.keys.locationIp]=t[HttpRequestParser.keys.locationIp]||this._getIp(),n[HttpRequestParser.keys.sessionId]=t[HttpRequestParser.keys.sessionId]||this._getId("ai_session"),n[HttpRequestParser.keys.userId]=t[HttpRequestParser.keys.userId]||this._getId("ai_user"),n[HttpRequestParser.keys.userAuthUserId]=t[HttpRequestParser.keys.userAuthUserId]||this._getId("ai_authUser"),n[HttpRequestParser.keys.operationName]=this.getOperationName(t),n[HttpRequestParser.keys.operationParentId]=this.getOperationParentId(t),n[HttpRequestParser.keys.operationId]=this.getOperationId(t),n},HttpRequestParser.prototype.getOperationId=function(t){return t[HttpRequestParser.keys.operationId]||this.operationId},HttpRequestParser.prototype.getOperationParentId=function(t){return t[HttpRequestParser.keys.operationParentId]||this.parentId||this.getOperationId(t)},HttpRequestParser.prototype.getOperationName=function(t){return t[HttpRequestParser.keys.operationName]||this.method+" "+a.parse(this.url).pathname},HttpRequestParser.prototype.getRequestId=function(){return this.requestId},HttpRequestParser.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},HttpRequestParser.prototype.getTraceparent=function(){return this.traceparent},HttpRequestParser.prototype.getTracestate=function(){return this.tracestate},HttpRequestParser.prototype.getLegacyRootId=function(){return this.legacyRootId},HttpRequestParser.prototype._getAbsoluteUrl=function(t){if(!t.headers)return t.url;var n=t.connection?t.connection.encrypted:null,r=a.parse(t.url),i=r.pathname,o=r.search;return a.format({protocol:n?"https":"http",host:t.headers.host,pathname:i,search:o})},HttpRequestParser.prototype._getIp=function(){var t=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,check=function(n){var r=t.exec(n);if(r)return r[0]},n=check(this.rawHeaders["x-forwarded-for"])||check(this.rawHeaders["x-client-ip"])||check(this.rawHeaders["x-real-ip"])||check(this.connectionRemoteAddress)||check(this.socketRemoteAddress)||check(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},HttpRequestParser.prototype._getId=function(t){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return HttpRequestParser.parseId(u.getCookie(t,n))},HttpRequestParser.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},HttpRequestParser.prototype.parseHeaders=function(t,n){if(this.rawHeaders=t.headers||t.rawHeaders,this.userAgent=t.headers&&t.headers["user-agent"],this.sourceCorrelationId=u.getCorrelationContextTarget(t,l.requestContextSourceKey),t.headers){var r=t.headers[l.traceStateHeader],i=t.headers[l.traceparentHeader],o=t.headers[l.requestIdHeader],a=t.headers[l.parentIdHeader],c=t.headers[l.rootIdHeader];this.correlationContextHeader=t.headers[l.correlationContextHeader],d.w3cEnabled&&(i||r)?(this.traceparent=new m(i),this.tracestate=i&&r&&new h(r),this.setBackCompatFromThisTraceContext()):o?d.w3cEnabled?(this.traceparent=new m(null,o),this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=d.generateRequestId(this.parentId),this.operationId=d.getRootId(this.requestId)):d.w3cEnabled?(this.traceparent=new m,this.traceparent.parentId=a,this.traceparent.legacyRootId=c||a,this.setBackCompatFromThisTraceContext()):(this.parentId=a,this.requestId=d.generateRequestId(c||this.parentId),this.correlationContextHeader=null,this.operationId=d.getRootId(this.requestId)),n&&(this.requestId=n,this.operationId=d.getRootId(this.requestId))}},HttpRequestParser.parseId=function(t){var n=t.split("|");return n.length>0?n[0]:""},HttpRequestParser.keys=new c.ContextTagKeys,HttpRequestParser}(p);t.exports=g},function(t,n,r){"use strict";var i=function(){function Tracestate(t){this.fieldmap=[],t&&(this.fieldmap=this.parseHeader(t))}return Tracestate.prototype.toString=function(){var t=this.fieldmap;return t&&0!=t.length?t.join(", "):null},Tracestate.validateKeyChars=function(t){var n=t.split("@");if(2==n.length){var r=n[0].trim(),i=n[1].trim(),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),a=Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return o&&a}return 1==n.length&&Boolean(t.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},Tracestate.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,a=i;o<a.length;o++){var c=a[o].trim();if(0!==c.length){var u=c.split("=");if(2!==u.length)return null;if(!Tracestate.validateKeyChars(u[0]))return null;if(r[u[0]])return null;r[u[0]]=!0,n.push(c)}}return n},Tracestate.strict=!0,Tracestate}();t.exports=i},function(t,n,r){"use strict";var i=r(7),o=r(50),a=r(204),c=r(205),u=r(28),l=r(51),p=function(){function QuickPulseStateManager(t,n){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new o(t),this.context=n||new l,this._sender=new c(this.config),this._isEnabled=!1}return QuickPulseStateManager.prototype.addCollector=function(t){this._collectors.push(t)},QuickPulseStateManager.prototype.trackMetric=function(t){this._addMetric(t)},QuickPulseStateManager.prototype.addDocument=function(t){var n=a.telemetryEnvelopeToQuickPulseDocument(t);n&&this._documents.push(n)},QuickPulseStateManager.prototype.enable=function(t){t&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!t&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},QuickPulseStateManager.prototype.enableCollectors=function(t){this._collectors.forEach((function(n){n.enable(t)}))},QuickPulseStateManager.prototype._addMetric=function(t){var n=t.value,r=t.count||1,i=u.PerformanceToQuickPulseCounter[t.name];i&&(this._metrics[i]?(this._metrics[i].Value=(this._metrics[i].Value*this._metrics[i].Weight+n*r)/(this._metrics[i].Weight+r),this._metrics[i].Weight+=r):(this._metrics[i]=a.createQuickPulseMetric(t),this._metrics[i].Name=i,this._metrics[i].Weight=1))},QuickPulseStateManager.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},QuickPulseStateManager.prototype._goQuickPulse=function(){var t=this,n=Object.keys(this._metrics).map((function(n){return t._metrics[n]})),r=a.createQuickPulseEnvelope(n,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(r):this._ping(r);var i=this._isCollectingData?QuickPulseStateManager.POST_INTERVAL:QuickPulseStateManager.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=QuickPulseStateManager.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=QuickPulseStateManager.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=QuickPulseStateManager.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=QuickPulseStateManager.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref()},QuickPulseStateManager.prototype._ping=function(t){this._sender.ping(t,this._quickPulseDone.bind(this))},QuickPulseStateManager.prototype._post=function(t){this._sender.post(t,this._quickPulseDone.bind(this))},QuickPulseStateManager.prototype._quickPulseDone=function(t,n){null!=t?(this._isCollectingData!==t&&(i.info("Live Metrics sending data",t),this.enableCollectors(t)),this._isCollectingData=t,n&&n.statusCode<300&&n.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},QuickPulseStateManager.MAX_POST_WAIT_TIME=2e4,QuickPulseStateManager.MAX_PING_WAIT_TIME=6e4,QuickPulseStateManager.FALLBACK_INTERVAL=6e4,QuickPulseStateManager.PING_INTERVAL=5e3,QuickPulseStateManager.POST_INTERVAL=1e3,QuickPulseStateManager}();t.exports=p},function(t,n,r){"use strict";var i=r(28),o=function(){function ConnectionStringParser(){}return ConnectionStringParser.parse=function(t){if(!t)return{};var n=t.split(ConnectionStringParser._FIELDS_SEPARATOR).reduce((function(t,n){var r=n.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),o=r[1];t[i]=o}return t}),{});if(Object.keys(n).length>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+r+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+r+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||i.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||i.DEFAULT_LIVEMETRICS_ENDPOINT}return n},ConnectionStringParser._FIELDS_SEPARATOR=";",ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR="=",ConnectionStringParser}();t.exports=o},function(t,n,r){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},o=r(8),a=r(10),c=r(28),u=r(12),l=r(7),p=u.w3cTraceId(),d=function(){function QuickPulseEnvelopeFactory(){}return QuickPulseEnvelopeFactory.createQuickPulseEnvelope=function(t,n,r,i){var a=o&&"function"==typeof o.hostname&&o.hostname()||"Unknown",c=i.tags&&i.keys&&i.keys.cloudRoleInstance&&i.tags[i.keys.cloudRoleInstance]||a;return{Documents:n.length>0?n:null,InstrumentationKey:r.instrumentationKey||"",Metrics:t.length>0?t:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:i.tags[i.keys.internalSdkVersion],StreamId:p,MachineName:a,Instance:c}},QuickPulseEnvelopeFactory.createQuickPulseMetric=function(t){return{Name:t.name,Value:t.value,Weight:t.count||1}},QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case a.TelemetryTypeString.Event:return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(t);case a.TelemetryTypeString.Exception:return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(t);case a.TelemetryTypeString.Trace:return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(t);case a.TelemetryTypeString.Dependency:return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(t);case a.TelemetryTypeString.Request:return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(t)}return null},QuickPulseEnvelopeFactory.createQuickPulseEventDocument=function(t){var n=QuickPulseEnvelopeFactory.createQuickPulseDocument(t),r=t.data.baseData.name;return i({},n,{Name:r})},QuickPulseEnvelopeFactory.createQuickPulseTraceDocument=function(t){var n=QuickPulseEnvelopeFactory.createQuickPulseDocument(t),r=t.data.baseData.severityLevel||0;return i({},n,{Message:t.data.baseData.message,SeverityLevel:a.SeverityLevel[r]})},QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument=function(t){var n=QuickPulseEnvelopeFactory.createQuickPulseDocument(t),r=t.data.baseData.exceptions,o="",a="",c="";return r&&r.length>0&&(r[0].parsedStack&&r[0].parsedStack.length>0?r[0].parsedStack.forEach((function(t){o+=t.assembly+"\n"})):r[0].stack&&r[0].stack.length>0&&(o=r[0].stack),a=r[0].message,c=r[0].typeName),i({},n,{Exception:o,ExceptionMessage:a,ExceptionType:c})},QuickPulseEnvelopeFactory.createQuickPulseRequestDocument=function(t){var n=QuickPulseEnvelopeFactory.createQuickPulseDocument(t),r=t.data.baseData;return i({},n,{Name:r.name,Success:r.success,Duration:r.duration,ResponseCode:r.responseCode,OperationName:r.name})},QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument=function(t){var n=QuickPulseEnvelopeFactory.createQuickPulseDocument(t),r=t.data.baseData;return i({},n,{Name:r.name,Target:r.target,Success:r.success,Duration:r.duration,ResultCode:r.resultCode,CommandName:r.data,OperationName:n.OperationId,DependencyTypeName:r.type})},QuickPulseEnvelopeFactory.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=c.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=c.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):l.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[QuickPulseEnvelopeFactory.keys.operationId],Version:"1.0",Properties:QuickPulseEnvelopeFactory.aggregateProperties(t)}},QuickPulseEnvelopeFactory.aggregateProperties=function(t){var n=[],r=t.data.baseData.measurements||{};for(var i in r)if(r.hasOwnProperty(i)){var o={key:i,value:r[i]};n.push(o)}var a=t.data.baseData.properties||{};for(var i in a)if(a.hasOwnProperty(i)){o={key:i,value:a[i]};n.push(o)}return n},QuickPulseEnvelopeFactory.keys=new a.ContextTagKeys,QuickPulseEnvelopeFactory}();t.exports=d},function(t,n,r){"use strict";var i=r(23),o=r(34),a=r(7),c="POST",u="x-ms-qps-transmission-time",l="x-ms-qps-subscribed",p=function(){function QuickPulseSender(t){this._config=t,this._consecutiveErrors=0}return QuickPulseSender.prototype.ping=function(t,n){this._submitData(t,n,"ping")},QuickPulseSender.prototype.post=function(t,n){this._submitData([t],n,"post")},QuickPulseSender.prototype._submitData=function(t,n,r){var p,d,h=this,m=JSON.stringify(t),g=((p={})[o.disableCollectionRequestOption]=!0,p.host=this._config.quickPulseHost,p.method=c,p.path="/QuickPulseService.svc/"+r+"?ikey="+this._config.instrumentationKey,p.headers=((d={Expect:"100-continue"})[u]=1e4*Date.now(),d["Content-Type"]="application/json",d["Content-Length"]=Buffer.byteLength(m),d),p),y=i.request(g,(function(t){var r="true"===t.headers[l];h._consecutiveErrors=0,n(r,t)}));y.on("error",(function(t){h._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";h._consecutiveErrors%QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN==0?(r="Live Metrics endpoint could not be reached "+h._consecutiveErrors+" consecutive times. Most recent error:",a.warn(QuickPulseSender.TAG,r,t)):a.info(QuickPulseSender.TAG,r,t),n()})),y.write(m),y.end()},QuickPulseSender.TAG="QuickPulseSender",QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN=25,QuickPulseSender}();t.exports=p},function(t,n,r){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t};Object.defineProperty(n,"__esModule",{value:!0});var o=r(50),a=r(51),c=r(7),u=function(){function AutoCollectNativePerformance(t){this._disabledMetrics={},AutoCollectNativePerformance.INSTANCE&&AutoCollectNativePerformance.INSTANCE.dispose(),AutoCollectNativePerformance.INSTANCE=this,this._client=t}return AutoCollectNativePerformance.isNodeVersionCompatible=function(){var t=process.versions.node.split(".");return parseInt(t[0])>=6},AutoCollectNativePerformance.prototype.enable=function(t,n,i){var o=this;if(void 0===n&&(n={}),void 0===i&&(i=6e4),AutoCollectNativePerformance.isNodeVersionCompatible()){if(null==AutoCollectNativePerformance._metricsAvailable&&t&&!this._isInitialized)try{var a=r(!function webpackMissingModule(){var t=new Error("Cannot find module 'applicationinsights-native-metrics'");throw t.code="MODULE_NOT_FOUND",t}());AutoCollectNativePerformance._emitter=new a,AutoCollectNativePerformance._metricsAvailable=!0,c.info("Native metrics module successfully loaded!")}catch(t){return void(AutoCollectNativePerformance._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&AutoCollectNativePerformance._emitter?(AutoCollectNativePerformance._emitter.enable(!0,i),this._handle=setInterval((function(){return o._trackNativeMetrics()}),i),this._handle.unref()):AutoCollectNativePerformance._emitter&&(AutoCollectNativePerformance._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},AutoCollectNativePerformance.prototype.dispose=function(){this.enable(!1)},AutoCollectNativePerformance.parseEnabled=function(t){var n=process.env[o.ENV_nativeMetricsDisableAll],r=process.env[o.ENV_nativeMetricsDisablers];if(n)return{isEnabled:!1,disabledMetrics:{}};if(r){var a=r.split(","),c={};if(a.length>0)for(var u=0,l=a;u<l.length;u++){c[l[u]]=!0}return"object"==typeof t?{isEnabled:!0,disabledMetrics:i({},t,c)}:{isEnabled:t,disabledMetrics:c}}return"boolean"==typeof t?{isEnabled:t,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:t}},AutoCollectNativePerformance.prototype._trackNativeMetrics=function(){var t=!0;"object"!=typeof this._isEnabled&&(t=this._isEnabled),t&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},AutoCollectNativePerformance.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,n=AutoCollectNativePerformance._emitter.getGCData();for(var r in n){var i=n[r].metrics,o=r+" Garbage Collection Duration",c=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:o,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:c,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+a.sdkVersion,t)})}}},AutoCollectNativePerformance.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=AutoCollectNativePerformance._emitter.getLoopData().loopUsage;if(0!=t.count){var n,r=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:r,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+a.sdkVersion,n)})}}},AutoCollectNativePerformance.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var t,n,r,i=process.memoryUsage(),o=i.heapUsed,c=i.heapTotal,u=i.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+a.sdkVersion,t)}),this._client.trackMetric({name:"Memory Total (Heap)",value:c,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+a.sdkVersion,n)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:u-c,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+a.sdkVersion,r)})}},AutoCollectNativePerformance}();n.AutoCollectNativePerformance=u},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}),a=r(208),c=r(83),u=r(34),l=r(7),p=function(t){function NodeClient(){return null!==t&&t.apply(this,arguments)||this}return o(NodeClient,t),NodeClient.prototype.trackNodeHttpRequestSync=function(t){t&&t.request&&t.response&&t.duration?c.trackRequestSync(this,t):l.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},NodeClient.prototype.trackNodeHttpRequest=function(t){(t.duration||t.error)&&l.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),t&&t.request&&t.response?c.trackRequest(this,t):l.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},NodeClient.prototype.trackNodeHttpDependency=function(t){t&&t.request?u.trackRequest(this,t):l.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},NodeClient}(a);t.exports=p},function(t,n,r){"use strict";var i=r(16),o=r(50),a=r(51),c=r(10),u=r(209),l=r(210),p=r(27),d=r(213),h=r(12),m=r(7),g=r(214),y=function(){function TelemetryClient(t){this._telemetryProcessors=[];var n=new o(t);this.config=n,this.context=new a,this.commonProperties={};var r=new d(this.config);this.channel=new u((function(){return n.disableAppInsights}),(function(){return n.maxBatchSize}),(function(){return n.maxBatchIntervalMs}),r)}return TelemetryClient.prototype.trackAvailability=function(t){this.track(t,c.TelemetryType.Availability)},TelemetryClient.prototype.trackTrace=function(t){this.track(t,c.TelemetryType.Trace)},TelemetryClient.prototype.trackMetric=function(t){this.track(t,c.TelemetryType.Metric)},TelemetryClient.prototype.trackException=function(t){t&&t.exception&&!h.isError(t.exception)&&(t.exception=new Error(t.exception.toString())),this.track(t,c.TelemetryType.Exception)},TelemetryClient.prototype.trackEvent=function(t){this.track(t,c.TelemetryType.Event)},TelemetryClient.prototype.trackRequest=function(t){this.track(t,c.TelemetryType.Request)},TelemetryClient.prototype.trackDependency=function(t){t&&!t.target&&t.data&&(t.target=i.parse(t.data).host),this.track(t,c.TelemetryType.Dependency)},TelemetryClient.prototype.flush=function(t){this.channel.triggerSend(!!t&&!!t.isAppCrashing,t?t.callback:void 0)},TelemetryClient.prototype.track=function(t,n){if(t&&c.telemetryTypeToBaseType(n)){var r=g.createEnvelope(t,n,this.commonProperties,this.context,this.config);t.time&&(r.time=t.time.toISOString());var i=this.runTelemetryProcessors(r,t.contextObjects);i=i&&l.samplingTelemetryProcessor(r,{correlationContext:p.CorrelationContextManager.getCurrentContext()}),l.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),i&&this.channel.send(r)}else m.warn("track() requires telemetry object and telemetryType to be specified.")},TelemetryClient.prototype.addTelemetryProcessor=function(t){this._telemetryProcessors.push(t)},TelemetryClient.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},TelemetryClient.prototype.runTelemetryProcessors=function(t,n){var r=!0,i=this._telemetryProcessors.length;if(0===i)return r;(n=n||{}).correlationContext=p.CorrelationContextManager.getCurrentContext();for(var o=0;o<i;++o)try{var a=this._telemetryProcessors[o];if(a&&!1===a.apply(null,[t,n])){r=!1;break}}catch(n){r=!0,m.warn("One of telemetry processors failed, telemetry item will be sent.",n,t)}return r},TelemetryClient}();t.exports=y},function(t,n,r){"use strict";var i=r(7),o=function(){function Channel(t,n,r,i){this._buffer=[],this._lastSend=0,this._isDisabled=t,this._getBatchSize=n,this._getBatchIntervalMs=r,this._sender=i}return Channel.prototype.setUseDiskRetryCaching=function(t,n,r){this._sender.setDiskRetryMode(t,n,r)},Channel.prototype.send=function(t){var n=this;if(!this._isDisabled())if(t){var r=this._stringify(t);"string"==typeof r&&(this._buffer.push(r),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){n._timeoutHandle=null,n.triggerSend(!1)}),this._getBatchIntervalMs())))}else i.warn("Cannot send null/undefined telemetry")},Channel.prototype.triggerSend=function(t,n){var r=this._buffer.length<1;if(!r){var i=this._buffer.join("\n");t?(this._sender.saveOnCrash(i),"function"==typeof n&&n("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(i):new Buffer(i),n)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&"function"==typeof n&&n("no data to send")},Channel.prototype._stringify=function(t){try{return JSON.stringify(t)}catch(n){i.warn("Failed to serialize payload",n,t)}},Channel}();t.exports=o},function(t,n,r){"use strict";function __export(t){for(var r in t)n.hasOwnProperty(r)||(n[r]=t[r])}Object.defineProperty(n,"__esModule",{value:!0}),__export(r(211)),__export(r(212))},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(10);function getSamplingHashCode(t){var n=5381;if(!t)return 0;for(;t.length<8;)t+=t;for(var r=0;r<t.length;r++)n=((n<<5)+n|0)+t.charCodeAt(r)|0;return(n=n<=-2147483648?2147483647:Math.abs(n))/2147483647*100}n.samplingTelemetryProcessor=function samplingTelemetryProcessor(t,n){var r=t.sampleRate;return null==r||r>=100||(!(!t.data||i.TelemetryType.Metric!==i.baseTypeToTelemetryType(t.data.baseType))||(n.correlationContext&&n.correlationContext.operation?getSamplingHashCode(n.correlationContext.operation.id)<r:100*Math.random()<r))},n.getSamplingHashCode=getSamplingHashCode},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(49),o=r(10);n.performanceMetricsTelemetryProcessor=function performanceMetricsTelemetryProcessor(t,n){switch(n&&n.addDocument(t),t.data.baseType){case o.TelemetryTypeString.Exception:i.countException();break;case o.TelemetryTypeString.Request:var r=t.data.baseData;i.countRequest(r.duration,r.success);break;case o.TelemetryTypeString.Dependency:var a=t.data.baseData;i.countDependency(a.duration,a.success)}return!0}},function(t,n,r){"use strict";var i=r(3),o=r(8),a=r(2),c=r(48),u=r(22),l=r(7),p=r(34),d=r(12),h=function(){function Sender(t,n,r){if(this._config=t,this._onSuccess=n,this._onError=r,this._enableDiskRetryMode=!1,this._resendInterval=Sender.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=Sender.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!Sender.OS_PROVIDES_FILE_PROTECTION)if(Sender.USE_ICACLS){try{Sender.OS_PROVIDES_FILE_PROTECTION=i.existsSync(Sender.ICACLS_PATH)}catch(t){}Sender.OS_PROVIDES_FILE_PROTECTION||l.warn(Sender.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else Sender.OS_PROVIDES_FILE_PROTECTION=!0}return Sender.prototype.setDiskRetryMode=function(t,n,r){this._enableDiskRetryMode=Sender.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!Sender.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(Sender.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},Sender.prototype.send=function(t,n){var r=this,i=this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};c.gzip(t,(function(a,c){var u=c;a?(l.warn(a),u=t,o.headers["Content-Length"]=t.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=c.length),l.info(Sender.TAG,o),o[p.disableCollectionRequestOption]=!0;var h=d.makeRequest(r._config,i,o,(function(i){i.setEncoding("utf-8");var o="";i.on("data",(function(t){o+=t})),i.on("end",(function(){r._numConsecutiveFailures=0,l.info(Sender.TAG,o),"function"==typeof r._onSuccess&&r._onSuccess(o),"function"==typeof n&&n(o),r._enableDiskRetryMode&&(200===i.statusCode?setTimeout((function(){return r._sendFirstFileOnDisk()}),r._resendInterval).unref():408!==i.statusCode&&429!==i.statusCode&&439!==i.statusCode&&500!==i.statusCode&&503!==i.statusCode||r._storeToDisk(t))}))}));h.on("error",(function(i){if(r._numConsecutiveFailures++,!r._enableDiskRetryMode||r._numConsecutiveFailures>0&&r._numConsecutiveFailures%Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var o="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";r._enableDiskRetryMode&&(o="Ingestion endpoint could not be reached "+r._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(Sender.TAG,o,i)}else{o="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(Sender.TAG,o,i)}if(r._onErrorHelper(i),"function"==typeof n){var a="error sending telemetry";i&&"function"==typeof i.toString&&(a=i.toString()),n(a)}r._enableDiskRetryMode&&r._storeToDisk(t)})),h.write(u),h.end()}))},Sender.prototype.saveOnCrash=function(t){this._enableDiskRetryMode&&this._storeToDiskSync(t)},Sender.prototype._runICACLS=function(t,n){var r=u.spawn(Sender.ICACLS_PATH,t,{windowsHide:!0});r.on("error",(function(t){return n(t)})),r.on("close",(function(t,r){return n(0===t?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+t+")"))}))},Sender.prototype._runICACLSSync=function(t){if(!u.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=u.spawnSync(Sender.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},Sender.prototype._getACLIdentity=function(t){if(Sender.ACL_IDENTITY)return t(null,Sender.ACL_IDENTITY);var n=u.spawn(Sender.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",(function(t){return r+=t})),n.on("error",(function(n){return t(n,null)})),n.on("close",(function(n,i){return Sender.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),Sender.ACL_IDENTITY)}))},Sender.prototype._getACLIdentitySync=function(){if(Sender.ACL_IDENTITY)return Sender.ACL_IDENTITY;if(u.spawnSync){var t=u.spawnSync(Sender.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return Sender.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),Sender.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},Sender.prototype._getACLArguments=function(t,n){return[t,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",n+":(OI)(CI)F","/inheritance:r"]},Sender.prototype._applyACLRules=function(t,n){var r=this;return Sender.USE_ICACLS?void 0!==Sender.ACLED_DIRECTORIES[t]?n(Sender.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(Sender.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return Sender.ACLED_DIRECTORIES[t]=!1,n(i);r._runICACLS(r._getACLArguments(t,o),(function(r){return Sender.ACLED_DIRECTORIES[t]=!r,n(r)}))}))):n(null)},Sender.prototype._applyACLRulesSync=function(t){if(Sender.USE_ICACLS){if(void 0===Sender.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(Sender.ACLED_DIRECTORIES[t]=!0);if(!Sender.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},Sender.prototype._confirmDirExists=function(t,n){var r=this;i.lstat(t,(function(o,a){o&&"ENOENT"===o.code?i.mkdir(t,(function(i){i&&"EEXIST"!==i.code?n(i):r._applyACLRules(t,n)})):!o&&a.isDirectory()?r._applyACLRules(t,n):n(o||new Error("Path existed but was not a directory"))}))},Sender.prototype._getShallowDirectorySize=function(t,n){i.readdir(t,(function(r,o){if(r)return n(r,-1);var c=null,u=0,l=0;if(0!==o.length)for(var p=0;p<o.length;p++)i.stat(a.join(t,o[p]),(function(t,r){l++,t?c=t:r.isFile()&&(u+=r.size),l===o.length&&n(c,c?-1:u)}));else n(null,0)}))},Sender.prototype._getShallowDirectorySizeSync=function(t){for(var n=i.readdirSync(t),r=0,o=0;o<n.length;o++)r+=i.statSync(a.join(t,n[o])).size;return r},Sender.prototype._storeToDisk=function(t){var n=this,r=a.join(o.tmpdir(),Sender.TEMPDIR_PREFIX+this._config.instrumentationKey);l.info(Sender.TAG,"Checking existance of data storage directory: "+r),this._confirmDirExists(r,(function(o){if(o)return l.warn(Sender.TAG,"Error while checking/creating directory: "+(o&&o.message)),void n._onErrorHelper(o);n._getShallowDirectorySize(r,(function(o,c){if(o||c<0)return l.warn(Sender.TAG,"Error while checking directory size: "+(o&&o.message)),void n._onErrorHelper(o);if(c>n._maxBytesOnDisk)l.warn(Sender.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+c);else{var u=(new Date).getTime()+".ai.json",p=a.join(r,u);l.info(Sender.TAG,"saving data to disk at: "+p),i.writeFile(p,t,{mode:384},(function(t){return n._onErrorHelper(t)}))}}))}))},Sender.prototype._storeToDiskSync=function(t){var n=a.join(o.tmpdir(),Sender.TEMPDIR_PREFIX+this._config.instrumentationKey);try{l.info(Sender.TAG,"Checking existance of data storage directory: "+n),i.existsSync(n)||i.mkdirSync(n),this._applyACLRulesSync(n);var r=this._getShallowDirectorySizeSync(n);if(r>this._maxBytesOnDisk)return void l.info(Sender.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+r);var c=(new Date).getTime()+".ai.json",u=a.join(n,c);l.info(Sender.TAG,"saving data before crash to disk at: "+u),i.writeFileSync(u,t,{mode:384})}catch(t){l.warn(Sender.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},Sender.prototype._sendFirstFileOnDisk=function(){var t=this,n=a.join(o.tmpdir(),Sender.TEMPDIR_PREFIX+this._config.instrumentationKey);i.exists(n,(function(r){r&&i.readdir(n,(function(r,o){if(r)t._onErrorHelper(r);else if((o=o.filter((function(t){return a.basename(t).indexOf(".ai.json")>-1}))).length>0){var c=o[0],u=a.join(n,c);i.readFile(u,(function(n,r){n?t._onErrorHelper(n):i.unlink(u,(function(n){n?t._onErrorHelper(n):t.send(r)}))}))}}))}))},Sender.prototype._onErrorHelper=function(t){"function"==typeof this._onError&&this._onError(t)},Sender.TAG="Sender",Sender.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",Sender.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",Sender.ACLED_DIRECTORIES={},Sender.ACL_IDENTITY=null,Sender.WAIT_BETWEEN_RESEND=6e4,Sender.MAX_BYTES_ON_DISK=5e7,Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,Sender.TEMPDIR_PREFIX="appInsights-node",Sender.OS_PROVIDES_FILE_PROTECTION=!1,Sender.USE_ICACLS="Windows_NT"===o.type(),Sender}();t.exports=h},function(t,n,r){"use strict";var i=r(10),o=r(12),a=r(27),c=function(){function EnvelopeFactory(){}return EnvelopeFactory.createEnvelope=function(t,n,r,a,c){var u=null;switch(n){case i.TelemetryType.Trace:u=EnvelopeFactory.createTraceData(t);break;case i.TelemetryType.Dependency:u=EnvelopeFactory.createDependencyData(t);break;case i.TelemetryType.Event:u=EnvelopeFactory.createEventData(t);break;case i.TelemetryType.Exception:u=EnvelopeFactory.createExceptionData(t);break;case i.TelemetryType.Request:u=EnvelopeFactory.createRequestData(t);break;case i.TelemetryType.Metric:u=EnvelopeFactory.createMetricData(t);break;case i.TelemetryType.Availability:u=EnvelopeFactory.createAvailabilityData(t)}if(r&&i.domainSupportsProperties(u.baseData)){if(u&&u.baseData)if(u.baseData.properties)for(var l in r)u.baseData.properties[l]||(u.baseData.properties[l]=r[l]);else u.baseData.properties=r;u.baseData.properties=o.validateStringMap(u.baseData.properties)}var p=c&&c.instrumentationKey||"",d=new i.Envelope;return d.data=u,d.iKey=p,d.name="Microsoft.ApplicationInsights."+p.replace(/-/g,"")+"."+u.baseType.substr(0,u.baseType.length-4),d.tags=this.getTags(a,t.tagOverrides),d.time=(new Date).toISOString(),d.ver=1,d.sampleRate=c?c.samplingPercentage:100,n===i.TelemetryType.Metric&&(d.sampleRate=100),d},EnvelopeFactory.createTraceData=function(t){var n=new i.MessageData;n.message=t.message,n.properties=t.properties,isNaN(t.severity)?n.severityLevel=i.SeverityLevel.Information:n.severityLevel=t.severity;var r=new i.Data;return r.baseType=i.telemetryTypeToBaseType(i.TelemetryType.Trace),r.baseData=n,r},EnvelopeFactory.createDependencyData=function(t){var n=new i.RemoteDependencyData;"string"==typeof t.name&&(n.name=t.name.length>1024?t.name.slice(0,1021)+"...":t.name),n.data=t.data,n.target=t.target,n.duration=o.msToTimeSpan(t.duration),n.success=t.success,n.type=t.dependencyTypeName,n.properties=t.properties,n.resultCode=t.resultCode?t.resultCode+"":"",t.id?n.id=t.id:n.id=o.w3cTraceId();var r=new i.Data;return r.baseType=i.telemetryTypeToBaseType(i.TelemetryType.Dependency),r.baseData=n,r},EnvelopeFactory.createEventData=function(t){var n=new i.EventData;n.name=t.name,n.properties=t.properties,n.measurements=t.measurements;var r=new i.Data;return r.baseType=i.telemetryTypeToBaseType(i.TelemetryType.Event),r.baseData=n,r},EnvelopeFactory.createExceptionData=function(t){var n=new i.ExceptionData;n.properties=t.properties,isNaN(t.severity)?n.severityLevel=i.SeverityLevel.Error:n.severityLevel=t.severity,n.measurements=t.measurements,n.exceptions=[];var r=t.exception.stack,a=new i.ExceptionDetails;a.message=t.exception.message,a.typeName=t.exception.name,a.parsedStack=this.parseStack(r),a.hasFullStack=o.isArray(a.parsedStack)&&a.parsedStack.length>0,n.exceptions.push(a);var c=new i.Data;return c.baseType=i.telemetryTypeToBaseType(i.TelemetryType.Exception),c.baseData=n,c},EnvelopeFactory.createRequestData=function(t){var n=new i.RequestData;t.id?n.id=t.id:n.id=o.w3cTraceId(),n.name=t.name,n.url=t.url,n.source=t.source,n.duration=o.msToTimeSpan(t.duration),n.responseCode=t.resultCode?t.resultCode+"":"",n.success=t.success,n.properties=t.properties;var r=new i.Data;return r.baseType=i.telemetryTypeToBaseType(i.TelemetryType.Request),r.baseData=n,r},EnvelopeFactory.createMetricData=function(t){var n=new i.MetricData;n.metrics=[];var r=new i.DataPoint;r.count=isNaN(t.count)?1:t.count,r.kind=i.DataPointType.Aggregation,r.max=isNaN(t.max)?t.value:t.max,r.min=isNaN(t.min)?t.value:t.min,r.name=t.name,r.stdDev=isNaN(t.stdDev)?0:t.stdDev,r.value=t.value,n.metrics.push(r),n.properties=t.properties;var o=new i.Data;return o.baseType=i.telemetryTypeToBaseType(i.TelemetryType.Metric),o.baseData=n,o},EnvelopeFactory.createAvailabilityData=function(t){var n=new i.AvailabilityData;t.id?n.id=t.id:n.id=o.w3cTraceId(),n.name=t.name,n.duration=o.msToTimeSpan(t.duration),n.success=t.success,n.runLocation=t.runLocation,n.message=t.message,n.measurements=t.measurements,n.properties=t.properties;var r=new i.Data;return r.baseType=i.telemetryTypeToBaseType(i.TelemetryType.Availability),r.baseData=n,r},EnvelopeFactory.getTags=function(t,n){var r=a.CorrelationContextManager.getCurrentContext(),i={};if(t&&t.tags)for(var o in t.tags)i[o]=t.tags[o];if(n)for(var o in n)i[o]=n[o];return r&&(i[t.keys.operationId]=i[t.keys.operationId]||r.operation.id,i[t.keys.operationName]=i[t.keys.operationName]||r.operation.name,i[t.keys.operationParentId]=i[t.keys.operationParentId]||r.operation.parentId),i},EnvelopeFactory.parseStack=function(t){var n=void 0;if("string"==typeof t){var r=t.split("\n");n=[];for(var i=0,o=0,a=0;a<=r.length;a++){var c=r[a];if(u.regex.test(c)){var l=new u(r[a],i++);o+=l.sizeInBytes,n.push(l)}}if(o>32768)for(var p=0,d=n.length-1,h=0,m=p,g=d;p<d;){if((h+=n[p].sizeInBytes+n[d].sizeInBytes)>32768){var y=g-m+1;n.splice(m,y);break}m=p,g=d,p++,d--}}return n},EnvelopeFactory}(),u=function(){function _StackFrame(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=o.trim(t);var r=t.match(_StackFrame.regex);r&&r.length>=5&&(this.method=o.trim(r[2])||this.method,this.fileName=o.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=_StackFrame.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return _StackFrame.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,_StackFrame.baseSize=58,_StackFrame}();t.exports=c},function(t,n,r){var i=r(80),o=process.cwd,a=null,c=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return a||(a=o.call(process)),a};try{process.cwd()}catch(t){}var u=process.chdir;process.chdir=function(t){a=null,u.call(process,t)},t.exports=function patch(t){i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function patchLchmod(t){t.lchmod=function(n,r,o){t.open(n,i.O_WRONLY|i.O_SYMLINK,r,(function(n,i){n?o&&o(n):t.fchmod(i,r,(function(n){t.close(i,(function(t){o&&o(n||t)}))}))}))},t.lchmodSync=function(n,r){var o,a=t.openSync(n,i.O_WRONLY|i.O_SYMLINK,r),c=!0;try{o=t.fchmodSync(a,r),c=!1}finally{if(c)try{t.closeSync(a)}catch(t){}else t.closeSync(a)}return o}}(t);t.lutimes||function patchLutimes(t){i.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(n,r,o,a){t.open(n,i.O_SYMLINK,(function(n,i){n?a&&a(n):t.futimes(i,r,o,(function(n){t.close(i,(function(t){a&&a(n||t)}))}))}))},t.lutimesSync=function(n,r,o){var a,c=t.openSync(n,i.O_SYMLINK),u=!0;try{a=t.futimesSync(c,r,o),u=!1}finally{if(u)try{t.closeSync(c)}catch(t){}else t.closeSync(c)}return a}):(t.lutimes=function(t,n,r,i){i&&process.nextTick(i)},t.lutimesSync=function(){})}(t);t.chown=chownFix(t.chown),t.fchown=chownFix(t.fchown),t.lchown=chownFix(t.lchown),t.chmod=chmodFix(t.chmod),t.fchmod=chmodFix(t.fchmod),t.lchmod=chmodFix(t.lchmod),t.chownSync=chownFixSync(t.chownSync),t.fchownSync=chownFixSync(t.fchownSync),t.lchownSync=chownFixSync(t.lchownSync),t.chmodSync=chmodFixSync(t.chmodSync),t.fchmodSync=chmodFixSync(t.fchmodSync),t.lchmodSync=chmodFixSync(t.lchmodSync),t.stat=statFix(t.stat),t.fstat=statFix(t.fstat),t.lstat=statFix(t.lstat),t.statSync=statFixSync(t.statSync),t.fstatSync=statFixSync(t.fstatSync),t.lstatSync=statFixSync(t.lstatSync),t.lchmod||(t.lchmod=function(t,n,r){r&&process.nextTick(r)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,n,r,i){i&&process.nextTick(i)},t.lchownSync=function(){});"win32"===c&&(t.rename=(n=t.rename,function(r,i,o){var a=Date.now(),c=0;n(r,i,(function CB(u){if(u&&("EACCES"===u.code||"EPERM"===u.code)&&Date.now()-a<6e4)return setTimeout((function(){t.stat(i,(function(t,a){t&&"ENOENT"===t.code?n(r,i,CB):o(u)}))}),c),void(c<100&&(c+=10));o&&o(u)}))}));var n;function chmodFix(n){return n?function(r,i,o){return n.call(t,r,i,(function(t){chownErOk(t)&&(t=null),o&&o.apply(this,arguments)}))}:n}function chmodFixSync(n){return n?function(r,i){try{return n.call(t,r,i)}catch(t){if(!chownErOk(t))throw t}}:n}function chownFix(n){return n?function(r,i,o,a){return n.call(t,r,i,o,(function(t){chownErOk(t)&&(t=null),a&&a.apply(this,arguments)}))}:n}function chownFixSync(n){return n?function(r,i,o){try{return n.call(t,r,i,o)}catch(t){if(!chownErOk(t))throw t}}:n}function statFix(n){return n?function(r,i,o){function callback(t,n){n&&(n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof i&&(o=i,i=null),i?n.call(t,r,i,callback):n.call(t,r,callback)}:n}function statFixSync(n){return n?function(r,i){var o=i?n.call(t,r,i):n.call(t,r);return o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296),o}:n}function chownErOk(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=function(n){function read(r,i,o,a,c,u){var l;if(u&&"function"==typeof u){var p=0;l=function(d,h,m){if(d&&"EAGAIN"===d.code&&p<10)return p++,n.call(t,r,i,o,a,c,l);u.apply(this,arguments)}}return n.call(t,r,i,o,a,c,l)}return read.__proto__=n,read}(t.read),t.readSync=(r=t.readSync,function(n,i,o,a,c){for(var u=0;;)try{return r.call(t,n,i,o,a,c)}catch(t){if("EAGAIN"===t.code&&u<10){u++;continue}throw t}});var r}},function(t,n,r){var i=r(45).Stream;t.exports=function legacy(t){return{ReadStream:function ReadStream(n,r){if(!(this instanceof ReadStream))return new ReadStream(n,r);i.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var a=Object.keys(r),c=0,u=a.length;c<u;c++){var l=a[c];this[l]=r[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));t.open(this.path,this.flags,this.mode,(function(t,n){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=n,o.emit("open",n),o._read()}))},WriteStream:function WriteStream(n,r){if(!(this instanceof WriteStream))return new WriteStream(n,r);i.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var o=Object.keys(r),a=0,c=o.length;a<c;a++){var u=o[a];this[u]=r[u]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,n,r){"use strict";t.exports=function clone(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var n={__proto__:t.__proto__};else n=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})),n}},function(t,n,r){var i;t.exports=(i=function e(t,n,r){function s(a,c){if(!n[a]){if(!t[a]){if(!c&&"function"==typeof i&&i)return i(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(n){var r=t[a][1][n];return s(r||n)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof i&&i,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(r,"__esModule",{value:!0});var a=function(t){function BSTree(){return null!==t&&t.apply(this,arguments)||this}return o(BSTree,t),BSTree}(t("./BSTreeKV").default);r.default=a},{"./BSTreeKV":2}],2:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util"),o=t("./Queue"),a=function(){function BSTreeKV(t){this.root=null,this.compare=t||i.defaultCompare,this.nElements=0}return BSTreeKV.prototype.add=function(t){return!i.isUndefined(t)&&null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0)},BSTreeKV.prototype.clear=function(){this.root=null,this.nElements=0},BSTreeKV.prototype.isEmpty=function(){return 0===this.nElements},BSTreeKV.prototype.size=function(){return this.nElements},BSTreeKV.prototype.contains=function(t){return!i.isUndefined(t)&&null!==this.searchNode(this.root,t)},BSTreeKV.prototype.search=function(t){var n=this.searchNode(this.root,t);if(null!==n)return n.element},BSTreeKV.prototype.remove=function(t){var n=this.searchNode(this.root,t);return null!==n&&(this.removeNode(n),this.nElements--,!0)},BSTreeKV.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},BSTreeKV.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},BSTreeKV.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},BSTreeKV.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},BSTreeKV.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},BSTreeKV.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},BSTreeKV.prototype.forEach=function(t){this.inorderTraversal(t)},BSTreeKV.prototype.toArray=function(){var t=[];return this.inorderTraversal((function(n){return t.push(n),!0})),t},BSTreeKV.prototype.height=function(){return this.heightAux(this.root)},BSTreeKV.prototype.searchNode=function(t,n){for(var r=1;null!==t&&0!==r;)(r=this.compare(n,t.element))<0?t=t.leftCh:r>0&&(t=t.rightCh);return t},BSTreeKV.prototype.transplant=function(t,n){null===t.parent?this.root=n:t===t.parent.leftCh?t.parent.leftCh=n:t.parent.rightCh=n,null!==n&&(n.parent=t.parent)},BSTreeKV.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var n=this.minimumAux(t.rightCh);n.parent!==t&&(this.transplant(n,n.rightCh),n.rightCh=t.rightCh,n.rightCh.parent=n),this.transplant(t,n),n.leftCh=t.leftCh,n.leftCh.parent=n}},BSTreeKV.prototype.inorderTraversalAux=function(t,n,r){null===t||r.stop||(this.inorderTraversalAux(t.leftCh,n,r),r.stop||(r.stop=!1===n(t.element),r.stop||this.inorderTraversalAux(t.rightCh,n,r)))},BSTreeKV.prototype.levelTraversalAux=function(t,n){var r=new o.default;for(null!==t&&r.enqueue(t),t=r.dequeue()||null;null!=t;){if(!1===n(t.element))return;null!==t.leftCh&&r.enqueue(t.leftCh),null!==t.rightCh&&r.enqueue(t.rightCh),t=r.dequeue()||null}},BSTreeKV.prototype.preorderTraversalAux=function(t,n,r){null===t||r.stop||(r.stop=!1===n(t.element),r.stop||(this.preorderTraversalAux(t.leftCh,n,r),r.stop||this.preorderTraversalAux(t.rightCh,n,r)))},BSTreeKV.prototype.postorderTraversalAux=function(t,n,r){null===t||r.stop||(this.postorderTraversalAux(t.leftCh,n,r),r.stop||(this.postorderTraversalAux(t.rightCh,n,r),r.stop||(r.stop=!1===n(t.element))))},BSTreeKV.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},BSTreeKV.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},BSTreeKV.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},BSTreeKV.prototype.insertNode=function(t){for(var n=null,r=this.root;null!==r;){var i=this.compare(t.element,r.element);if(0===i)return null;i<0?(n=r,r=r.leftCh):(n=r,r=r.rightCh)}return t.parent=n,null===n?this.root=t:this.compare(t.element,n.element)<0?n.leftCh=t:n.rightCh=t,t},BSTreeKV.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},BSTreeKV}();r.default=a},{"./Queue":12,"./util":16}],3:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util"),o=t("./Dictionary"),a=t("./Set"),c=function(){function Bag(t){this.toStrF=t||i.defaultToString,this.dictionary=new o.default(this.toStrF),this.nElements=0}return Bag.prototype.add=function(t,n){if(void 0===n&&(n=1),i.isUndefined(t)||n<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=n;else{var r={value:t,copies:n};this.dictionary.setValue(t,r)}return this.nElements+=n,!0},Bag.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},Bag.prototype.contains=function(t){return this.dictionary.containsKey(t)},Bag.prototype.remove=function(t,n){if(void 0===n&&(n=1),i.isUndefined(t)||n<=0)return!1;if(this.contains(t)){var r=this.dictionary.getValue(t);return n>r.copies?this.nElements-=r.copies:this.nElements-=n,r.copies-=n,r.copies<=0&&this.dictionary.remove(t),!0}return!1},Bag.prototype.toArray=function(){for(var t=[],n=0,r=this.dictionary.values();n<r.length;n++)for(var i=r[n],o=i.value,a=i.copies,c=0;c<a;c++)t.push(o);return t},Bag.prototype.toSet=function(){for(var t=new a.default(this.toStrF),n=0,r=this.dictionary.values();n<r.length;n++){var i=r[n].value;t.add(i)}return t},Bag.prototype.forEach=function(t){this.dictionary.forEach((function(n,r){for(var i=r.value,o=r.copies,a=0;a<o;a++)if(!1===t(i))return!1;return!0}))},Bag.prototype.size=function(){return this.nElements},Bag.prototype.isEmpty=function(){return 0===this.nElements},Bag.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},Bag}();r.default=c},{"./Dictionary":4,"./Set":13,"./util":16}],4:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util"),o=function(){function Dictionary(t){this.table={},this.nElements=0,this.toStr=t||i.defaultToString}return Dictionary.prototype.getValue=function(t){var n=this.table["$"+this.toStr(t)];if(!i.isUndefined(n))return n.value},Dictionary.prototype.setValue=function(t,n){if(!i.isUndefined(t)&&!i.isUndefined(n)){var r,o="$"+this.toStr(t),a=this.table[o];return i.isUndefined(a)?(this.nElements++,r=void 0):r=a.value,this.table[o]={key:t,value:n},r}},Dictionary.prototype.remove=function(t){var n="$"+this.toStr(t),r=this.table[n];if(!i.isUndefined(r))return delete this.table[n],this.nElements--,r.value},Dictionary.prototype.keys=function(){var t=[];for(var n in this.table)if(i.has(this.table,n)){var r=this.table[n];t.push(r.key)}return t},Dictionary.prototype.values=function(){var t=[];for(var n in this.table)if(i.has(this.table,n)){var r=this.table[n];t.push(r.value)}return t},Dictionary.prototype.forEach=function(t){for(var n in this.table)if(i.has(this.table,n)){var r=this.table[n];if(!1===t(r.key,r.value))return}},Dictionary.prototype.containsKey=function(t){return!i.isUndefined(this.getValue(t))},Dictionary.prototype.clear=function(){this.table={},this.nElements=0},Dictionary.prototype.size=function(){return this.nElements},Dictionary.prototype.isEmpty=function(){return this.nElements<=0},Dictionary.prototype.toString=function(){var t="{";return this.forEach((function(n,r){t+="\n\t"+n+" : "+r})),t+"\n}"},Dictionary}();r.default=o},{"./util":16}],5:[function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(r,"__esModule",{value:!0});var a=t("./Dictionary"),c=t("./util"),u=function(t){function FactoryDictionary(n,r){var i=t.call(this,r)||this;return i.defaultFactoryFunction=n,i}return o(FactoryDictionary,t),FactoryDictionary.prototype.setDefault=function(n,r){var i=t.prototype.getValue.call(this,n);return c.isUndefined(i)?(this.setValue(n,r),r):i},FactoryDictionary.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},FactoryDictionary}(a.default);r.default=u},{"./Dictionary":4,"./util":16}],6:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util"),o=t("./arrays"),a=function(){function Heap(t){this.data=[],this.compare=t||i.defaultCompare}return Heap.prototype.leftChildIndex=function(t){return 2*t+1},Heap.prototype.rightChildIndex=function(t){return 2*t+2},Heap.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},Heap.prototype.minIndex=function(t,n){return n>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[n])<=0?t:n},Heap.prototype.siftUp=function(t){for(var n=this.parentIndex(t);t>0&&this.compare(this.data[n],this.data[t])>0;)o.swap(this.data,n,t),t=n,n=this.parentIndex(t)},Heap.prototype.siftDown=function(t){for(var n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));n>=0&&this.compare(this.data[t],this.data[n])>0;)o.swap(this.data,n,t),t=n,n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},Heap.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},Heap.prototype.add=function(t){return!i.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},Heap.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},Heap.prototype.contains=function(t){var n=i.compareToEquals(this.compare);return o.contains(this.data,t,n)},Heap.prototype.size=function(){return this.data.length},Heap.prototype.isEmpty=function(){return this.data.length<=0},Heap.prototype.clear=function(){this.data.length=0},Heap.prototype.forEach=function(t){o.forEach(this.data,t)},Heap}();r.default=a},{"./arrays":15,"./util":16}],7:[function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(r,"__esModule",{value:!0});var a=t("./Dictionary"),c=t("./util"),u=function(){function LinkedDictionaryPair(t,n){this.key=t,this.value=n}return LinkedDictionaryPair.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},LinkedDictionaryPair}(),l=function(){function HeadOrTailLinkedDictionaryPair(){this.key=null,this.value=null}return HeadOrTailLinkedDictionaryPair.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},HeadOrTailLinkedDictionaryPair}(),p=function(t){function LinkedDictionary(n){var r=t.call(this,n)||this;return r.head=new l,r.tail=new l,r.head.next=r.tail,r.tail.prev=r.head,r}return o(LinkedDictionary,t),LinkedDictionary.prototype.appendToTail=function(t){var n=this.tail.prev;n.next=t,t.prev=n,t.next=this.tail,this.tail.prev=t},LinkedDictionary.prototype.getLinkedDictionaryPair=function(t){if(!c.isUndefined(t)){var n="$"+this.toStr(t);return this.table[n]}},LinkedDictionary.prototype.getValue=function(t){var n=this.getLinkedDictionaryPair(t);if(!c.isUndefined(n))return n.value},LinkedDictionary.prototype.remove=function(n){var r=this.getLinkedDictionaryPair(n);if(!c.isUndefined(r))return t.prototype.remove.call(this,n),r.unlink(),r.value},LinkedDictionary.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},LinkedDictionary.prototype.replace=function(t,n){var r="$"+this.toStr(n.key);n.next=t.next,n.prev=t.prev,this.remove(t.key),n.prev.next=n,n.next.prev=n,this.table[r]=n,++this.nElements},LinkedDictionary.prototype.setValue=function(t,n){if(!c.isUndefined(t)&&!c.isUndefined(n)){var r=this.getLinkedDictionaryPair(t),i=new u(t,n),o="$"+this.toStr(t);return c.isUndefined(r)?(this.appendToTail(i),this.table[o]=i,void++this.nElements):(this.replace(r,i),r.value)}},LinkedDictionary.prototype.keys=function(){var t=[];return this.forEach((function(n,r){t.push(n)})),t},LinkedDictionary.prototype.values=function(){var t=[];return this.forEach((function(n,r){t.push(r)})),t},LinkedDictionary.prototype.forEach=function(t){for(var n=this.head.next;n.next;){if(!1===t(n.key,n.value))return;n=n.next}},LinkedDictionary}(a.default);r.default=p},{"./Dictionary":4,"./util":16}],8:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util"),o=t("./arrays"),a=function(){function LinkedList(){this.firstNode=null,this.lastNode=null,this.nElements=0}return LinkedList.prototype.add=function(t,n){if(i.isUndefined(n)&&(n=this.nElements),n<0||n>this.nElements||i.isUndefined(t))return!1;var r=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=r,this.lastNode=r;else if(n===this.nElements)this.lastNode.next=r,this.lastNode=r;else if(0===n)r.next=this.firstNode,this.firstNode=r;else{var o=this.nodeAtIndex(n-1);if(null===o)return!1;r.next=o.next,o.next=r}return this.nElements++,!0},LinkedList.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},LinkedList.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},LinkedList.prototype.elementAtIndex=function(t){var n=this.nodeAtIndex(t);if(null!==n)return n.element},LinkedList.prototype.indexOf=function(t,n){var r=n||i.defaultEquals;if(i.isUndefined(t))return-1;for(var o=this.firstNode,a=0;null!==o;){if(r(o.element,t))return a;a++,o=o.next}return-1},LinkedList.prototype.contains=function(t,n){return this.indexOf(t,n)>=0},LinkedList.prototype.remove=function(t,n){var r=n||i.defaultEquals;if(this.nElements<1||i.isUndefined(t))return!1;for(var o=null,a=this.firstNode;null!==a;){if(r(a.element,t))return null===o?(this.firstNode=a.next,a===this.lastNode&&(this.lastNode=null)):a===this.lastNode?(this.lastNode=o,o.next=a.next,a.next=null):(o.next=a.next,a.next=null),this.nElements--,!0;o=a,a=a.next}return!1},LinkedList.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},LinkedList.prototype.equals=function(t,n){var r=n||i.defaultEquals;return t instanceof LinkedList&&this.size()===t.size()&&this.equalsAux(this.firstNode,t.firstNode,r)},LinkedList.prototype.equalsAux=function(t,n,r){for(;null!==t&&null!==n;){if(!r(t.element,n.element))return!1;t=t.next,n=n.next}return!0},LinkedList.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var n;if(1===this.nElements)n=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var r=this.nodeAtIndex(t-1);null===r?(n=this.firstNode.element,this.firstNode=this.firstNode.next):r.next===this.lastNode&&(n=this.lastNode.element,this.lastNode=r),null!==r&&null!==r.next&&(n=r.next.element,r.next=r.next.next)}return this.nElements--,n}},LinkedList.prototype.forEach=function(t){for(var n=this.firstNode;null!==n&&!1!==t(n.element);)n=n.next},LinkedList.prototype.reverse=function(){for(var t=null,n=this.firstNode,r=null;null!==n;)r=n.next,n.next=t,t=n,n=r;r=this.firstNode,this.firstNode=this.lastNode,this.lastNode=r},LinkedList.prototype.toArray=function(){for(var t=[],n=this.firstNode;null!==n;)t.push(n.element),n=n.next;return t},LinkedList.prototype.size=function(){return this.nElements},LinkedList.prototype.isEmpty=function(){return this.nElements<=0},LinkedList.prototype.toString=function(){return o.toString(this.toArray())},LinkedList.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var n=this.firstNode,r=0;r<t&&null!==n;r++)n=n.next;return n},LinkedList.prototype.createNode=function(t){return{element:t,next:null}},LinkedList}();r.default=a},{"./arrays":15,"./util":16}],9:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util"),o=t("./Dictionary"),a=t("./arrays"),c=function(){function MultiDictionary(t,n,r){void 0===r&&(r=!1),this.dict=new o.default(t),this.equalsF=n||i.defaultEquals,this.allowDuplicate=r}return MultiDictionary.prototype.getValue=function(t){var n=this.dict.getValue(t);return i.isUndefined(n)?[]:a.copy(n)},MultiDictionary.prototype.setValue=function(t,n){if(i.isUndefined(t)||i.isUndefined(n))return!1;var r=this.dict.getValue(t);return i.isUndefined(r)?(this.dict.setValue(t,[n]),!0):!(!this.allowDuplicate&&a.contains(r,n,this.equalsF)||(r.push(n),0))},MultiDictionary.prototype.remove=function(t,n){if(i.isUndefined(n)){var r=this.dict.remove(t);return!i.isUndefined(r)}var o=this.dict.getValue(t);return!(i.isUndefined(o)||!a.remove(o,n,this.equalsF)||(0===o.length&&this.dict.remove(t),0))},MultiDictionary.prototype.keys=function(){return this.dict.keys()},MultiDictionary.prototype.values=function(){for(var t=[],n=0,r=this.dict.values();n<r.length;n++)for(var i=0,o=r[n];i<o.length;i++){var a=o[i];t.push(a)}return t},MultiDictionary.prototype.containsKey=function(t){return this.dict.containsKey(t)},MultiDictionary.prototype.clear=function(){this.dict.clear()},MultiDictionary.prototype.size=function(){return this.dict.size()},MultiDictionary.prototype.isEmpty=function(){return this.dict.isEmpty()},MultiDictionary}();r.default=c},{"./Dictionary":4,"./arrays":15,"./util":16}],10:[function(t,n,r){"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(i||(i={}));var o=function(){function MultiRootTree(t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this.rootIds=t,this.nodes=n,this.initRootIds(),this.initNodes()}return MultiRootTree.prototype.initRootIds=function(){for(var t=0,n=this.rootIds;t<n.length;t++){var r=n[t];this.createEmptyNodeIfNotExist(r)}},MultiRootTree.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var n=0,r=this.nodes[t];n<r.length;n++){var i=r[n];this.createEmptyNodeIfNotExist(i)}},MultiRootTree.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},MultiRootTree.prototype.getRootIds=function(){return this.rootIds.slice()},MultiRootTree.prototype.getNodes=function(){var t={};for(var n in this.nodes)this.nodes.hasOwnProperty(n)&&(t[n]=this.nodes[n].slice());return t},MultiRootTree.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},MultiRootTree.prototype.toObject=function(){return this.getObject()},MultiRootTree.prototype.flatten=function(){for(var t=this,n=[],r=0;r<this.rootIds.length;r++){var i=this.rootIds[r];n.push({id:i,level:0,hasParent:!1,childrenCount:0}),traverse(i,this.nodes,n,0)}for(var o=0,a=n;o<a.length;o++){var c=a[o];c.childrenCount=(u=c.id,t.nodes[u]?t.nodes[u].length:0)}var u;return n;function traverse(t,n,r,i){if(void 0===i&&(i=0),t&&n&&r&&n[t]){i++;for(var o=n[t],a=0;a<o.length;a++){var c=o[a];r.push({id:c,level:i,hasParent:!0}),traverse(c,n,r,i)}i--}}},MultiRootTree.prototype.moveIdBeforeId=function(t,n){return this.moveId(t,n,i.BEFORE)},MultiRootTree.prototype.moveIdAfterId=function(t,n){return this.moveId(t,n,i.AFTER)},MultiRootTree.prototype.moveIdIntoId=function(t,n,r){return void 0===r&&(r=!0),r?this.moveId(t,n,i.INSIDE_AT_START):this.moveId(t,n,i.INSIDE_AT_END)},MultiRootTree.prototype.swapRootIdWithRootId=function(t,n){var r=this.findRootId(t),i=this.findRootId(n);this.swapRootPositionWithRootPosition(r,i)},MultiRootTree.prototype.swapRootPositionWithRootPosition=function(t,n){var r=this.rootIds[n];this.rootIds[n]=this.rootIds[t],this.rootIds[t]=r},MultiRootTree.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},MultiRootTree.prototype.insertIdBeforeId=function(t,n){var r=this.findRootId(t);for(var i in r>-1&&this.insertIdIntoRoot(n,r),this.nodes)if(this.nodes.hasOwnProperty(i)){var o=this.findNodeId(i,t);o>-1&&this.insertIdIntoNode(i,n,o)}},MultiRootTree.prototype.insertIdAfterId=function(t,n){var r=this.findRootId(t);for(var i in r>-1&&this.insertIdIntoRoot(n,r+1),this.nodes)if(this.nodes.hasOwnProperty(i)){var o=this.findNodeId(i,t);o>-1&&this.insertIdIntoNode(i,n,o+1)}},MultiRootTree.prototype.insertIdIntoId=function(t,n){this.nodeInsertAtEnd(t,n),this.nodes[n]=[]},MultiRootTree.prototype.insertIdIntoRoot=function(t,n){if(void 0===n)this.rootInsertAtEnd(t);else if(n<0){var r=this.rootIds.length;this.rootIds.splice(n+r+1,0,t)}else this.rootIds.splice(n,0,t);this.nodes[t]=this.nodes[t]||[]},MultiRootTree.prototype.insertIdIntoNode=function(t,n,r){if(this.nodes[t]=this.nodes[t]||[],this.nodes[n]=this.nodes[n]||[],void 0===r)this.nodeInsertAtEnd(t,n);else if(r<0){var i=this.nodes[t].length;this.nodes[t].splice(r+i+1,0,n)}else this.nodes[t].splice(r,0,n)},MultiRootTree.prototype.moveId=function(t,n,r){var o=t,a=this.findRootId(o);for(var c in this.nodes[n],this.nodes)if(this.nodes.hasOwnProperty(c)){this.findNodeId(c,n);break}var u=n,l=this.findRootId(u);for(var c in this.nodes[n],this.nodes)if(this.nodes.hasOwnProperty(c)){this.findNodeId(c,n);break}if(a>-1){if(l>-1)switch(this.rootDelete(a),l>a&&l--,r){case i.BEFORE:this.insertIdIntoRoot(o,l);break;case i.AFTER:this.insertIdIntoRoot(o,l+1);break;case i.INSIDE_AT_START:this.nodeInsertAtStart(u,o);break;case i.INSIDE_AT_END:this.nodeInsertAtEnd(u,o)}else for(var c in this.rootDelete(a),this.nodes)if(this.nodes.hasOwnProperty(c)&&(p=this.findNodeId(c,u))>-1){switch(r){case i.BEFORE:this.insertIdIntoNode(c,o,p);break;case i.AFTER:this.insertIdIntoNode(c,o,p+1);break;case i.INSIDE_AT_START:this.nodeInsertAtStart(u,o);break;case i.INSIDE_AT_END:this.nodeInsertAtEnd(u,o)}break}}else if(l>-1){for(var c in this.nodes)if(this.nodes.hasOwnProperty(c)&&(p=this.findNodeId(c,o))>-1){this.nodeDeleteAtIndex(c,p);break}switch(r){case i.BEFORE:this.insertIdIntoRoot(o,l);break;case i.AFTER:this.insertIdIntoRoot(o,l+1);break;case i.INSIDE_AT_START:this.nodeInsertAtStart(u,o);break;case i.INSIDE_AT_END:this.nodeInsertAtEnd(u,o)}}else{for(var c in this.nodes)if(this.nodes.hasOwnProperty(c)&&(p=this.findNodeId(c,o))>-1){this.nodeDeleteAtIndex(c,p);break}for(var c in this.nodes){var p;if(this.nodes.hasOwnProperty(c)&&(p=this.findNodeId(c,u))>-1){switch(r){case i.BEFORE:this.insertIdIntoNode(c,o,p);break;case i.AFTER:this.insertIdIntoNode(c,o,p+1);break;case i.INSIDE_AT_START:this.nodeInsertAtStart(u,o);break;case i.INSIDE_AT_END:this.nodeInsertAtEnd(u,o)}break}}}},MultiRootTree.prototype.swapArrayElements=function(t,n,r){var i=t[n];return t[n]=t[r],t[r]=i,t},MultiRootTree.prototype.rootDeleteId=function(t){var n=this.findRootId(t);n>-1&&this.rootDelete(n)},MultiRootTree.prototype.nodeAndSubNodesDelete=function(t){for(var n=[],r=0;r<this.nodes[t].length;r++){var i=this.nodes[t][r];this.nodeAndSubNodesDelete(i),n.push(t)}for(this.nodeDelete(t),r=0;r<n.length;r++)this.nodeDelete(n[r])},MultiRootTree.prototype.nodeRefrencesDelete=function(t){for(var n in this.nodes)if(this.nodes.hasOwnProperty(n))for(var r=0;r<this.nodes[n].length;r++)this.nodes[n][r]===t&&this.nodeDeleteAtIndex(n,r)},MultiRootTree.prototype.nodeDelete=function(t){delete this.nodes[t]},MultiRootTree.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},MultiRootTree.prototype.findNodeId=function(t,n){return this.nodes[t].indexOf(n)},MultiRootTree.prototype.findNode=function(t){return this.nodes[t]},MultiRootTree.prototype.nodeInsertAtStart=function(t,n){this.nodes[t].unshift(n)},MultiRootTree.prototype.nodeInsertAtEnd=function(t,n){this.nodes[t].push(n)},MultiRootTree.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},MultiRootTree.prototype.nodeDeleteAtIndex=function(t,n){this.nodes[t].splice(n,1)},MultiRootTree.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},MultiRootTree.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},MultiRootTree}();r.default=o},{}],11:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util"),o=t("./Heap"),a=function(){function PriorityQueue(t){this.heap=new o.default(i.reverseCompareFunction(t))}return PriorityQueue.prototype.enqueue=function(t){return this.heap.add(t)},PriorityQueue.prototype.add=function(t){return this.heap.add(t)},PriorityQueue.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},PriorityQueue.prototype.peek=function(){return this.heap.peek()},PriorityQueue.prototype.contains=function(t){return this.heap.contains(t)},PriorityQueue.prototype.isEmpty=function(){return this.heap.isEmpty()},PriorityQueue.prototype.size=function(){return this.heap.size()},PriorityQueue.prototype.clear=function(){this.heap.clear()},PriorityQueue.prototype.forEach=function(t){this.heap.forEach(t)},PriorityQueue}();r.default=a},{"./Heap":6,"./util":16}],12:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./LinkedList"),o=function(){function Queue(){this.list=new i.default}return Queue.prototype.enqueue=function(t){return this.list.add(t)},Queue.prototype.add=function(t){return this.list.add(t)},Queue.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},Queue.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},Queue.prototype.size=function(){return this.list.size()},Queue.prototype.contains=function(t,n){return this.list.contains(t,n)},Queue.prototype.isEmpty=function(){return this.list.size()<=0},Queue.prototype.clear=function(){this.list.clear()},Queue.prototype.forEach=function(t){this.list.forEach(t)},Queue}();r.default=o},{"./LinkedList":8}],13:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util"),o=t("./arrays"),a=t("./Dictionary"),c=function(){function Set(t){this.dictionary=new a.default(t)}return Set.prototype.contains=function(t){return this.dictionary.containsKey(t)},Set.prototype.add=function(t){return!this.contains(t)&&!i.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},Set.prototype.intersection=function(t){var n=this;this.forEach((function(r){return t.contains(r)||n.remove(r),!0}))},Set.prototype.union=function(t){var n=this;t.forEach((function(t){return n.add(t),!0}))},Set.prototype.difference=function(t){var n=this;t.forEach((function(t){return n.remove(t),!0}))},Set.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var n=!0;return this.forEach((function(r){return!!t.contains(r)||(n=!1,!1)})),n},Set.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},Set.prototype.forEach=function(t){this.dictionary.forEach((function(n,r){return t(r)}))},Set.prototype.toArray=function(){return this.dictionary.values()},Set.prototype.isEmpty=function(){return this.dictionary.isEmpty()},Set.prototype.size=function(){return this.dictionary.size()},Set.prototype.clear=function(){this.dictionary.clear()},Set.prototype.toString=function(){return o.toString(this.toArray())},Set}();r.default=c},{"./Dictionary":4,"./arrays":15,"./util":16}],14:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./LinkedList"),o=function(){function Stack(){this.list=new i.default}return Stack.prototype.push=function(t){return this.list.add(t,0)},Stack.prototype.add=function(t){return this.list.add(t,0)},Stack.prototype.pop=function(){return this.list.removeElementAtIndex(0)},Stack.prototype.peek=function(){return this.list.first()},Stack.prototype.size=function(){return this.list.size()},Stack.prototype.contains=function(t,n){return this.list.contains(t,n)},Stack.prototype.isEmpty=function(){return this.list.isEmpty()},Stack.prototype.clear=function(){this.list.clear()},Stack.prototype.forEach=function(t){this.list.forEach(t)},Stack}();r.default=o},{"./LinkedList":8}],15:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util");function indexOf(t,n,r){for(var o=r||i.defaultEquals,a=t.length,c=0;c<a;c++)if(o(t[c],n))return c;return-1}r.indexOf=indexOf,r.lastIndexOf=function lastIndexOf(t,n,r){for(var o=r||i.defaultEquals,a=t.length-1;a>=0;a--)if(o(t[a],n))return a;return-1},r.contains=function contains(t,n,r){return indexOf(t,n,r)>=0},r.remove=function remove(t,n,r){var i=indexOf(t,n,r);return!(i<0||(t.splice(i,1),0))},r.frequency=function frequency(t,n,r){for(var o=r||i.defaultEquals,a=t.length,c=0,u=0;u<a;u++)o(t[u],n)&&c++;return c},r.equals=function equals(t,n,r){var o=r||i.defaultEquals;if(t.length!==n.length)return!1;for(var a=t.length,c=0;c<a;c++)if(!o(t[c],n[c]))return!1;return!0},r.copy=function copy(t){return t.concat()},r.swap=function swap(t,n,r){if(n<0||n>=t.length||r<0||r>=t.length)return!1;var i=t[n];return t[n]=t[r],t[r]=i,!0},r.toString=function toString(t){return"["+t.toString()+"]"},r.forEach=function forEach(t,n){for(var r=0,i=t;r<i.length;r++)if(!1===n(i[r]))return}},{"./util":16}],16:[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=Object.prototype.hasOwnProperty;function isFunction(t){return"function"==typeof t}function isUndefined(t){return void 0===t}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}r.has=function(t,n){return i.call(t,n)},r.defaultCompare=function defaultCompare(t,n){return t<n?-1:t===n?0:1},r.defaultEquals=function defaultEquals(t,n){return t===n},r.defaultToString=function defaultToString(t){return null===t?"COLLECTION_NULL":isUndefined(t)?"COLLECTION_UNDEFINED":isString(t)?"$s"+t:"$o"+t.toString()},r.makeString=function makeString(t,n){if(void 0===n&&(n=","),null===t)return"COLLECTION_NULL";if(isUndefined(t))return"COLLECTION_UNDEFINED";if(isString(t))return t.toString();var i="{",o=!0;for(var a in t)r.has(t,a)&&(o?o=!1:i+=n,i=i+a+":"+t[a]);return i+"}"},r.isFunction=isFunction,r.isUndefined=isUndefined,r.isString=isString,r.reverseCompareFunction=function reverseCompareFunction(t){return isUndefined(t)||!isFunction(t)?function(t,n){return t<n?1:t===n?0:-1}:function(n,r){return-1*t(n,r)}},r.compareToEquals=function compareToEquals(t){return function(n,r){return 0===t(n,r)}}},{}],"typescript-collections":[function(t,n,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./arrays");r.arrays=i;var o=t("./Bag");r.Bag=o.default;var a=t("./BSTree");r.BSTree=a.default;var c=t("./BSTreeKV");r.BSTreeKV=c.default;var u=t("./Dictionary");r.Dictionary=u.default;var l=t("./Heap");r.Heap=l.default;var p=t("./LinkedDictionary");r.LinkedDictionary=p.default;var d=t("./LinkedList");r.LinkedList=d.default;var h=t("./MultiDictionary");r.MultiDictionary=h.default;var m=t("./FactoryDictionary");r.FactoryDictionary=m.default;var g=t("./FactoryDictionary");r.DefaultDictionary=g.default;var y=t("./Queue");r.Queue=y.default;var v=t("./PriorityQueue");r.PriorityQueue=v.default;var x=t("./Set");r.Set=x.default;var C=t("./Stack");r.Stack=C.default;var b=t("./MultiRootTree");r.MultiRootTree=b.default;var w=t("./util");r.util=w},{"./BSTree":1,"./BSTreeKV":2,"./Bag":3,"./Dictionary":4,"./FactoryDictionary":5,"./Heap":6,"./LinkedDictionary":7,"./LinkedList":8,"./MultiDictionary":9,"./MultiRootTree":10,"./PriorityQueue":11,"./Queue":12,"./Set":13,"./Stack":14,"./arrays":15,"./util":16}]},{},[]))("typescript-collections")},function(t,n,r){"use strict";r(56).major>=4?t.exports=r(220):t.exports=r(233)},function(t,n,r){"use strict";var i=r(22),o=r(86),a=r(231),c=r(232),u=Array.prototype.slice;function doExec(t,n){var r,o=new a,l=o._cpReject,p=o._cpResolve,d=u.call(n,0);return d.push((function callback(t,o,a){if(t){var u=n[0]+(Array.isArray(n[1])?" "+n[1].join(" "):"");t.message+=" `"+u+"` (exited with error code "+t.code+")",t.stdout=o,t.stderr=a;var d=new c(t.message,t.code,i,o,a);l(d)}else p({childProcess:r,stdout:o,stderr:a})})),r=i[t].apply(i,d),o.childProcess=r,o}function doSpawn(t,n,r,i){var o,u={},l=new a,p=l._cpReject,d=l._cpResolve,h=i&&i.successfulExitCodes||[0];o=t(n,r,i);var m=!1,g=!1,y=i&&i.capture;if(y)for(var v=0,x=y.length;v<x;v++){var C=y[v];"stdout"===C?m=!0:"stderr"===C&&(g=!0)}return u.childProcess=o,m&&(u.stdout="",o.stdout.on("data",(function(t){u.stdout+=t}))),g&&(u.stderr="",o.stderr.on("data",(function(t){u.stderr+=t}))),o.on("error",p),o.on("close",(function(t){if(-1===h.indexOf(t)){var i=n+(r.length?" "+r.join(" "):""),a=new c("`"+i+"` failed with code "+t,t,o);g&&(a.stderr=u.stderr.toString()),m&&(a.stdout=u.stdout.toString()),p(a)}else u.code=t,d(u)})),l.childProcess=o,l}n.exec=function exec(){return doExec("exec",arguments)},n.execFile=function execFile(){return doExec("execFile",arguments)},n.spawn=function spawn(t,n,r){return doSpawn(o,t,n,r)},n.fork=function fork(t,n,r){return doSpawn(i.fork,t,n,r)}},function(t,n,r){"use strict";var i=r(3),o=r(87),a=r(88),c=r(229),u="win32"===process.platform,l=new o({max:50,maxAge:3e4});function escapeArg(t,n){return t=""+t,t=n?'"'+(t=(t=t.replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1"))+'"':t.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1")}function requiresShell(t){return!/\.(?:com|exe)$/i.test(t)}t.exports=function parse(t,n,r){var o,p,d,h,m;return n&&!Array.isArray(n)&&(r=n,n=null),n=n?n.slice(0):[],r=r||{},h=t,u&&(o=(d=(d=a(t))||a(t,!0))&&function readShebang(t){var n,r,o,a;if(l.has(t))return l.get(t);n=new Buffer(150);try{r=i.openSync(t,"r"),i.readSync(r,n,0,150,0),i.closeSync(r)}catch(t){}return(o=n.toString().trim().match(/#!(.+)/i))&&(a=o[1].replace(/\/usr\/bin\/env\s+/i,"")),l.set(t,a),a}(d),m=r.shell||c,o?(n.unshift(d),t=o,m=m||requiresShell(a(o)||a(o,!0))):m=m||requiresShell(d),m&&(p="echo"!==t,n=["/s","/c",'"'+(t=function escapeCommand(t){return/^[a-z0-9_-]+$/i.test(t)?t:escapeArg(t,!0)}(t))+((n=n.map((function(t){return escapeArg(t,p)}))).length?" "+n.join(" "):"")+'"'],t=process.env.comspec||"cmd.exe",r.windowsVerbatimArguments=!0)),{command:t,args:n,options:r,file:d,original:h}}},function(t,n,r){"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?t.exports=r(223):t.exports=Map},function(t,n){var r=Object.prototype.hasOwnProperty;function PseudoMap(t){if(!(this instanceof PseudoMap))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof PseudoMap||"function"==typeof Map&&t instanceof Map)t.forEach((function(t,n){this.set(n,t)}),this);else{if(!Array.isArray(t))throw new TypeError("invalid argument");t.forEach((function(t){this.set(t[0],t[1])}),this)}}function same(t,n){return t===n||t!=t&&n!=n}function Entry(t,n,r){this.key=t,this.value=n,this._index=r}function find(t,n){for(var i=0,o="_"+n,a=o;r.call(t,a);a=o+i++)if(same(t[a].key,n))return t[a]}t.exports=PseudoMap,PseudoMap.prototype.forEach=function(t,n){n=n||this,Object.keys(this._data).forEach((function(r){"size"!==r&&t.call(n,this._data[r].value,this._data[r].key)}),this)},PseudoMap.prototype.has=function(t){return!!find(this._data,t)},PseudoMap.prototype.get=function(t){var n=find(this._data,t);return n&&n.value},PseudoMap.prototype.set=function(t,n){!function set(t,n,i){for(var o=0,a="_"+n,c=a;r.call(t,c);c=a+o++)if(same(t[c].key,n))return void(t[c].value=i);t.size++,t[c]=new Entry(n,i,c)}(this._data,t,n)},PseudoMap.prototype.delete=function(t){var n=find(this._data,t);n&&(delete this._data[n._index],this._data.size--)},PseudoMap.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(PseudoMap.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0}),PseudoMap.prototype.values=PseudoMap.prototype.keys=PseudoMap.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(t,n){function Yallist(t){var n=this;if(n instanceof Yallist||(n=new Yallist),n.tail=null,n.head=null,n.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){n.push(t)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)n.push(arguments[r]);return n}function push(t,n){t.tail=new Node(n,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function unshift(t,n){t.head=new Node(n,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Node(t,n,r,i){if(!(this instanceof Node))return new Node(t,n,r,i);this.list=i,this.value=t,n?(n.next=this,this.prev=n):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var n=t.next,r=t.prev;n&&(n.prev=r),r&&(r.next=n),t===this.head&&(this.head=n),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null},Yallist.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var n=this.head;t.list=this,t.next=n,n&&(n.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},Yallist.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var n=this.tail;t.list=this,t.prev=n,n&&(n.next=t),this.tail=t,this.head||(this.head=t),this.length++}},Yallist.prototype.push=function(){for(var t=0,n=arguments.length;t<n;t++)push(this,arguments[t]);return this.length},Yallist.prototype.unshift=function(){for(var t=0,n=arguments.length;t<n;t++)unshift(this,arguments[t]);return this.length},Yallist.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},Yallist.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},Yallist.prototype.forEach=function(t,n){n=n||this;for(var r=this.head,i=0;null!==r;i++)t.call(n,r.value,i,this),r=r.next},Yallist.prototype.forEachReverse=function(t,n){n=n||this;for(var r=this.tail,i=this.length-1;null!==r;i--)t.call(n,r.value,i,this),r=r.prev},Yallist.prototype.get=function(t){for(var n=0,r=this.head;null!==r&&n<t;n++)r=r.next;if(n===t&&null!==r)return r.value},Yallist.prototype.getReverse=function(t){for(var n=0,r=this.tail;null!==r&&n<t;n++)r=r.prev;if(n===t&&null!==r)return r.value},Yallist.prototype.map=function(t,n){n=n||this;for(var r=new Yallist,i=this.head;null!==i;)r.push(t.call(n,i.value,this)),i=i.next;return r},Yallist.prototype.mapReverse=function(t,n){n=n||this;for(var r=new Yallist,i=this.tail;null!==i;)r.push(t.call(n,i.value,this)),i=i.prev;return r},Yallist.prototype.reduce=function(t,n){var r,i=this.head;if(arguments.length>1)r=n;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,r=this.head.value}for(var o=0;null!==i;o++)r=t(r,i.value,o),i=i.next;return r},Yallist.prototype.reduceReverse=function(t,n){var r,i=this.tail;if(arguments.length>1)r=n;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==i;o--)r=t(r,i.value,o),i=i.prev;return r},Yallist.prototype.toArray=function(){for(var t=new Array(this.length),n=0,r=this.head;null!==r;n++)t[n]=r.value,r=r.next;return t},Yallist.prototype.toArrayReverse=function(){for(var t=new Array(this.length),n=0,r=this.tail;null!==r;n++)t[n]=r.value,r=r.prev;return t},Yallist.prototype.slice=function(t,n){(n=n||this.length)<0&&(n+=this.length),(t=t||0)<0&&(t+=this.length);var r=new Yallist;if(n<t||n<0)return r;t<0&&(t=0),n>this.length&&(n=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<n;i++,o=o.next)r.push(o.value);return r},Yallist.prototype.sliceReverse=function(t,n){(n=n||this.length)<0&&(n+=this.length),(t=t||0)<0&&(t+=this.length);var r=new Yallist;if(n<t||n<0)return r;t<0&&(t=0),n>this.length&&(n=this.length);for(var i=this.length,o=this.tail;null!==o&&i>n;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},Yallist.prototype.reverse=function(){for(var t=this.head,n=this.tail,r=t;null!==r;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=n,this.tail=t,this}},function(t,n,r){t.exports=which,which.sync=function whichSync(t,n){for(var r=getPathInfo(t,n=n||{}),i=r.env,a=r.ext,u=r.extExe,l=[],p=0,d=i.length;p<d;p++){var h=i[p];'"'===h.charAt(0)&&'"'===h.slice(-1)&&(h=h.slice(1,-1));var m=o.join(h,t);!h&&/^\.[\\\/]/.test(t)&&(m=t.slice(0,2)+m);for(var g=0,y=a.length;g<y;g++){var v=m+a[g];try{if(c.sync(v,{pathExt:u})){if(!n.all)return v;l.push(v)}}catch(t){}}}if(n.all&&l.length)return l;if(n.nothrow)return null;throw getNotFoundError(t)};var i="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,o=r(2),a=i?";":":",c=r(226);function getNotFoundError(t){var n=new Error("not found: "+t);return n.code="ENOENT",n}function getPathInfo(t,n){var r=n.colon||a,o=n.path||process.env.PATH||"",c=[""];o=o.split(r);var u="";return i&&(o.unshift(process.cwd()),c=(u=n.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(r),-1!==t.indexOf(".")&&""!==c[0]&&c.unshift("")),(t.match(/\//)||i&&t.match(/\\/))&&(o=[""]),{env:o,ext:c,extExe:u}}function which(t,n,r){"function"==typeof n&&(r=n,n={});var i=getPathInfo(t,n),a=i.env,u=i.ext,l=i.extExe,p=[];!function F(i,d){if(i===d)return n.all&&p.length?r(null,p):r(getNotFoundError(t));var h=a[i];'"'===h.charAt(0)&&'"'===h.slice(-1)&&(h=h.slice(1,-1));var m=o.join(h,t);!h&&/^\.[\\\/]/.test(t)&&(m=t.slice(0,2)+m),function E(t,o){if(t===o)return F(i+1,d);var a=u[t];c(m+a,{pathExt:l},(function(i,c){if(!i&&c){if(!n.all)return r(null,m+a);p.push(m+a)}return E(t+1,o)}))}(0,u.length)}(0,a.length)}},function(t,n,r){var i;r(3);function isexe(t,n,r){if("function"==typeof n&&(r=n,n={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(r,i){isexe(t,n||{},(function(t,n){t?i(t):r(n)}))}))}i(t,n||{},(function(t,i){t&&("EACCES"===t.code||n&&n.ignoreErrors)&&(t=null,i=!1),r(t,i)}))}i="win32"===process.platform||global.TESTING_WINDOWS?r(227):r(228),t.exports=isexe,isexe.sync=function sync(t,n){try{return i.sync(t,n||{})}catch(t){if(n&&n.ignoreErrors||"EACCES"===t.code)return!1;throw t}}},function(t,n,r){t.exports=isexe,isexe.sync=function sync(t,n){return checkStat(i.statSync(t),t,n)};var i=r(3);function checkStat(t,n,r){return!(!t.isSymbolicLink()&&!t.isFile())&&function checkPathExt(t,n){var r=void 0!==n.pathExt?n.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var i=0;i<r.length;i++){var o=r[i].toLowerCase();if(o&&t.substr(-o.length).toLowerCase()===o)return!0}return!1}(n,r)}function isexe(t,n,r){i.stat(t,(function(i,o){r(i,!i&&checkStat(o,t,n))}))}},function(t,n,r){t.exports=isexe,isexe.sync=function sync(t,n){return checkStat(i.statSync(t),n)};var i=r(3);function isexe(t,n,r){i.stat(t,(function(t,i){r(t,!t&&checkStat(i,n))}))}function checkStat(t,n){return t.isFile()&&function checkMode(t,n){var r=t.mode,i=t.uid,o=t.gid,a=void 0!==n.uid?n.uid:process.getuid&&process.getuid(),c=void 0!==n.gid?n.gid:process.getgid&&process.getgid(),u=parseInt("100",8),l=parseInt("010",8),p=parseInt("001",8),d=u|l;return r&p||r&l&&o===c||r&u&&i===a||r&d&&0===a}(t,n)}},function(t,n,r){"use strict";t.exports=function(){if("win32"!==process.platform)return!1;var t=process.version.substr(1).split(".").map((function(t){return parseInt(t,10)}));return 0===t[0]&&t[1]<12}()},function(t,n,r){"use strict";var i="win32"===process.platform,o=r(88),a=0===process.version.indexOf("v0.10.");function notFoundError(t,n){var r;return(r=new Error(n+" "+t+" ENOENT")).code=r.errno="ENOENT",r.syscall=n+" "+t,r}function verifyENOENT(t,n){return i&&1===t&&!n.file?notFoundError(n.original,"spawn"):null}t.exports.hookChildProcess=function hookChildProcess(t,n){var r;i&&(r=t.emit,t.emit=function(i,o){var a;return"exit"===i&&(a=verifyENOENT(o,n))?r.call(t,"error",a):r.apply(t,arguments)})},t.exports.verifyENOENT=verifyENOENT,t.exports.verifyENOENTSync=function verifyENOENTSync(t,n){return i&&1===t&&!n.file||a&&-1===t&&(n.file=i?n.file:o(n.original),!n.file)?notFoundError(n.original,"spawnSync"):null},t.exports.notFoundError=notFoundError},function(t,n,r){"use strict";var i;i=r(56).major>=4?global.Promise:r(89);class ChildProcessPromise extends i{constructor(t){var n,r;super((i,o)=>{n=i,r=o,t&&t(n,r)}),this._cpResolve=n,this._cpReject=r,this.childProcess=void 0}progress(t){return process.nextTick(()=>{t(this.childProcess)}),this}then(t,n){var r=super.then(t,n);return r.childProcess=this.childProcess,r}catch(t){var n=super.catch(t);return n.childProcess=this.childProcess,n}done(){this.catch(t=>{process.nextTick(()=>{throw t})})}}ChildProcessPromise.prototype.fail=ChildProcessPromise.prototype.catch,t.exports=ChildProcessPromise},function(t,n,r){"use strict";class ChildProcessError extends Error{constructor(t,n,r,i,o){super(t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=n,this.childProcess=r,this.stdout=i,this.stderr=o}}t.exports=ChildProcessError},function(t,n,r){"use strict";var i=r(22),o=r(86),a=r(234),c=r(235),u=Array.prototype.slice;function doExec(t,n){var r,o=new a,l=o._cpReject,p=o._cpResolve,d=u.call(n,0);return d.push((function callback(t,o,a){if(t){var u=n[0]+(Array.isArray(n[1])?" "+n[1].join(" "):"");t.message+=" `"+u+"` (exited with error code "+t.code+")",t.stdout=o,t.stderr=a;var d=new c(t.message,t.code,i,o,a);l(d)}else p({childProcess:r,stdout:o,stderr:a})})),r=i[t].apply(i,d),o.childProcess=r,o}function doSpawn(t,n,r,i){var o,u={},l=new a,p=l._cpReject,d=l._cpResolve,h=i&&i.successfulExitCodes||[0];o=t(n,r,i);var m=!1,g=!1,y=i&&i.capture;if(y)for(var v=0,x=y.length;v<x;v++){var C=y[v];"stdout"===C?m=!0:"stderr"===C&&(g=!0)}return u.childProcess=o,m&&(u.stdout="",o.stdout.on("data",(function(t){u.stdout+=t}))),g&&(u.stderr="",o.stderr.on("data",(function(t){u.stderr+=t}))),o.on("error",p),o.on("close",(function(t){if(-1===h.indexOf(t)){var i=n+(r.length?" "+r.join(" "):""),a=new c("`"+i+"` failed with code "+t,t,o);g&&(a.stderr=u.stderr.toString()),m&&(a.stdout=u.stdout.toString()),p(a)}else u.code=t,d(u)})),l.childProcess=o,l}n.exec=function exec(){return doExec("exec",arguments)},n.execFile=function execFile(){return doExec("execFile",arguments)},n.spawn=function spawn(t,n,r){return doSpawn(o,t,n,r)},n.fork=function fork(t,n,r){return doSpawn(i.fork,t,n,r)}},function(t,n,r){"use strict";var i=function(){function defineProperties(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&defineProperties(t.prototype,n),r&&defineProperties(t,r),t}}(),o=function get(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:get(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var a=function(t){function ChildProcessPromise(t){var n,r;!function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,ChildProcessPromise);var i=function _possibleConstructorReturn(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(ChildProcessPromise.__proto__||Object.getPrototypeOf(ChildProcessPromise)).call(this,(function(i,o){n=i,r=o,t&&t(n,r)})));return i._cpResolve=n,i._cpReject=r,i.childProcess=void 0,i}return function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(ChildProcessPromise,t),i(ChildProcessPromise,[{key:"progress",value:function progress(t){var n=this;return process.nextTick((function(){t(n.childProcess)})),this}},{key:"then",value:function then(t,n){var r=o(ChildProcessPromise.prototype.__proto__||Object.getPrototypeOf(ChildProcessPromise.prototype),"then",this).call(this,t,n);return r.childProcess=this.childProcess,r}},{key:"catch",value:function _catch(t){var n=o(ChildProcessPromise.prototype.__proto__||Object.getPrototypeOf(ChildProcessPromise.prototype),"catch",this).call(this,t);return n.childProcess=this.childProcess,n}},{key:"done",value:function done(){this.catch((function(t){process.nextTick((function(){throw t}))}))}}]),ChildProcessPromise}(r(56).major>=4?global.Promise:r(89));a.prototype.fail=a.prototype.catch,t.exports=a},function(t,n,r){"use strict";var i=function(t){function ChildProcessError(t,n,r,i,o){!function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,ChildProcessError);var a=function _possibleConstructorReturn(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(ChildProcessError.__proto__||Object.getPrototypeOf(ChildProcessError)).call(this,t));return Error.captureStackTrace(a,a.constructor),a.name=a.constructor.name,a.code=n,a.childProcess=r,a.stdout=i,a.stderr=o,a}return function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(ChildProcessError,Error),ChildProcessError}();t.exports=i},function(t,n,r){"use strict";var i=r(237),o=r(257);function deprecated(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}t.exports.Type=r(6),t.exports.Schema=r(26),t.exports.FAILSAFE_SCHEMA=r(57),t.exports.JSON_SCHEMA=r(91),t.exports.CORE_SCHEMA=r(90),t.exports.DEFAULT_SAFE_SCHEMA=r(31),t.exports.DEFAULT_FULL_SCHEMA=r(37),t.exports.load=i.load,t.exports.loadAll=i.loadAll,t.exports.safeLoad=i.safeLoad,t.exports.safeLoadAll=i.safeLoadAll,t.exports.dump=o.dump,t.exports.safeDump=o.safeDump,t.exports.YAMLException=r(30),t.exports.MINIMAL_SCHEMA=r(57),t.exports.SAFE_SCHEMA=r(31),t.exports.DEFAULT_SCHEMA=r(37),t.exports.scan=deprecated("scan"),t.exports.parse=deprecated("parse"),t.exports.compose=deprecated("compose"),t.exports.addConstructor=deprecated("addConstructor")},function(t,n,r){"use strict";var i=r(25),o=r(30),a=r(238),c=r(31),u=r(37),l=Object.prototype.hasOwnProperty,p=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,d=/[\x85\u2028\u2029]/,h=/[,\[\]\{\}]/,m=/^(?:!|!!|![a-z\-]+!)$/i,g=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(t){return Object.prototype.toString.call(t)}function is_EOL(t){return 10===t||13===t}function is_WHITE_SPACE(t){return 9===t||32===t}function is_WS_OR_EOL(t){return 9===t||32===t||10===t||13===t}function is_FLOW_INDICATOR(t){return 44===t||91===t||93===t||123===t||125===t}function fromHexCode(t){var n;return 48<=t&&t<=57?t-48:97<=(n=32|t)&&n<=102?n-97+10:-1}function simpleEscapeSequence(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function charFromCodepoint(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var y=new Array(256),v=new Array(256),x=0;x<256;x++)y[x]=simpleEscapeSequence(x)?1:0,v[x]=simpleEscapeSequence(x);function State(t,n){this.input=t,this.filename=n.filename||null,this.schema=n.schema||u,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function generateError(t,n){return new o(n,new a(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function throwError(t,n){throw generateError(t,n)}function throwWarning(t,n){t.onWarning&&t.onWarning.call(null,generateError(t,n))}var C={YAML:function handleYamlDirective(t,n,r){var i,o,a;null!==t.version&&throwError(t,"duplication of %YAML directive"),1!==r.length&&throwError(t,"YAML directive accepts exactly one argument"),null===(i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&throwError(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),a=parseInt(i[2],10),1!==o&&throwError(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=a<2,1!==a&&2!==a&&throwWarning(t,"unsupported YAML version of the document")},TAG:function handleTagDirective(t,n,r){var i,o;2!==r.length&&throwError(t,"TAG directive accepts exactly two arguments"),i=r[0],o=r[1],m.test(i)||throwError(t,"ill-formed tag handle (first argument) of the TAG directive"),l.call(t.tagMap,i)&&throwError(t,'there is a previously declared suffix for "'+i+'" tag handle'),g.test(o)||throwError(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[i]=o}};function captureSegment(t,n,r,i){var o,a,c,u;if(n<r){if(u=t.input.slice(n,r),i)for(o=0,a=u.length;o<a;o+=1)9===(c=u.charCodeAt(o))||32<=c&&c<=1114111||throwError(t,"expected valid JSON character");else p.test(u)&&throwError(t,"the stream contains non-printable characters");t.result+=u}}function mergeMappings(t,n,r,o){var a,c,u,p;for(i.isObject(r)||throwError(t,"cannot merge mappings; the provided source object is unacceptable"),u=0,p=(a=Object.keys(r)).length;u<p;u+=1)c=a[u],l.call(n,c)||(n[c]=r[c],o[c]=!0)}function storeMappingPair(t,n,r,i,o,a,c,u){var p,d;if(Array.isArray(o))for(p=0,d=(o=Array.prototype.slice.call(o)).length;p<d;p+=1)Array.isArray(o[p])&&throwError(t,"nested arrays are not supported inside keys"),"object"==typeof o&&"[object Object]"===_class(o[p])&&(o[p]="[object Object]");if("object"==typeof o&&"[object Object]"===_class(o)&&(o="[object Object]"),o=String(o),null===n&&(n={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(a))for(p=0,d=a.length;p<d;p+=1)mergeMappings(t,n,a[p],r);else mergeMappings(t,n,a,r);else t.json||l.call(r,o)||!l.call(n,o)||(t.line=c||t.line,t.position=u||t.position,throwError(t,"duplicated mapping key")),n[o]=a,delete r[o];return n}function readLineBreak(t){var n;10===(n=t.input.charCodeAt(t.position))?t.position++:13===n?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):throwError(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function skipSeparationSpace(t,n,r){for(var i=0,o=t.input.charCodeAt(t.position);0!==o;){for(;is_WHITE_SPACE(o);)o=t.input.charCodeAt(++t.position);if(n&&35===o)do{o=t.input.charCodeAt(++t.position)}while(10!==o&&13!==o&&0!==o);if(!is_EOL(o))break;for(readLineBreak(t),o=t.input.charCodeAt(t.position),i++,t.lineIndent=0;32===o;)t.lineIndent++,o=t.input.charCodeAt(++t.position)}return-1!==r&&0!==i&&t.lineIndent<r&&throwWarning(t,"deficient indentation"),i}function testDocumentSeparator(t){var n,r=t.position;return!(45!==(n=t.input.charCodeAt(r))&&46!==n||n!==t.input.charCodeAt(r+1)||n!==t.input.charCodeAt(r+2)||(r+=3,0!==(n=t.input.charCodeAt(r))&&!is_WS_OR_EOL(n)))}function writeFoldedLines(t,n){1===n?t.result+=" ":n>1&&(t.result+=i.repeat("\n",n-1))}function readBlockSequence(t,n){var r,i,o=t.tag,a=t.anchor,c=[],u=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=c),i=t.input.charCodeAt(t.position);0!==i&&45===i&&is_WS_OR_EOL(t.input.charCodeAt(t.position+1));)if(u=!0,t.position++,skipSeparationSpace(t,!0,-1)&&t.lineIndent<=n)c.push(null),i=t.input.charCodeAt(t.position);else if(r=t.line,composeNode(t,n,3,!1,!0),c.push(t.result),skipSeparationSpace(t,!0,-1),i=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>n)&&0!==i)throwError(t,"bad indentation of a sequence entry");else if(t.lineIndent<n)break;return!!u&&(t.tag=o,t.anchor=a,t.kind="sequence",t.result=c,!0)}function readTagProperty(t){var n,r,i,o,a=!1,c=!1;if(33!==(o=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&throwError(t,"duplication of a tag property"),60===(o=t.input.charCodeAt(++t.position))?(a=!0,o=t.input.charCodeAt(++t.position)):33===o?(c=!0,r="!!",o=t.input.charCodeAt(++t.position)):r="!",n=t.position,a){do{o=t.input.charCodeAt(++t.position)}while(0!==o&&62!==o);t.position<t.length?(i=t.input.slice(n,t.position),o=t.input.charCodeAt(++t.position)):throwError(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==o&&!is_WS_OR_EOL(o);)33===o&&(c?throwError(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(n-1,t.position+1),m.test(r)||throwError(t,"named tag handle cannot contain such characters"),c=!0,n=t.position+1)),o=t.input.charCodeAt(++t.position);i=t.input.slice(n,t.position),h.test(i)&&throwError(t,"tag suffix cannot contain flow indicator characters")}return i&&!g.test(i)&&throwError(t,"tag name cannot contain such characters: "+i),a?t.tag=i:l.call(t.tagMap,r)?t.tag=t.tagMap[r]+i:"!"===r?t.tag="!"+i:"!!"===r?t.tag="tag:yaml.org,2002:"+i:throwError(t,'undeclared tag handle "'+r+'"'),!0}function readAnchorProperty(t){var n,r;if(38!==(r=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&throwError(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),n=t.position;0!==r&&!is_WS_OR_EOL(r)&&!is_FLOW_INDICATOR(r);)r=t.input.charCodeAt(++t.position);return t.position===n&&throwError(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(n,t.position),!0}function composeNode(t,n,r,o,a){var c,u,p,d,h,m,g,x,C=1,b=!1,w=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,c=u=p=4===r||3===r,o&&skipSeparationSpace(t,!0,-1)&&(b=!0,t.lineIndent>n?C=1:t.lineIndent===n?C=0:t.lineIndent<n&&(C=-1)),1===C)for(;readTagProperty(t)||readAnchorProperty(t);)skipSeparationSpace(t,!0,-1)?(b=!0,p=c,t.lineIndent>n?C=1:t.lineIndent===n?C=0:t.lineIndent<n&&(C=-1)):p=!1;if(p&&(p=b||a),1!==C&&4!==r||(g=1===r||2===r?n:n+1,x=t.position-t.lineStart,1===C?p&&(readBlockSequence(t,x)||function readBlockMapping(t,n,r){var i,o,a,c,u,l=t.tag,p=t.anchor,d={},h={},m=null,g=null,y=null,v=!1,x=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=d),u=t.input.charCodeAt(t.position);0!==u;){if(i=t.input.charCodeAt(t.position+1),a=t.line,c=t.position,63!==u&&58!==u||!is_WS_OR_EOL(i)){if(!composeNode(t,r,2,!1,!0))break;if(t.line===a){for(u=t.input.charCodeAt(t.position);is_WHITE_SPACE(u);)u=t.input.charCodeAt(++t.position);if(58===u)is_WS_OR_EOL(u=t.input.charCodeAt(++t.position))||throwError(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(storeMappingPair(t,d,h,m,g,null),m=g=y=null),x=!0,v=!1,o=!1,m=t.tag,g=t.result;else{if(!x)return t.tag=l,t.anchor=p,!0;throwError(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!x)return t.tag=l,t.anchor=p,!0;throwError(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(v&&(storeMappingPair(t,d,h,m,g,null),m=g=y=null),x=!0,v=!0,o=!0):v?(v=!1,o=!0):throwError(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,u=i;if((t.line===a||t.lineIndent>n)&&(composeNode(t,n,4,!0,o)&&(v?g=t.result:y=t.result),v||(storeMappingPair(t,d,h,m,g,y,a,c),m=g=y=null),skipSeparationSpace(t,!0,-1),u=t.input.charCodeAt(t.position)),t.lineIndent>n&&0!==u)throwError(t,"bad indentation of a mapping entry");else if(t.lineIndent<n)break}return v&&storeMappingPair(t,d,h,m,g,null),x&&(t.tag=l,t.anchor=p,t.kind="mapping",t.result=d),x}(t,x,g))||function readFlowCollection(t,n){var r,i,o,a,c,u,l,p,d,h,m=!0,g=t.tag,y=t.anchor,v={};if(91===(h=t.input.charCodeAt(t.position)))o=93,u=!1,i=[];else{if(123!==h)return!1;o=125,u=!0,i={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=i),h=t.input.charCodeAt(++t.position);0!==h;){if(skipSeparationSpace(t,!0,n),(h=t.input.charCodeAt(t.position))===o)return t.position++,t.tag=g,t.anchor=y,t.kind=u?"mapping":"sequence",t.result=i,!0;m||throwError(t,"missed comma between flow collection entries"),d=null,a=c=!1,63===h&&is_WS_OR_EOL(t.input.charCodeAt(t.position+1))&&(a=c=!0,t.position++,skipSeparationSpace(t,!0,n)),r=t.line,composeNode(t,n,1,!1,!0),p=t.tag,l=t.result,skipSeparationSpace(t,!0,n),h=t.input.charCodeAt(t.position),!c&&t.line!==r||58!==h||(a=!0,h=t.input.charCodeAt(++t.position),skipSeparationSpace(t,!0,n),composeNode(t,n,1,!1,!0),d=t.result),u?storeMappingPair(t,i,v,p,l,d):a?i.push(storeMappingPair(t,null,v,p,l,d)):i.push(l),skipSeparationSpace(t,!0,n),44===(h=t.input.charCodeAt(t.position))?(m=!0,h=t.input.charCodeAt(++t.position)):m=!1}throwError(t,"unexpected end of the stream within a flow collection")}(t,g)?w=!0:(u&&function readBlockScalar(t,n){var r,o,a,c,u,l=1,p=!1,d=!1,h=n,m=0,g=!1;if(124===(c=t.input.charCodeAt(t.position)))o=!1;else{if(62!==c)return!1;o=!0}for(t.kind="scalar",t.result="";0!==c;)if(43===(c=t.input.charCodeAt(++t.position))||45===c)1===l?l=43===c?3:2:throwError(t,"repeat of a chomping mode identifier");else{if(!((a=48<=(u=c)&&u<=57?u-48:-1)>=0))break;0===a?throwError(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?throwError(t,"repeat of an indentation width identifier"):(h=n+a-1,d=!0)}if(is_WHITE_SPACE(c)){do{c=t.input.charCodeAt(++t.position)}while(is_WHITE_SPACE(c));if(35===c)do{c=t.input.charCodeAt(++t.position)}while(!is_EOL(c)&&0!==c)}for(;0!==c;){for(readLineBreak(t),t.lineIndent=0,c=t.input.charCodeAt(t.position);(!d||t.lineIndent<h)&&32===c;)t.lineIndent++,c=t.input.charCodeAt(++t.position);if(!d&&t.lineIndent>h&&(h=t.lineIndent),is_EOL(c))m++;else{if(t.lineIndent<h){3===l?t.result+=i.repeat("\n",p?1+m:m):1===l&&p&&(t.result+="\n");break}for(o?is_WHITE_SPACE(c)?(g=!0,t.result+=i.repeat("\n",p?1+m:m)):g?(g=!1,t.result+=i.repeat("\n",m+1)):0===m?p&&(t.result+=" "):t.result+=i.repeat("\n",m):t.result+=i.repeat("\n",p?1+m:m),p=!0,d=!0,m=0,r=t.position;!is_EOL(c)&&0!==c;)c=t.input.charCodeAt(++t.position);captureSegment(t,r,t.position,!1)}}return!0}(t,g)||function readSingleQuotedScalar(t,n){var r,i,o;if(39!==(r=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,i=o=t.position;0!==(r=t.input.charCodeAt(t.position));)if(39===r){if(captureSegment(t,i,t.position,!0),39!==(r=t.input.charCodeAt(++t.position)))return!0;i=t.position,t.position++,o=t.position}else is_EOL(r)?(captureSegment(t,i,o,!0),writeFoldedLines(t,skipSeparationSpace(t,!1,n)),i=o=t.position):t.position===t.lineStart&&testDocumentSeparator(t)?throwError(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);throwError(t,"unexpected end of the stream within a single quoted scalar")}(t,g)||function readDoubleQuotedScalar(t,n){var r,i,o,a,c,u,l;if(34!==(u=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;0!==(u=t.input.charCodeAt(t.position));){if(34===u)return captureSegment(t,r,t.position,!0),t.position++,!0;if(92===u){if(captureSegment(t,r,t.position,!0),is_EOL(u=t.input.charCodeAt(++t.position)))skipSeparationSpace(t,!1,n);else if(u<256&&y[u])t.result+=v[u],t.position++;else if((c=120===(l=u)?2:117===l?4:85===l?8:0)>0){for(o=c,a=0;o>0;o--)(c=fromHexCode(u=t.input.charCodeAt(++t.position)))>=0?a=(a<<4)+c:throwError(t,"expected hexadecimal character");t.result+=charFromCodepoint(a),t.position++}else throwError(t,"unknown escape sequence");r=i=t.position}else is_EOL(u)?(captureSegment(t,r,i,!0),writeFoldedLines(t,skipSeparationSpace(t,!1,n)),r=i=t.position):t.position===t.lineStart&&testDocumentSeparator(t)?throwError(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}throwError(t,"unexpected end of the stream within a double quoted scalar")}(t,g)?w=!0:!function readAlias(t){var n,r,i;if(42!==(i=t.input.charCodeAt(t.position)))return!1;for(i=t.input.charCodeAt(++t.position),n=t.position;0!==i&&!is_WS_OR_EOL(i)&&!is_FLOW_INDICATOR(i);)i=t.input.charCodeAt(++t.position);return t.position===n&&throwError(t,"name of an alias node must contain at least one character"),r=t.input.slice(n,t.position),t.anchorMap.hasOwnProperty(r)||throwError(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],skipSeparationSpace(t,!0,-1),!0}(t)?function readPlainScalar(t,n,r){var i,o,a,c,u,l,p,d,h=t.kind,m=t.result;if(is_WS_OR_EOL(d=t.input.charCodeAt(t.position))||is_FLOW_INDICATOR(d)||35===d||38===d||42===d||33===d||124===d||62===d||39===d||34===d||37===d||64===d||96===d)return!1;if((63===d||45===d)&&(is_WS_OR_EOL(i=t.input.charCodeAt(t.position+1))||r&&is_FLOW_INDICATOR(i)))return!1;for(t.kind="scalar",t.result="",o=a=t.position,c=!1;0!==d;){if(58===d){if(is_WS_OR_EOL(i=t.input.charCodeAt(t.position+1))||r&&is_FLOW_INDICATOR(i))break}else if(35===d){if(is_WS_OR_EOL(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&testDocumentSeparator(t)||r&&is_FLOW_INDICATOR(d))break;if(is_EOL(d)){if(u=t.line,l=t.lineStart,p=t.lineIndent,skipSeparationSpace(t,!1,-1),t.lineIndent>=n){c=!0,d=t.input.charCodeAt(t.position);continue}t.position=a,t.line=u,t.lineStart=l,t.lineIndent=p;break}}c&&(captureSegment(t,o,a,!1),writeFoldedLines(t,t.line-u),o=a=t.position,c=!1),is_WHITE_SPACE(d)||(a=t.position+1),d=t.input.charCodeAt(++t.position)}return captureSegment(t,o,a,!1),!!t.result||(t.kind=h,t.result=m,!1)}(t,g,1===r)&&(w=!0,null===t.tag&&(t.tag="?")):(w=!0,null===t.tag&&null===t.anchor||throwError(t,"alias node should not have any properties")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===C&&(w=p&&readBlockSequence(t,x))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&throwError(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),d=0,h=t.implicitTypes.length;d<h;d+=1)if((m=t.implicitTypes[d]).resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else l.call(t.typeMap[t.kind||"fallback"],t.tag)?(m=t.typeMap[t.kind||"fallback"][t.tag],null!==t.result&&m.kind!==t.kind&&throwError(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result)?(t.result=m.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):throwError(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):throwError(t,"unknown tag !<"+t.tag+">");return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||w}function readDocument(t){var n,r,i,o,a=t.position,c=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(o=t.input.charCodeAt(t.position))&&(skipSeparationSpace(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==o));){for(c=!0,o=t.input.charCodeAt(++t.position),n=t.position;0!==o&&!is_WS_OR_EOL(o);)o=t.input.charCodeAt(++t.position);for(i=[],(r=t.input.slice(n,t.position)).length<1&&throwError(t,"directive name must not be less than one character in length");0!==o;){for(;is_WHITE_SPACE(o);)o=t.input.charCodeAt(++t.position);if(35===o){do{o=t.input.charCodeAt(++t.position)}while(0!==o&&!is_EOL(o));break}if(is_EOL(o))break;for(n=t.position;0!==o&&!is_WS_OR_EOL(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}0!==o&&readLineBreak(t),l.call(C,r)?C[r](t,r,i):throwWarning(t,'unknown document directive "'+r+'"')}skipSeparationSpace(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,skipSeparationSpace(t,!0,-1)):c&&throwError(t,"directives end mark is expected"),composeNode(t,t.lineIndent-1,4,!1,!0),skipSeparationSpace(t,!0,-1),t.checkLineBreaks&&d.test(t.input.slice(a,t.position))&&throwWarning(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&testDocumentSeparator(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,skipSeparationSpace(t,!0,-1)):t.position<t.length-1&&throwError(t,"end of the stream or a document separator is expected")}function loadDocuments(t,n){n=n||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var r=new State(t,n),i=t.indexOf("\0");for(-1!==i&&(r.position=i,throwError(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)readDocument(r);return r.documents}function loadAll(t,n,r){null!==n&&"object"==typeof n&&void 0===r&&(r=n,n=null);var i=loadDocuments(t,r);if("function"!=typeof n)return i;for(var o=0,a=i.length;o<a;o+=1)n(i[o])}function load(t,n){var r=loadDocuments(t,n);if(0!==r.length){if(1===r.length)return r[0];throw new o("expected a single document in the stream, but found more")}}t.exports.loadAll=loadAll,t.exports.load=load,t.exports.safeLoadAll=function safeLoadAll(t,n,r){return"object"==typeof n&&null!==n&&void 0===r&&(r=n,n=null),loadAll(t,n,i.extend({schema:c},r))},t.exports.safeLoad=function safeLoad(t,n){return load(t,i.extend({schema:c},n))}},function(t,n,r){"use strict";var i=r(25);function Mark(t,n,r,i,o){this.name=t,this.buffer=n,this.position=r,this.line=i,this.column=o}Mark.prototype.getSnippet=function getSnippet(t,n){var r,o,a,c,u;if(!this.buffer)return null;for(t=t||4,n=n||75,r="",o=this.position;o>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(o-1));)if(o-=1,this.position-o>n/2-1){r=" ... ",o+=5;break}for(a="",c=this.position;c<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(c));)if((c+=1)-this.position>n/2-1){a=" ... ",c-=5;break}return u=this.buffer.slice(o,c),i.repeat(" ",t)+r+u+a+"\n"+i.repeat(" ",t+this.position-o+r.length)+"^"},Mark.prototype.toString=function toString(t){var n,r="";return this.name&&(r+='in "'+this.name+'" '),r+="at line "+(this.line+1)+", column "+(this.column+1),t||(n=this.getSnippet())&&(r+=":\n"+n),r},t.exports=Mark},function(t,n,r){"use strict";var i=r(6);t.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},function(t,n,r){"use strict";var i=r(6);t.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},function(t,n,r){"use strict";var i=r(6);t.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},function(t,n,r){"use strict";var i=r(6);t.exports=new i("tag:yaml.org,2002:null",{kind:"scalar",resolve:function resolveYamlNull(t){if(null===t)return!0;var n=t.length;return 1===n&&"~"===t||4===n&&("null"===t||"Null"===t||"NULL"===t)},construct:function constructYamlNull(){return null},predicate:function isNull(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(t,n,r){"use strict";var i=r(6);t.exports=new i("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function resolveYamlBoolean(t){if(null===t)return!1;var n=t.length;return 4===n&&("true"===t||"True"===t||"TRUE"===t)||5===n&&("false"===t||"False"===t||"FALSE"===t)},construct:function constructYamlBoolean(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function isBoolean(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},function(t,n,r){"use strict";var i=r(25),o=r(6);function isOctCode(t){return 48<=t&&t<=55}function isDecCode(t){return 48<=t&&t<=57}t.exports=new o("tag:yaml.org,2002:int",{kind:"scalar",resolve:function resolveYamlInteger(t){if(null===t)return!1;var n,r,i=t.length,o=0,a=!1;if(!i)return!1;if("-"!==(n=t[o])&&"+"!==n||(n=t[++o]),"0"===n){if(o+1===i)return!0;if("b"===(n=t[++o])){for(o++;o<i;o++)if("_"!==(n=t[o])){if("0"!==n&&"1"!==n)return!1;a=!0}return a&&"_"!==n}if("x"===n){for(o++;o<i;o++)if("_"!==(n=t[o])){if(!(48<=(r=t.charCodeAt(o))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;a=!0}return a&&"_"!==n}for(;o<i;o++)if("_"!==(n=t[o])){if(!isOctCode(t.charCodeAt(o)))return!1;a=!0}return a&&"_"!==n}if("_"===n)return!1;for(;o<i;o++)if("_"!==(n=t[o])){if(":"===n)break;if(!isDecCode(t.charCodeAt(o)))return!1;a=!0}return!(!a||"_"===n)&&(":"!==n||/^(:[0-5]?[0-9])+$/.test(t.slice(o)))},construct:function constructYamlInteger(t){var n,r,i=t,o=1,a=[];return-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),"-"!==(n=i[0])&&"+"!==n||("-"===n&&(o=-1),n=(i=i.slice(1))[0]),"0"===i?0:"0"===n?"b"===i[1]?o*parseInt(i.slice(2),2):"x"===i[1]?o*parseInt(i,16):o*parseInt(i,8):-1!==i.indexOf(":")?(i.split(":").forEach((function(t){a.unshift(parseInt(t,10))})),i=0,r=1,a.forEach((function(t){i+=t*r,r*=60})),o*i):o*parseInt(i,10)},predicate:function isInteger(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!i.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0"+t.toString(8):"-0"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(t,n,r){"use strict";var i=r(25),o=r(6),a=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var c=/^[-+]?[0-9]+e/;t.exports=new o("tag:yaml.org,2002:float",{kind:"scalar",resolve:function resolveYamlFloat(t){return null!==t&&!(!a.test(t)||"_"===t[t.length-1])},construct:function constructYamlFloat(t){var n,r,i,o;return r="-"===(n=t.replace(/_/g,"").toLowerCase())[0]?-1:1,o=[],"+-".indexOf(n[0])>=0&&(n=n.slice(1)),".inf"===n?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===n?NaN:n.indexOf(":")>=0?(n.split(":").forEach((function(t){o.unshift(parseFloat(t,10))})),n=0,i=1,o.forEach((function(t){n+=t*i,i*=60})),r*n):r*parseFloat(n,10)},predicate:function isFloat(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||i.isNegativeZero(t))},represent:function representYamlFloat(t,n){var r;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(t))return"-0.0";return r=t.toString(10),c.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"})},function(t,n,r){"use strict";var i=r(6),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),a=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new i("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function resolveYamlTimestamp(t){return null!==t&&(null!==o.exec(t)||null!==a.exec(t))},construct:function constructYamlTimestamp(t){var n,r,i,c,u,l,p,d,h=0,m=null;if(null===(n=o.exec(t))&&(n=a.exec(t)),null===n)throw new Error("Date resolve error");if(r=+n[1],i=+n[2]-1,c=+n[3],!n[4])return new Date(Date.UTC(r,i,c));if(u=+n[4],l=+n[5],p=+n[6],n[7]){for(h=n[7].slice(0,3);h.length<3;)h+="0";h=+h}return n[9]&&(m=6e4*(60*+n[10]+ +(n[11]||0)),"-"===n[9]&&(m=-m)),d=new Date(Date.UTC(r,i,c,u,l,p,h)),m&&d.setTime(d.getTime()-m),d},instanceOf:Date,represent:function representYamlTimestamp(t){return t.toISOString()}})},function(t,n,r){"use strict";var i=r(6);t.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function resolveYamlMerge(t){return"<<"===t||null===t}})},function(t,n,r){"use strict";var i;try{i=r(249).Buffer}catch(t){}var o=r(6),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new o("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function resolveYamlBinary(t){if(null===t)return!1;var n,r,i=0,o=t.length,c=a;for(r=0;r<o;r++)if(!((n=c.indexOf(t.charAt(r)))>64)){if(n<0)return!1;i+=6}return i%8==0},construct:function constructYamlBinary(t){var n,r,o=t.replace(/[\r\n=]/g,""),c=o.length,u=a,l=0,p=[];for(n=0;n<c;n++)n%4==0&&n&&(p.push(l>>16&255),p.push(l>>8&255),p.push(255&l)),l=l<<6|u.indexOf(o.charAt(n));return 0===(r=c%4*6)?(p.push(l>>16&255),p.push(l>>8&255),p.push(255&l)):18===r?(p.push(l>>10&255),p.push(l>>2&255)):12===r&&p.push(l>>4&255),i?i.from?i.from(p):new i(p):p},predicate:function isBinary(t){return i&&i.isBuffer(t)},represent:function representYamlBinary(t){var n,r,i="",o=0,c=t.length,u=a;for(n=0;n<c;n++)n%3==0&&n&&(i+=u[o>>18&63],i+=u[o>>12&63],i+=u[o>>6&63],i+=u[63&o]),o=(o<<8)+t[n];return 0===(r=c%3)?(i+=u[o>>18&63],i+=u[o>>12&63],i+=u[o>>6&63],i+=u[63&o]):2===r?(i+=u[o>>10&63],i+=u[o>>4&63],i+=u[o<<2&63],i+=u[64]):1===r&&(i+=u[o>>2&63],i+=u[o<<4&63],i+=u[64],i+=u[64]),i}})},function(t,n){t.exports=require("buffer")},function(t,n,r){"use strict";var i=r(6),o=Object.prototype.hasOwnProperty,a=Object.prototype.toString;t.exports=new i("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function resolveYamlOmap(t){if(null===t)return!0;var n,r,i,c,u,l=[],p=t;for(n=0,r=p.length;n<r;n+=1){if(i=p[n],u=!1,"[object Object]"!==a.call(i))return!1;for(c in i)if(o.call(i,c)){if(u)return!1;u=!0}if(!u)return!1;if(-1!==l.indexOf(c))return!1;l.push(c)}return!0},construct:function constructYamlOmap(t){return null!==t?t:[]}})},function(t,n,r){"use strict";var i=r(6),o=Object.prototype.toString;t.exports=new i("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function resolveYamlPairs(t){if(null===t)return!0;var n,r,i,a,c,u=t;for(c=new Array(u.length),n=0,r=u.length;n<r;n+=1){if(i=u[n],"[object Object]"!==o.call(i))return!1;if(1!==(a=Object.keys(i)).length)return!1;c[n]=[a[0],i[a[0]]]}return!0},construct:function constructYamlPairs(t){if(null===t)return[];var n,r,i,o,a,c=t;for(a=new Array(c.length),n=0,r=c.length;n<r;n+=1)i=c[n],o=Object.keys(i),a[n]=[o[0],i[o[0]]];return a}})},function(t,n,r){"use strict";var i=r(6),o=Object.prototype.hasOwnProperty;t.exports=new i("tag:yaml.org,2002:set",{kind:"mapping",resolve:function resolveYamlSet(t){if(null===t)return!0;var n,r=t;for(n in r)if(o.call(r,n)&&null!==r[n])return!1;return!0},construct:function constructYamlSet(t){return null!==t?t:{}}})},function(t,n,r){"use strict";var i=r(6);t.exports=new i("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function resolveJavascriptUndefined(){return!0},construct:function constructJavascriptUndefined(){},predicate:function isUndefined(t){return void 0===t},represent:function representJavascriptUndefined(){return""}})},function(t,n,r){"use strict";var i=r(6);t.exports=new i("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function resolveJavascriptRegExp(t){if(null===t)return!1;if(0===t.length)return!1;var n=t,r=/\/([gim]*)$/.exec(t),i="";if("/"===n[0]){if(r&&(i=r[1]),i.length>3)return!1;if("/"!==n[n.length-i.length-1])return!1}return!0},construct:function constructJavascriptRegExp(t){var n=t,r=/\/([gim]*)$/.exec(t),i="";return"/"===n[0]&&(r&&(i=r[1]),n=n.slice(1,n.length-i.length-1)),new RegExp(n,i)},predicate:function isRegExp(t){return"[object RegExp]"===Object.prototype.toString.call(t)},represent:function representJavascriptRegExp(t){var n="/"+t.source+"/";return t.global&&(n+="g"),t.multiline&&(n+="m"),t.ignoreCase&&(n+="i"),n}})},function(t,n,r){"use strict";var i;try{i=r(256)}catch(t){"undefined"!=typeof window&&(i=window.esprima)}var o=r(6);t.exports=new o("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function resolveJavascriptFunction(t){if(null===t)return!1;try{var n="("+t+")",r=i.parse(n,{range:!0});return"Program"===r.type&&1===r.body.length&&"ExpressionStatement"===r.body[0].type&&("ArrowFunctionExpression"===r.body[0].expression.type||"FunctionExpression"===r.body[0].expression.type)}catch(t){return!1}},construct:function constructJavascriptFunction(t){var n,r="("+t+")",o=i.parse(r,{range:!0}),a=[];if("Program"!==o.type||1!==o.body.length||"ExpressionStatement"!==o.body[0].type||"ArrowFunctionExpression"!==o.body[0].expression.type&&"FunctionExpression"!==o.body[0].expression.type)throw new Error("Failed to resolve function");return o.body[0].expression.params.forEach((function(t){a.push(t.name)})),n=o.body[0].expression.body.range,"BlockStatement"===o.body[0].expression.body.type?new Function(a,r.slice(n[0]+1,n[1]-1)):new Function(a,"return "+r.slice(n[0],n[1]))},predicate:function isFunction(t){return"[object Function]"===Object.prototype.toString.call(t)},represent:function representJavascriptFunction(t){return t.toString()}})},function(t,n,r){!function webpackUniversalModuleDefinition(n,r){t.exports=r()}(0,(function(){return function(t){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,__webpack_require__),i.loaded=!0,i.exports}return __webpack_require__.m=t,__webpack_require__.c=n,__webpack_require__.p="",__webpack_require__(0)}([function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(1),o=r(3),a=r(8),c=r(15);function parse(t,n,r){var c=null,proxyDelegate=function(t,n){r&&r(t,n),c&&c.visit(t,n)},u="function"==typeof r?proxyDelegate:null,l=!1;if(n){l="boolean"==typeof n.comment&&n.comment;var p="boolean"==typeof n.attachComment&&n.attachComment;(l||p)&&((c=new i.CommentHandler).attach=p,n.comment=!0,u=proxyDelegate)}var d,h=!1;n&&"string"==typeof n.sourceType&&(h="module"===n.sourceType),d=n&&"boolean"==typeof n.jsx&&n.jsx?new o.JSXParser(t,n,u):new a.Parser(t,n,u);var m=h?d.parseModule():d.parseScript();return l&&c&&(m.comments=c.comments),d.config.tokens&&(m.tokens=d.tokens),d.config.tolerant&&(m.errors=d.errorHandler.errors),m}n.parse=parse,n.parseModule=function parseModule(t,n,r){var i=n||{};return i.sourceType="module",parse(t,i,r)},n.parseScript=function parseScript(t,n,r){var i=n||{};return i.sourceType="script",parse(t,i,r)},n.tokenize=function tokenize(t,n,r){var i,o=new c.Tokenizer(t,n);i=[];try{for(;;){var a=o.getNextToken();if(!a)break;r&&(a=r(a)),i.push(a)}}catch(t){o.errorHandler.tolerate(t)}return o.errorHandler.tolerant&&(i.errors=o.errors()),i};var u=r(2);n.Syntax=u.Syntax,n.version="4.0.1"},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(2),o=function(){function CommentHandler(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return CommentHandler.prototype.insertInnerComments=function(t,n){if(t.type===i.Syntax.BlockStatement&&0===t.body.length){for(var r=[],o=this.leading.length-1;o>=0;--o){var a=this.leading[o];n.end.offset>=a.start&&(r.unshift(a.comment),this.leading.splice(o,1),this.trailing.splice(o,1))}r.length&&(t.innerComments=r)}},CommentHandler.prototype.findTrailingComments=function(t){var n=[];if(this.trailing.length>0){for(var r=this.trailing.length-1;r>=0;--r){var i=this.trailing[r];i.start>=t.end.offset&&n.unshift(i.comment)}return this.trailing.length=0,n}var o=this.stack[this.stack.length-1];if(o&&o.node.trailingComments){var a=o.node.trailingComments[0];a&&a.range[0]>=t.end.offset&&(n=o.node.trailingComments,delete o.node.trailingComments)}return n},CommentHandler.prototype.findLeadingComments=function(t){for(var n,r=[];this.stack.length>0;){if(!((a=this.stack[this.stack.length-1])&&a.start>=t.start.offset))break;n=a.node,this.stack.pop()}if(n){for(var i=(n.leadingComments?n.leadingComments.length:0)-1;i>=0;--i){var o=n.leadingComments[i];o.range[1]<=t.start.offset&&(r.unshift(o),n.leadingComments.splice(i,1))}return n.leadingComments&&0===n.leadingComments.length&&delete n.leadingComments,r}for(i=this.leading.length-1;i>=0;--i){var a;(a=this.leading[i]).start<=t.start.offset&&(r.unshift(a.comment),this.leading.splice(i,1))}return r},CommentHandler.prototype.visitNode=function(t,n){if(!(t.type===i.Syntax.Program&&t.body.length>0)){this.insertInnerComments(t,n);var r=this.findTrailingComments(n),o=this.findLeadingComments(n);o.length>0&&(t.leadingComments=o),r.length>0&&(t.trailingComments=r),this.stack.push({node:t,start:n.start.offset})}},CommentHandler.prototype.visitComment=function(t,n){var r="L"===t.type[0]?"Line":"Block",i={type:r,value:t.value};if(t.range&&(i.range=t.range),t.loc&&(i.loc=t.loc),this.comments.push(i),this.attach){var o={comment:{type:r,value:t.value,range:[n.start.offset,n.end.offset]},start:n.start.offset};t.loc&&(o.comment.loc=t.loc),t.type=r,this.leading.push(o),this.trailing.push(o)}},CommentHandler.prototype.visit=function(t,n){"LineComment"===t.type||"BlockComment"===t.type?this.visitComment(t,n):this.attach&&this.visitNode(t,n)},CommentHandler}();n.CommentHandler=o},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,n,r){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},function(t,n){function __(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var a=r(4),c=r(5),u=r(6),l=r(7),p=r(8),d=r(13),h=r(14);function getQualifiedElementName(t){var n;switch(t.type){case u.JSXSyntax.JSXIdentifier:n=t.name;break;case u.JSXSyntax.JSXNamespacedName:var r=t;n=getQualifiedElementName(r.namespace)+":"+getQualifiedElementName(r.name);break;case u.JSXSyntax.JSXMemberExpression:var i=t;n=getQualifiedElementName(i.object)+"."+getQualifiedElementName(i.property)}return n}d.TokenName[100]="JSXIdentifier",d.TokenName[101]="JSXText";var m=function(t){function JSXParser(n,r,i){return t.call(this,n,r,i)||this}return o(JSXParser,t),JSXParser.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():t.prototype.parsePrimaryExpression.call(this)},JSXParser.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},JSXParser.prototype.finishJSX=function(){this.nextToken()},JSXParser.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},JSXParser.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},JSXParser.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},JSXParser.prototype.scanXHTMLEntity=function(t){for(var n="&",r=!0,i=!1,o=!1,c=!1;!this.scanner.eof()&&r&&!i;){var u=this.scanner.source[this.scanner.index];if(u===t)break;if(i=";"===u,n+=u,++this.scanner.index,!i)switch(n.length){case 2:o="#"===u;break;case 3:o&&(r=(c="x"===u)||a.Character.isDecimalDigit(u.charCodeAt(0)),o=o&&!c);break;default:r=(r=r&&!(o&&!a.Character.isDecimalDigit(u.charCodeAt(0))))&&!(c&&!a.Character.isHexDigit(u.charCodeAt(0)))}}if(r&&i&&n.length>2){var l=n.substr(1,n.length-2);o&&l.length>1?n=String.fromCharCode(parseInt(l.substr(1),10)):c&&l.length>2?n=String.fromCharCode(parseInt("0"+l.substr(1),16)):o||c||!h.XHTMLEntities[l]||(n=h.XHTMLEntities[l])}return n},JSXParser.prototype.lexJSX=function(){var t=this.scanner.source.charCodeAt(this.scanner.index);if(60===t||62===t||47===t||58===t||61===t||123===t||125===t)return{type:7,value:u=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===t||39===t){for(var n=this.scanner.index,r=this.scanner.source[this.scanner.index++],i="";!this.scanner.eof();){if((l=this.scanner.source[this.scanner.index++])===r)break;i+="&"===l?this.scanXHTMLEntity(r):l}return{type:8,value:i,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(46===t){var o=this.scanner.source.charCodeAt(this.scanner.index+1),c=this.scanner.source.charCodeAt(this.scanner.index+2),u=46===o&&46===c?"...":".";n=this.scanner.index;return this.scanner.index+=u.length,{type:7,value:u,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(96===t)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(a.Character.isIdentifierStart(t)&&92!==t){n=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var l=this.scanner.source.charCodeAt(this.scanner.index);if(a.Character.isIdentifierPart(l)&&92!==l)++this.scanner.index;else{if(45!==l)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(n,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}return this.scanner.lex()},JSXParser.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var t=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(t)),t},JSXParser.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var t=this.scanner.index,n="";!this.scanner.eof();){var r=this.scanner.source[this.scanner.index];if("{"===r||"<"===r)break;++this.scanner.index,n+=r,a.Character.isLineTerminator(r.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===r&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var i={type:101,value:n,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index};return n.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(i)),i},JSXParser.prototype.peekJSXToken=function(){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.lexJSX();return this.scanner.restoreState(t),n},JSXParser.prototype.expectJSX=function(t){var n=this.nextJSXToken();7===n.type&&n.value===t||this.throwUnexpectedToken(n)},JSXParser.prototype.matchJSX=function(t){var n=this.peekJSXToken();return 7===n.type&&n.value===t},JSXParser.prototype.parseJSXIdentifier=function(){var t=this.createJSXNode(),n=this.nextJSXToken();return 100!==n.type&&this.throwUnexpectedToken(n),this.finalize(t,new c.JSXIdentifier(n.value))},JSXParser.prototype.parseJSXElementName=function(){var t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=n;this.expectJSX(":");var i=this.parseJSXIdentifier();n=this.finalize(t,new c.JSXNamespacedName(r,i))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var o=n;this.expectJSX(".");var a=this.parseJSXIdentifier();n=this.finalize(t,new c.JSXMemberExpression(o,a))}return n},JSXParser.prototype.parseJSXAttributeName=function(){var t,n=this.createJSXNode(),r=this.parseJSXIdentifier();if(this.matchJSX(":")){var i=r;this.expectJSX(":");var o=this.parseJSXIdentifier();t=this.finalize(n,new c.JSXNamespacedName(i,o))}else t=r;return t},JSXParser.prototype.parseJSXStringLiteralAttribute=function(){var t=this.createJSXNode(),n=this.nextJSXToken();8!==n.type&&this.throwUnexpectedToken(n);var r=this.getTokenRaw(n);return this.finalize(t,new l.Literal(n.value,r))},JSXParser.prototype.parseJSXExpressionAttribute=function(){var t=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var n=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(t,new c.JSXExpressionContainer(n))},JSXParser.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},JSXParser.prototype.parseJSXNameValueAttribute=function(){var t=this.createJSXNode(),n=this.parseJSXAttributeName(),r=null;return this.matchJSX("=")&&(this.expectJSX("="),r=this.parseJSXAttributeValue()),this.finalize(t,new c.JSXAttribute(n,r))},JSXParser.prototype.parseJSXSpreadAttribute=function(){var t=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var n=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(t,new c.JSXSpreadAttribute(n))},JSXParser.prototype.parseJSXAttributes=function(){for(var t=[];!this.matchJSX("/")&&!this.matchJSX(">");){var n=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();t.push(n)}return t},JSXParser.prototype.parseJSXOpeningElement=function(){var t=this.createJSXNode();this.expectJSX("<");var n=this.parseJSXElementName(),r=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(t,new c.JSXOpeningElement(n,i,r))},JSXParser.prototype.parseJSXBoundaryElement=function(){var t=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var n=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(t,new c.JSXClosingElement(n))}var r=this.parseJSXElementName(),i=this.parseJSXAttributes(),o=this.matchJSX("/");return o&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(t,new c.JSXOpeningElement(r,o,i))},JSXParser.prototype.parseJSXEmptyExpression=function(){var t=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(t,new c.JSXEmptyExpression)},JSXParser.prototype.parseJSXExpressionContainer=function(){var t,n=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(t=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),t=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(n,new c.JSXExpressionContainer(t))},JSXParser.prototype.parseJSXChildren=function(){for(var t=[];!this.scanner.eof();){var n=this.createJSXChildNode(),r=this.nextJSXText();if(r.start<r.end){var i=this.getTokenRaw(r),o=this.finalize(n,new c.JSXText(r.value,i));t.push(o)}if("{"!==this.scanner.source[this.scanner.index])break;var a=this.parseJSXExpressionContainer();t.push(a)}return t},JSXParser.prototype.parseComplexJSXElement=function(t){for(var n=[];!this.scanner.eof();){t.children=t.children.concat(this.parseJSXChildren());var r=this.createJSXChildNode(),i=this.parseJSXBoundaryElement();if(i.type===u.JSXSyntax.JSXOpeningElement){var o=i;if(o.selfClosing){var a=this.finalize(r,new c.JSXElement(o,[],null));t.children.push(a)}else n.push(t),t={node:r,opening:o,closing:null,children:[]}}if(i.type===u.JSXSyntax.JSXClosingElement){t.closing=i;var l=getQualifiedElementName(t.opening.name);if(l!==getQualifiedElementName(t.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",l),!(n.length>0))break;a=this.finalize(t.node,new c.JSXElement(t.opening,t.children,t.closing));(t=n[n.length-1]).children.push(a),n.pop()}}return t},JSXParser.prototype.parseJSXElement=function(){var t=this.createJSXNode(),n=this.parseJSXOpeningElement(),r=[],i=null;if(!n.selfClosing){var o=this.parseComplexJSXElement({node:t,opening:n,closing:i,children:r});r=o.children,i=o.closing}return this.finalize(t,new c.JSXElement(n,r,i))},JSXParser.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var t=this.parseJSXElement();return this.finishJSX(),t},JSXParser.prototype.isStartOfExpression=function(){return t.prototype.isStartOfExpression.call(this)||this.match("<")},JSXParser}(p.Parser);n.JSXParser=m},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};n.Character={fromCodePoint:function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10))+String.fromCharCode(56320+(t-65536&1023))},isWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},isLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},isIdentifierStart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&r.NonAsciiIdentifierStart.test(n.Character.fromCodePoint(t))},isIdentifierPart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&r.NonAsciiIdentifierPart.test(n.Character.fromCodePoint(t))},isDecimalDigit:function(t){return t>=48&&t<=57},isHexDigit:function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},isOctalDigit:function(t){return t>=48&&t<=55}}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(6),o=function o(t){this.type=i.JSXSyntax.JSXClosingElement,this.name=t};n.JSXClosingElement=o;var a=function a(t,n,r){this.type=i.JSXSyntax.JSXElement,this.openingElement=t,this.children=n,this.closingElement=r};n.JSXElement=a;var c=function c(){this.type=i.JSXSyntax.JSXEmptyExpression};n.JSXEmptyExpression=c;var u=function u(t){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=t};n.JSXExpressionContainer=u;var l=function l(t){this.type=i.JSXSyntax.JSXIdentifier,this.name=t};n.JSXIdentifier=l;var p=function p(t,n){this.type=i.JSXSyntax.JSXMemberExpression,this.object=t,this.property=n};n.JSXMemberExpression=p;var d=function d(t,n){this.type=i.JSXSyntax.JSXAttribute,this.name=t,this.value=n};n.JSXAttribute=d;var h=function h(t,n){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=t,this.name=n};n.JSXNamespacedName=h;var m=function m(t,n,r){this.type=i.JSXSyntax.JSXOpeningElement,this.name=t,this.selfClosing=n,this.attributes=r};n.JSXOpeningElement=m;var g=function g(t){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=t};n.JSXSpreadAttribute=g;var y=function y(t,n){this.type=i.JSXSyntax.JSXText,this.value=t,this.raw=n};n.JSXText=y},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(2),o=function o(t){this.type=i.Syntax.ArrayExpression,this.elements=t};n.ArrayExpression=o;var a=function a(t){this.type=i.Syntax.ArrayPattern,this.elements=t};n.ArrayPattern=a;var c=function c(t,n,r){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=t,this.body=n,this.generator=!1,this.expression=r,this.async=!1};n.ArrowFunctionExpression=c;var u=function u(t,n,r){this.type=i.Syntax.AssignmentExpression,this.operator=t,this.left=n,this.right=r};n.AssignmentExpression=u;var l=function l(t,n){this.type=i.Syntax.AssignmentPattern,this.left=t,this.right=n};n.AssignmentPattern=l;var p=function p(t,n,r){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=t,this.body=n,this.generator=!1,this.expression=r,this.async=!0};n.AsyncArrowFunctionExpression=p;var d=function d(t,n,r){this.type=i.Syntax.FunctionDeclaration,this.id=t,this.params=n,this.body=r,this.generator=!1,this.expression=!1,this.async=!0};n.AsyncFunctionDeclaration=d;var h=function h(t,n,r){this.type=i.Syntax.FunctionExpression,this.id=t,this.params=n,this.body=r,this.generator=!1,this.expression=!1,this.async=!0};n.AsyncFunctionExpression=h;var m=function m(t){this.type=i.Syntax.AwaitExpression,this.argument=t};n.AwaitExpression=m;var g=function g(t,n,r){var o="||"===t||"&&"===t;this.type=o?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=t,this.left=n,this.right=r};n.BinaryExpression=g;var y=function y(t){this.type=i.Syntax.BlockStatement,this.body=t};n.BlockStatement=y;var v=function v(t){this.type=i.Syntax.BreakStatement,this.label=t};n.BreakStatement=v;var x=function x(t,n){this.type=i.Syntax.CallExpression,this.callee=t,this.arguments=n};n.CallExpression=x;var C=function C(t,n){this.type=i.Syntax.CatchClause,this.param=t,this.body=n};n.CatchClause=C;var b=function b(t){this.type=i.Syntax.ClassBody,this.body=t};n.ClassBody=b;var w=function w(t,n,r){this.type=i.Syntax.ClassDeclaration,this.id=t,this.superClass=n,this.body=r};n.ClassDeclaration=w;var k=function k(t,n,r){this.type=i.Syntax.ClassExpression,this.id=t,this.superClass=n,this.body=r};n.ClassExpression=k;var S=function S(t,n){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=t,this.property=n};n.ComputedMemberExpression=S;var A=function A(t,n,r){this.type=i.Syntax.ConditionalExpression,this.test=t,this.consequent=n,this.alternate=r};n.ConditionalExpression=A;var _=function _(t){this.type=i.Syntax.ContinueStatement,this.label=t};n.ContinueStatement=_;var D=function D(){this.type=i.Syntax.DebuggerStatement};n.DebuggerStatement=D;var T=function T(t,n){this.type=i.Syntax.ExpressionStatement,this.expression=t,this.directive=n};n.Directive=T;var I=function I(t,n){this.type=i.Syntax.DoWhileStatement,this.body=t,this.test=n};n.DoWhileStatement=I;var P=function P(){this.type=i.Syntax.EmptyStatement};n.EmptyStatement=P;var L=function L(t){this.type=i.Syntax.ExportAllDeclaration,this.source=t};n.ExportAllDeclaration=L;var N=function N(t){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=t};n.ExportDefaultDeclaration=N;var M=function M(t,n,r){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=t,this.specifiers=n,this.source=r};n.ExportNamedDeclaration=M;var R=function R(t,n){this.type=i.Syntax.ExportSpecifier,this.exported=n,this.local=t};n.ExportSpecifier=R;var O=function O(t){this.type=i.Syntax.ExpressionStatement,this.expression=t};n.ExpressionStatement=O;var j=function j(t,n,r){this.type=i.Syntax.ForInStatement,this.left=t,this.right=n,this.body=r,this.each=!1};n.ForInStatement=j;var B=function B(t,n,r){this.type=i.Syntax.ForOfStatement,this.left=t,this.right=n,this.body=r};n.ForOfStatement=B;var U=function U(t,n,r,o){this.type=i.Syntax.ForStatement,this.init=t,this.test=n,this.update=r,this.body=o};n.ForStatement=U;var q=function q(t,n,r,o){this.type=i.Syntax.FunctionDeclaration,this.id=t,this.params=n,this.body=r,this.generator=o,this.expression=!1,this.async=!1};n.FunctionDeclaration=q;var H=function H(t,n,r,o){this.type=i.Syntax.FunctionExpression,this.id=t,this.params=n,this.body=r,this.generator=o,this.expression=!1,this.async=!1};n.FunctionExpression=H;var W=function W(t){this.type=i.Syntax.Identifier,this.name=t};n.Identifier=W;var $=function $(t,n,r){this.type=i.Syntax.IfStatement,this.test=t,this.consequent=n,this.alternate=r};n.IfStatement=$;var z=function z(t,n){this.type=i.Syntax.ImportDeclaration,this.specifiers=t,this.source=n};n.ImportDeclaration=z;var V=function V(t){this.type=i.Syntax.ImportDefaultSpecifier,this.local=t};n.ImportDefaultSpecifier=V;var X=function X(t){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=t};n.ImportNamespaceSpecifier=X;var G=function G(t,n){this.type=i.Syntax.ImportSpecifier,this.local=t,this.imported=n};n.ImportSpecifier=G;var J=function J(t,n){this.type=i.Syntax.LabeledStatement,this.label=t,this.body=n};n.LabeledStatement=J;var Q=function Q(t,n){this.type=i.Syntax.Literal,this.value=t,this.raw=n};n.Literal=Q;var Y=function Y(t,n){this.type=i.Syntax.MetaProperty,this.meta=t,this.property=n};n.MetaProperty=Y;var K=function K(t,n,r,o,a){this.type=i.Syntax.MethodDefinition,this.key=t,this.computed=n,this.value=r,this.kind=o,this.static=a};n.MethodDefinition=K;var Z=function Z(t){this.type=i.Syntax.Program,this.body=t,this.sourceType="module"};n.Module=Z;var ee=function ee(t,n){this.type=i.Syntax.NewExpression,this.callee=t,this.arguments=n};n.NewExpression=ee;var te=function te(t){this.type=i.Syntax.ObjectExpression,this.properties=t};n.ObjectExpression=te;var ne=function ne(t){this.type=i.Syntax.ObjectPattern,this.properties=t};n.ObjectPattern=ne;var re=function re(t,n,r,o,a,c){this.type=i.Syntax.Property,this.key=n,this.computed=r,this.value=o,this.kind=t,this.method=a,this.shorthand=c};n.Property=re;var ie=function ie(t,n,r,o){this.type=i.Syntax.Literal,this.value=t,this.raw=n,this.regex={pattern:r,flags:o}};n.RegexLiteral=ie;var oe=function oe(t){this.type=i.Syntax.RestElement,this.argument=t};n.RestElement=oe;var se=function se(t){this.type=i.Syntax.ReturnStatement,this.argument=t};n.ReturnStatement=se;var ae=function ae(t){this.type=i.Syntax.Program,this.body=t,this.sourceType="script"};n.Script=ae;var ce=function ce(t){this.type=i.Syntax.SequenceExpression,this.expressions=t};n.SequenceExpression=ce;var ue=function ue(t){this.type=i.Syntax.SpreadElement,this.argument=t};n.SpreadElement=ue;var le=function le(t,n){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=t,this.property=n};n.StaticMemberExpression=le;var pe=function pe(){this.type=i.Syntax.Super};n.Super=pe;var de=function de(t,n){this.type=i.Syntax.SwitchCase,this.test=t,this.consequent=n};n.SwitchCase=de;var he=function he(t,n){this.type=i.Syntax.SwitchStatement,this.discriminant=t,this.cases=n};n.SwitchStatement=he;var fe=function fe(t,n){this.type=i.Syntax.TaggedTemplateExpression,this.tag=t,this.quasi=n};n.TaggedTemplateExpression=fe;var me=function me(t,n){this.type=i.Syntax.TemplateElement,this.value=t,this.tail=n};n.TemplateElement=me;var ge=function ge(t,n){this.type=i.Syntax.TemplateLiteral,this.quasis=t,this.expressions=n};n.TemplateLiteral=ge;var ye=function ye(){this.type=i.Syntax.ThisExpression};n.ThisExpression=ye;var ve=function ve(t){this.type=i.Syntax.ThrowStatement,this.argument=t};n.ThrowStatement=ve;var xe=function xe(t,n,r){this.type=i.Syntax.TryStatement,this.block=t,this.handler=n,this.finalizer=r};n.TryStatement=xe;var Ce=function Ce(t,n){this.type=i.Syntax.UnaryExpression,this.operator=t,this.argument=n,this.prefix=!0};n.UnaryExpression=Ce;var be=function be(t,n,r){this.type=i.Syntax.UpdateExpression,this.operator=t,this.argument=n,this.prefix=r};n.UpdateExpression=be;var we=function we(t,n){this.type=i.Syntax.VariableDeclaration,this.declarations=t,this.kind=n};n.VariableDeclaration=we;var Ee=function Ee(t,n){this.type=i.Syntax.VariableDeclarator,this.id=t,this.init=n};n.VariableDeclarator=Ee;var ke=function ke(t,n){this.type=i.Syntax.WhileStatement,this.test=t,this.body=n};n.WhileStatement=ke;var Se=function Se(t,n){this.type=i.Syntax.WithStatement,this.object=t,this.body=n};n.WithStatement=Se;var Ae=function Ae(t,n){this.type=i.Syntax.YieldExpression,this.argument=t,this.delegate=n};n.YieldExpression=Ae},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(9),o=r(10),a=r(11),c=r(7),u=r(12),l=r(2),p=r(13),d=function(){function Parser(t,n,r){void 0===n&&(n={}),this.config={range:"boolean"==typeof n.range&&n.range,loc:"boolean"==typeof n.loc&&n.loc,source:null,tokens:"boolean"==typeof n.tokens&&n.tokens,comment:"boolean"==typeof n.comment&&n.comment,tolerant:"boolean"==typeof n.tolerant&&n.tolerant},this.config.loc&&n.source&&null!==n.source&&(this.config.source=String(n.source)),this.delegate=r,this.errorHandler=new o.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new u.Scanner(t,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return Parser.prototype.throwError=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=Array.prototype.slice.call(arguments,1),a=t.replace(/%(\d)/g,(function(t,n){return i.assert(n<o.length,"Message reference must be in range"),o[n]})),c=this.lastMarker.index,u=this.lastMarker.line,l=this.lastMarker.column+1;throw this.errorHandler.createError(c,u,l,a)},Parser.prototype.tolerateError=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=Array.prototype.slice.call(arguments,1),a=t.replace(/%(\d)/g,(function(t,n){return i.assert(n<o.length,"Message reference must be in range"),o[n]})),c=this.lastMarker.index,u=this.scanner.lineNumber,l=this.lastMarker.column+1;this.errorHandler.tolerateError(c,u,l,a)},Parser.prototype.unexpectedTokenError=function(t,n){var r,i=n||a.Messages.UnexpectedToken;if(t?(n||(i=2===t.type?a.Messages.UnexpectedEOS:3===t.type?a.Messages.UnexpectedIdentifier:6===t.type?a.Messages.UnexpectedNumber:8===t.type?a.Messages.UnexpectedString:10===t.type?a.Messages.UnexpectedTemplate:a.Messages.UnexpectedToken,4===t.type&&(this.scanner.isFutureReservedWord(t.value)?i=a.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(t.value)&&(i=a.Messages.StrictReservedWord))),r=t.value):r="ILLEGAL",i=i.replace("%0",r),t&&"number"==typeof t.lineNumber){var o=t.start,c=t.lineNumber,u=this.lastMarker.index-this.lastMarker.column,l=t.start-u+1;return this.errorHandler.createError(o,c,l,i)}o=this.lastMarker.index,c=this.lastMarker.line,l=this.lastMarker.column+1;return this.errorHandler.createError(o,c,l,i)},Parser.prototype.throwUnexpectedToken=function(t,n){throw this.unexpectedTokenError(t,n)},Parser.prototype.tolerateUnexpectedToken=function(t,n){this.errorHandler.tolerate(this.unexpectedTokenError(t,n))},Parser.prototype.collectComments=function(){if(this.config.comment){var t=this.scanner.scanComments();if(t.length>0&&this.delegate)for(var n=0;n<t.length;++n){var r=t[n],i=void 0;i={type:r.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(r.slice[0],r.slice[1])},this.config.range&&(i.range=r.range),this.config.loc&&(i.loc=r.loc);var o={start:{line:r.loc.start.line,column:r.loc.start.column,offset:r.range[0]},end:{line:r.loc.end.line,column:r.loc.end.column,offset:r.range[1]}};this.delegate(i,o)}}else this.scanner.scanComments()},Parser.prototype.getTokenRaw=function(t){return this.scanner.source.slice(t.start,t.end)},Parser.prototype.convertToken=function(t){var n={type:p.TokenName[t.type],value:this.getTokenRaw(t)};if(this.config.range&&(n.range=[t.start,t.end]),this.config.loc&&(n.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===t.type){var r=t.pattern,i=t.flags;n.regex={pattern:r,flags:i}}return n},Parser.prototype.nextToken=function(){var t=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var n=this.scanner.lex();return this.hasLineTerminator=t.lineNumber!==n.lineNumber,n&&this.context.strict&&3===n.type&&this.scanner.isStrictModeReservedWord(n.value)&&(n.type=4),this.lookahead=n,this.config.tokens&&2!==n.type&&this.tokens.push(this.convertToken(n)),t},Parser.prototype.nextRegexToken=function(){this.collectComments();var t=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(t))),this.lookahead=t,this.nextToken(),t},Parser.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},Parser.prototype.startNode=function(t,n){void 0===n&&(n=0);var r=t.start-t.lineStart,i=t.lineNumber;return r<0&&(r+=n,i--),{index:t.start,line:i,column:r}},Parser.prototype.finalize=function(t,n){if(this.config.range&&(n.range=[t.index,this.lastMarker.index]),this.config.loc&&(n.loc={start:{line:t.line,column:t.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(n.loc.source=this.config.source)),this.delegate){var r={start:{line:t.line,column:t.column,offset:t.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(n,r)}return n},Parser.prototype.expect=function(t){var n=this.nextToken();7===n.type&&n.value===t||this.throwUnexpectedToken(n)},Parser.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var t=this.lookahead;7===t.type&&","===t.value?this.nextToken():7===t.type&&";"===t.value?(this.nextToken(),this.tolerateUnexpectedToken(t)):this.tolerateUnexpectedToken(t,a.Messages.UnexpectedToken)}else this.expect(",")},Parser.prototype.expectKeyword=function(t){var n=this.nextToken();4===n.type&&n.value===t||this.throwUnexpectedToken(n)},Parser.prototype.match=function(t){return 7===this.lookahead.type&&this.lookahead.value===t},Parser.prototype.matchKeyword=function(t){return 4===this.lookahead.type&&this.lookahead.value===t},Parser.prototype.matchContextualKeyword=function(t){return 3===this.lookahead.type&&this.lookahead.value===t},Parser.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var t=this.lookahead.value;return"="===t||"*="===t||"**="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t},Parser.prototype.isolateCoverGrammar=function(t){var n=this.context.isBindingElement,r=this.context.isAssignmentTarget,i=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var o=t.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=n,this.context.isAssignmentTarget=r,this.context.firstCoverInitializedNameError=i,o},Parser.prototype.inheritCoverGrammar=function(t){var n=this.context.isBindingElement,r=this.context.isAssignmentTarget,i=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var o=t.call(this);return this.context.isBindingElement=this.context.isBindingElement&&n,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&r,this.context.firstCoverInitializedNameError=i||this.context.firstCoverInitializedNameError,o},Parser.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},Parser.prototype.parsePrimaryExpression=function(){var t,n,r,i=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),t=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(i,new c.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,a.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,n=this.nextToken(),r=this.getTokenRaw(n),t=this.finalize(i,new c.Literal(n.value,r));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,n=this.nextToken(),r=this.getTokenRaw(n),t=this.finalize(i,new c.Literal("true"===n.value,r));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,n=this.nextToken(),r=this.getTokenRaw(n),t=this.finalize(i,new c.Literal(null,r));break;case 10:t=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,t=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":t=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":t=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,n=this.nextRegexToken(),r=this.getTokenRaw(n),t=this.finalize(i,new c.RegexLiteral(n.regex,r,n.pattern,n.flags));break;default:t=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?t=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?t=this.finalize(i,new c.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?t=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),t=this.finalize(i,new c.ThisExpression)):t=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:t=this.throwUnexpectedToken(this.nextToken())}return t},Parser.prototype.parseSpreadElement=function(){var t=this.createNode();this.expect("...");var n=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(t,new c.SpreadElement(n))},Parser.prototype.parseArrayInitializer=function(){var t=this.createNode(),n=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),n.push(null);else if(this.match("...")){var r=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),n.push(r)}else n.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(t,new c.ArrayExpression(n))},Parser.prototype.parsePropertyMethod=function(t){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=this.context.strict,r=this.context.allowStrictDirective;this.context.allowStrictDirective=t.simple;var i=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&t.firstRestricted&&this.tolerateUnexpectedToken(t.firstRestricted,t.message),this.context.strict&&t.stricted&&this.tolerateUnexpectedToken(t.stricted,t.message),this.context.strict=n,this.context.allowStrictDirective=r,i},Parser.prototype.parsePropertyMethodFunction=function(){var t=this.createNode(),n=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(t,new c.FunctionExpression(null,r.params,i,!1))},Parser.prototype.parsePropertyMethodAsyncFunction=function(){var t=this.createNode(),n=this.context.allowYield,r=this.context.await;this.context.allowYield=!1,this.context.await=!0;var i=this.parseFormalParameters(),o=this.parsePropertyMethod(i);return this.context.allowYield=n,this.context.await=r,this.finalize(t,new c.AsyncFunctionExpression(null,i.params,o))},Parser.prototype.parseObjectPropertyKey=function(){var t,n=this.createNode(),r=this.nextToken();switch(r.type){case 8:case 6:this.context.strict&&r.octal&&this.tolerateUnexpectedToken(r,a.Messages.StrictOctalLiteral);var i=this.getTokenRaw(r);t=this.finalize(n,new c.Literal(r.value,i));break;case 3:case 1:case 5:case 4:t=this.finalize(n,new c.Identifier(r.value));break;case 7:"["===r.value?(t=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):t=this.throwUnexpectedToken(r);break;default:t=this.throwUnexpectedToken(r)}return t},Parser.prototype.isPropertyKey=function(t,n){return t.type===l.Syntax.Identifier&&t.name===n||t.type===l.Syntax.Literal&&t.value===n},Parser.prototype.parseObjectProperty=function(t){var n,r=this.createNode(),i=this.lookahead,o=null,u=null,l=!1,p=!1,d=!1,h=!1;if(3===i.type){var m=i.value;this.nextToken(),l=this.match("["),o=(h=!(this.hasLineTerminator||"async"!==m||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(r,new c.Identifier(m))}else this.match("*")?this.nextToken():(l=this.match("["),o=this.parseObjectPropertyKey());var g=this.qualifiedPropertyName(this.lookahead);if(3===i.type&&!h&&"get"===i.value&&g)n="get",l=this.match("["),o=this.parseObjectPropertyKey(),this.context.allowYield=!1,u=this.parseGetterMethod();else if(3===i.type&&!h&&"set"===i.value&&g)n="set",l=this.match("["),o=this.parseObjectPropertyKey(),u=this.parseSetterMethod();else if(7===i.type&&"*"===i.value&&g)n="init",l=this.match("["),o=this.parseObjectPropertyKey(),u=this.parseGeneratorMethod(),p=!0;else if(o||this.throwUnexpectedToken(this.lookahead),n="init",this.match(":")&&!h)!l&&this.isPropertyKey(o,"__proto__")&&(t.value&&this.tolerateError(a.Messages.DuplicateProtoProperty),t.value=!0),this.nextToken(),u=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))u=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),p=!0;else if(3===i.type){m=this.finalize(r,new c.Identifier(i.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),d=!0;var y=this.isolateCoverGrammar(this.parseAssignmentExpression);u=this.finalize(r,new c.AssignmentPattern(m,y))}else d=!0,u=m}else this.throwUnexpectedToken(this.nextToken());return this.finalize(r,new c.Property(n,o,l,u,p,d))},Parser.prototype.parseObjectInitializer=function(){var t=this.createNode();this.expect("{");for(var n=[],r={value:!1};!this.match("}");)n.push(this.parseObjectProperty(r)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(t,new c.ObjectExpression(n))},Parser.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var t=this.createNode(),n=this.nextToken(),r=n.value,o=n.cooked;return this.finalize(t,new c.TemplateElement({raw:r,cooked:o},n.tail))},Parser.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var t=this.createNode(),n=this.nextToken(),r=n.value,i=n.cooked;return this.finalize(t,new c.TemplateElement({raw:r,cooked:i},n.tail))},Parser.prototype.parseTemplateLiteral=function(){var t=this.createNode(),n=[],r=[],i=this.parseTemplateHead();for(r.push(i);!i.tail;)n.push(this.parseExpression()),i=this.parseTemplateElement(),r.push(i);return this.finalize(t,new c.TemplateLiteral(r,n))},Parser.prototype.reinterpretExpressionAsPattern=function(t){switch(t.type){case l.Syntax.Identifier:case l.Syntax.MemberExpression:case l.Syntax.RestElement:case l.Syntax.AssignmentPattern:break;case l.Syntax.SpreadElement:t.type=l.Syntax.RestElement,this.reinterpretExpressionAsPattern(t.argument);break;case l.Syntax.ArrayExpression:t.type=l.Syntax.ArrayPattern;for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.reinterpretExpressionAsPattern(t.elements[n]);break;case l.Syntax.ObjectExpression:t.type=l.Syntax.ObjectPattern;for(n=0;n<t.properties.length;n++)this.reinterpretExpressionAsPattern(t.properties[n].value);break;case l.Syntax.AssignmentExpression:t.type=l.Syntax.AssignmentPattern,delete t.operator,this.reinterpretExpressionAsPattern(t.left)}},Parser.prototype.parseGroupExpression=function(){var t;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),t={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var n=this.lookahead,r=[];if(this.match("..."))t=this.parseRestElement(r),this.expect(")"),this.match("=>")||this.expect("=>"),t={type:"ArrowParameterPlaceHolder",params:[t],async:!1};else{var i=!1;if(this.context.isBindingElement=!0,t=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var o=[];for(this.context.isAssignmentTarget=!1,o.push(t);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var a=0;a<o.length;a++)this.reinterpretExpressionAsPattern(o[a]);i=!0,t={type:"ArrowParameterPlaceHolder",params:o,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),o.push(this.parseRestElement(r)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(a=0;a<o.length;a++)this.reinterpretExpressionAsPattern(o[a]);i=!0,t={type:"ArrowParameterPlaceHolder",params:o,async:!1}}else o.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(i)break}i||(t=this.finalize(this.startNode(n),new c.SequenceExpression(o)))}if(!i){if(this.expect(")"),this.match("=>")&&(t.type===l.Syntax.Identifier&&"yield"===t.name&&(i=!0,t={type:"ArrowParameterPlaceHolder",params:[t],async:!1}),!i)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),t.type===l.Syntax.SequenceExpression)for(a=0;a<t.expressions.length;a++)this.reinterpretExpressionAsPattern(t.expressions[a]);else this.reinterpretExpressionAsPattern(t);t={type:"ArrowParameterPlaceHolder",params:t.type===l.Syntax.SequenceExpression?t.expressions:[t],async:!1}}this.context.isBindingElement=!1}}}return t},Parser.prototype.parseArguments=function(){this.expect("(");var t=[];if(!this.match(")"))for(;;){var n=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(t.push(n),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),t},Parser.prototype.isIdentifierName=function(t){return 3===t.type||4===t.type||1===t.type||5===t.type},Parser.prototype.parseIdentifierName=function(){var t=this.createNode(),n=this.nextToken();return this.isIdentifierName(n)||this.throwUnexpectedToken(n),this.finalize(t,new c.Identifier(n.value))},Parser.prototype.parseNewExpression=function(){var t,n=this.createNode(),r=this.parseIdentifierName();if(i.assert("new"===r.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var o=this.parseIdentifierName();t=new c.MetaProperty(r,o)}else this.throwUnexpectedToken(this.lookahead);else{var a=this.isolateCoverGrammar(this.parseLeftHandSideExpression),u=this.match("(")?this.parseArguments():[];t=new c.NewExpression(a,u),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(n,t)},Parser.prototype.parseAsyncArgument=function(){var t=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,t},Parser.prototype.parseAsyncArguments=function(){this.expect("(");var t=[];if(!this.match(")"))for(;;){var n=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(t.push(n),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),t},Parser.prototype.parseLeftHandSideExpressionAllowCall=function(){var t,n=this.lookahead,r=this.matchContextualKeyword("async"),i=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(t=this.createNode(),this.nextToken(),t=this.finalize(t,new c.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):t=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var o=this.parseIdentifierName();t=this.finalize(this.startNode(n),new c.StaticMemberExpression(t,o))}else if(this.match("(")){var a=r&&n.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var u=a?this.parseAsyncArguments():this.parseArguments();if(t=this.finalize(this.startNode(n),new c.CallExpression(t,u)),a&&this.match("=>")){for(var l=0;l<u.length;++l)this.reinterpretExpressionAsPattern(u[l]);t={type:"ArrowParameterPlaceHolder",params:u,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");o=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(this.startNode(n),new c.ComputedMemberExpression(t,o))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var p=this.parseTemplateLiteral();t=this.finalize(this.startNode(n),new c.TaggedTemplateExpression(t,p))}return this.context.allowIn=i,t},Parser.prototype.parseSuper=function(){var t=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(t,new c.Super)},Parser.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var t=this.startNode(this.lookahead),n=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var r=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),n=this.finalize(t,new c.ComputedMemberExpression(n,r))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");r=this.parseIdentifierName();n=this.finalize(t,new c.StaticMemberExpression(n,r))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var o=this.parseTemplateLiteral();n=this.finalize(t,new c.TaggedTemplateExpression(n,o))}return n},Parser.prototype.parseUpdateExpression=function(){var t,n=this.lookahead;if(this.match("++")||this.match("--")){var r=this.startNode(n),i=this.nextToken();t=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&t.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(t.name)&&this.tolerateError(a.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment);var o=!0;t=this.finalize(r,new c.UpdateExpression(i.value,t,o)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(t=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&t.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(t.name)&&this.tolerateError(a.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var u=this.nextToken().value;o=!1;t=this.finalize(this.startNode(n),new c.UpdateExpression(u,t,o))}return t},Parser.prototype.parseAwaitExpression=function(){var t=this.createNode();this.nextToken();var n=this.parseUnaryExpression();return this.finalize(t,new c.AwaitExpression(n))},Parser.prototype.parseUnaryExpression=function(){var t;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var n=this.startNode(this.lookahead),r=this.nextToken();t=this.inheritCoverGrammar(this.parseUnaryExpression),t=this.finalize(n,new c.UnaryExpression(r.value,t)),this.context.strict&&"delete"===t.operator&&t.argument.type===l.Syntax.Identifier&&this.tolerateError(a.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else t=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return t},Parser.prototype.parseExponentiationExpression=function(){var t=this.lookahead,n=this.inheritCoverGrammar(this.parseUnaryExpression);if(n.type!==l.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=n,i=this.isolateCoverGrammar(this.parseExponentiationExpression);n=this.finalize(this.startNode(t),new c.BinaryExpression("**",r,i))}return n},Parser.prototype.binaryPrecedence=function(t){var n=t.value;return 7===t.type?this.operatorPrecedence[n]||0:4===t.type&&("instanceof"===n||this.context.allowIn&&"in"===n)?7:0},Parser.prototype.parseBinaryExpression=function(){var t=this.lookahead,n=this.inheritCoverGrammar(this.parseExponentiationExpression),r=this.lookahead,i=this.binaryPrecedence(r);if(i>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var o=[t,this.lookahead],a=n,u=this.isolateCoverGrammar(this.parseExponentiationExpression),l=[a,r.value,u],p=[i];!((i=this.binaryPrecedence(this.lookahead))<=0);){for(;l.length>2&&i<=p[p.length-1];){u=l.pop();var d=l.pop();p.pop(),a=l.pop(),o.pop();var h=this.startNode(o[o.length-1]);l.push(this.finalize(h,new c.BinaryExpression(d,a,u)))}l.push(this.nextToken().value),p.push(i),o.push(this.lookahead),l.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var m=l.length-1;n=l[m];for(var g=o.pop();m>1;){var y=o.pop(),v=g&&g.lineStart;h=this.startNode(y,v),d=l[m-1];n=this.finalize(h,new c.BinaryExpression(d,l[m-2],n)),m-=2,g=y}}return n},Parser.prototype.parseConditionalExpression=function(){var t=this.lookahead,n=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var r=this.context.allowIn;this.context.allowIn=!0;var i=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=r,this.expect(":");var o=this.isolateCoverGrammar(this.parseAssignmentExpression);n=this.finalize(this.startNode(t),new c.ConditionalExpression(n,i,o)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return n},Parser.prototype.checkPatternParam=function(t,n){switch(n.type){case l.Syntax.Identifier:this.validateParam(t,n,n.name);break;case l.Syntax.RestElement:this.checkPatternParam(t,n.argument);break;case l.Syntax.AssignmentPattern:this.checkPatternParam(t,n.left);break;case l.Syntax.ArrayPattern:for(var r=0;r<n.elements.length;r++)null!==n.elements[r]&&this.checkPatternParam(t,n.elements[r]);break;case l.Syntax.ObjectPattern:for(r=0;r<n.properties.length;r++)this.checkPatternParam(t,n.properties[r].value)}t.simple=t.simple&&n instanceof c.Identifier},Parser.prototype.reinterpretAsCoverFormalsList=function(t){var n,r=[t],i=!1;switch(t.type){case l.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":r=t.params,i=t.async;break;default:return null}n={simple:!0,paramSet:{}};for(var o=0;o<r.length;++o){(c=r[o]).type===l.Syntax.AssignmentPattern?c.right.type===l.Syntax.YieldExpression&&(c.right.argument&&this.throwUnexpectedToken(this.lookahead),c.right.type=l.Syntax.Identifier,c.right.name="yield",delete c.right.argument,delete c.right.delegate):i&&c.type===l.Syntax.Identifier&&"await"===c.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(n,c),r[o]=c}if(this.context.strict||!this.context.allowYield)for(o=0;o<r.length;++o){var c;(c=r[o]).type===l.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(n.message===a.Messages.StrictParamDupe){var u=this.context.strict?n.stricted:n.firstRestricted;this.throwUnexpectedToken(u,n.message)}return{simple:n.simple,params:r,stricted:n.stricted,firstRestricted:n.firstRestricted,message:n.message}},Parser.prototype.parseAssignmentExpression=function(){var t;if(!this.context.allowYield&&this.matchKeyword("yield"))t=this.parseYieldExpression();else{var n=this.lookahead,r=n;if(t=this.parseConditionalExpression(),3===r.type&&r.lineNumber===this.lookahead.lineNumber&&"async"===r.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var i=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(i),t={type:"ArrowParameterPlaceHolder",params:[i],async:!0}}if("ArrowParameterPlaceHolder"===t.type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var o=t.async,u=this.reinterpretAsCoverFormalsList(t);if(u){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var p=this.context.strict,d=this.context.allowStrictDirective;this.context.allowStrictDirective=u.simple;var h=this.context.allowYield,m=this.context.await;this.context.allowYield=!0,this.context.await=o;var g=this.startNode(n);this.expect("=>");var y=void 0;if(this.match("{")){var v=this.context.allowIn;this.context.allowIn=!0,y=this.parseFunctionSourceElements(),this.context.allowIn=v}else y=this.isolateCoverGrammar(this.parseAssignmentExpression);var x=y.type!==l.Syntax.BlockStatement;this.context.strict&&u.firstRestricted&&this.throwUnexpectedToken(u.firstRestricted,u.message),this.context.strict&&u.stricted&&this.tolerateUnexpectedToken(u.stricted,u.message),t=o?this.finalize(g,new c.AsyncArrowFunctionExpression(u.params,y,x)):this.finalize(g,new c.ArrowFunctionExpression(u.params,y,x)),this.context.strict=p,this.context.allowStrictDirective=d,this.context.allowYield=h,this.context.await=m}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment),this.context.strict&&t.type===l.Syntax.Identifier){var C=t;this.scanner.isRestrictedWord(C.name)&&this.tolerateUnexpectedToken(r,a.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(C.name)&&this.tolerateUnexpectedToken(r,a.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(t):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var b=(r=this.nextToken()).value,w=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(n),new c.AssignmentExpression(b,t,w)),this.context.firstCoverInitializedNameError=null}}return t},Parser.prototype.parseExpression=function(){var t=this.lookahead,n=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var r=[];for(r.push(n);2!==this.lookahead.type&&this.match(",");)this.nextToken(),r.push(this.isolateCoverGrammar(this.parseAssignmentExpression));n=this.finalize(this.startNode(t),new c.SequenceExpression(r))}return n},Parser.prototype.parseStatementListItem=function(){var t;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,a.Messages.IllegalExportDeclaration),t=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,a.Messages.IllegalImportDeclaration),t=this.parseImportDeclaration();break;case"const":t=this.parseLexicalDeclaration({inFor:!1});break;case"function":t=this.parseFunctionDeclaration();break;case"class":t=this.parseClassDeclaration();break;case"let":t=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:t=this.parseStatement()}else t=this.parseStatement();return t},Parser.prototype.parseBlock=function(){var t=this.createNode();this.expect("{");for(var n=[];!this.match("}");)n.push(this.parseStatementListItem());return this.expect("}"),this.finalize(t,new c.BlockStatement(n))},Parser.prototype.parseLexicalBinding=function(t,n){var r=this.createNode(),i=this.parsePattern([],t);this.context.strict&&i.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(a.Messages.StrictVarName);var o=null;return"const"===t?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),o=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(a.Messages.DeclarationMissingInitializer,"const")):(!n.inFor&&i.type!==l.Syntax.Identifier||this.match("="))&&(this.expect("="),o=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(r,new c.VariableDeclarator(i,o))},Parser.prototype.parseBindingList=function(t,n){for(var r=[this.parseLexicalBinding(t,n)];this.match(",");)this.nextToken(),r.push(this.parseLexicalBinding(t,n));return r},Parser.prototype.isLexicalDeclaration=function(){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();return this.scanner.restoreState(t),3===n.type||7===n.type&&"["===n.value||7===n.type&&"{"===n.value||4===n.type&&"let"===n.value||4===n.type&&"yield"===n.value},Parser.prototype.parseLexicalDeclaration=function(t){var n=this.createNode(),r=this.nextToken().value;i.assert("let"===r||"const"===r,"Lexical declaration must be either let or const");var o=this.parseBindingList(r,t);return this.consumeSemicolon(),this.finalize(n,new c.VariableDeclaration(o,r))},Parser.prototype.parseBindingRestElement=function(t,n){var r=this.createNode();this.expect("...");var i=this.parsePattern(t,n);return this.finalize(r,new c.RestElement(i))},Parser.prototype.parseArrayPattern=function(t,n){var r=this.createNode();this.expect("[");for(var i=[];!this.match("]");)if(this.match(","))this.nextToken(),i.push(null);else{if(this.match("...")){i.push(this.parseBindingRestElement(t,n));break}i.push(this.parsePatternWithDefault(t,n)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(r,new c.ArrayPattern(i))},Parser.prototype.parsePropertyPattern=function(t,n){var r,i,o=this.createNode(),a=!1,u=!1;if(3===this.lookahead.type){var l=this.lookahead;r=this.parseVariableIdentifier();var p=this.finalize(o,new c.Identifier(l.value));if(this.match("=")){t.push(l),u=!0,this.nextToken();var d=this.parseAssignmentExpression();i=this.finalize(this.startNode(l),new c.AssignmentPattern(p,d))}else this.match(":")?(this.expect(":"),i=this.parsePatternWithDefault(t,n)):(t.push(l),u=!0,i=p)}else a=this.match("["),r=this.parseObjectPropertyKey(),this.expect(":"),i=this.parsePatternWithDefault(t,n);return this.finalize(o,new c.Property("init",r,a,i,!1,u))},Parser.prototype.parseObjectPattern=function(t,n){var r=this.createNode(),i=[];for(this.expect("{");!this.match("}");)i.push(this.parsePropertyPattern(t,n)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(r,new c.ObjectPattern(i))},Parser.prototype.parsePattern=function(t,n){var r;return this.match("[")?r=this.parseArrayPattern(t,n):this.match("{")?r=this.parseObjectPattern(t,n):(!this.matchKeyword("let")||"const"!==n&&"let"!==n||this.tolerateUnexpectedToken(this.lookahead,a.Messages.LetInLexicalBinding),t.push(this.lookahead),r=this.parseVariableIdentifier(n)),r},Parser.prototype.parsePatternWithDefault=function(t,n){var r=this.lookahead,i=this.parsePattern(t,n);if(this.match("=")){this.nextToken();var o=this.context.allowYield;this.context.allowYield=!0;var a=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=o,i=this.finalize(this.startNode(r),new c.AssignmentPattern(i,a))}return i},Parser.prototype.parseVariableIdentifier=function(t){var n=this.createNode(),r=this.nextToken();return 4===r.type&&"yield"===r.value?this.context.strict?this.tolerateUnexpectedToken(r,a.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(r):3!==r.type?this.context.strict&&4===r.type&&this.scanner.isStrictModeReservedWord(r.value)?this.tolerateUnexpectedToken(r,a.Messages.StrictReservedWord):(this.context.strict||"let"!==r.value||"var"!==t)&&this.throwUnexpectedToken(r):(this.context.isModule||this.context.await)&&3===r.type&&"await"===r.value&&this.tolerateUnexpectedToken(r),this.finalize(n,new c.Identifier(r.value))},Parser.prototype.parseVariableDeclaration=function(t){var n=this.createNode(),r=this.parsePattern([],"var");this.context.strict&&r.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(a.Messages.StrictVarName);var i=null;return this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):r.type===l.Syntax.Identifier||t.inFor||this.expect("="),this.finalize(n,new c.VariableDeclarator(r,i))},Parser.prototype.parseVariableDeclarationList=function(t){var n={inFor:t.inFor},r=[];for(r.push(this.parseVariableDeclaration(n));this.match(",");)this.nextToken(),r.push(this.parseVariableDeclaration(n));return r},Parser.prototype.parseVariableStatement=function(){var t=this.createNode();this.expectKeyword("var");var n=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(t,new c.VariableDeclaration(n,"var"))},Parser.prototype.parseEmptyStatement=function(){var t=this.createNode();return this.expect(";"),this.finalize(t,new c.EmptyStatement)},Parser.prototype.parseExpressionStatement=function(){var t=this.createNode(),n=this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new c.ExpressionStatement(n))},Parser.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(a.Messages.StrictFunction),this.parseStatement()},Parser.prototype.parseIfStatement=function(){var t,n=this.createNode(),r=null;this.expectKeyword("if"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new c.EmptyStatement)):(this.expect(")"),t=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),r=this.parseIfClause())),this.finalize(n,new c.IfStatement(i,t,r))},Parser.prototype.parseDoWhileStatement=function(){var t=this.createNode();this.expectKeyword("do");var n=this.context.inIteration;this.context.inIteration=!0;var r=this.parseStatement();this.context.inIteration=n,this.expectKeyword("while"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(t,new c.DoWhileStatement(r,i))},Parser.prototype.parseWhileStatement=function(){var t,n=this.createNode();this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new c.EmptyStatement);else{this.expect(")");var i=this.context.inIteration;this.context.inIteration=!0,t=this.parseStatement(),this.context.inIteration=i}return this.finalize(n,new c.WhileStatement(r,t))},Parser.prototype.parseForStatement=function(){var t,n,r,i=null,o=null,u=null,p=!0,d=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){i=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var m=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===m.length&&this.matchKeyword("in")){var g=m[0];g.init&&(g.id.type===l.Syntax.ArrayPattern||g.id.type===l.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(a.Messages.ForInOfLoopInitializer,"for-in"),i=this.finalize(i,new c.VariableDeclaration(m,"var")),this.nextToken(),t=i,n=this.parseExpression(),i=null}else 1===m.length&&null===m[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new c.VariableDeclaration(m,"var")),this.nextToken(),t=i,n=this.parseAssignmentExpression(),i=null,p=!1):(i=this.finalize(i,new c.VariableDeclaration(m,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){i=this.createNode();var y=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){h=this.context.allowIn;this.context.allowIn=!1;m=this.parseBindingList(y,{inFor:!0});this.context.allowIn=h,1===m.length&&null===m[0].init&&this.matchKeyword("in")?(i=this.finalize(i,new c.VariableDeclaration(m,y)),this.nextToken(),t=i,n=this.parseExpression(),i=null):1===m.length&&null===m[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new c.VariableDeclaration(m,y)),this.nextToken(),t=i,n=this.parseAssignmentExpression(),i=null,p=!1):(this.consumeSemicolon(),i=this.finalize(i,new c.VariableDeclaration(m,y)))}else i=this.finalize(i,new c.Identifier(y)),this.nextToken(),t=i,n=this.parseExpression(),i=null}else{var v=this.lookahead;h=this.context.allowIn;if(this.context.allowIn=!1,i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword("in"))this.context.isAssignmentTarget&&i.type!==l.Syntax.AssignmentExpression||this.tolerateError(a.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(i),t=i,n=this.parseExpression(),i=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&i.type!==l.Syntax.AssignmentExpression||this.tolerateError(a.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(i),t=i,n=this.parseAssignmentExpression(),i=null,p=!1;else{if(this.match(",")){for(var x=[i];this.match(",");)this.nextToken(),x.push(this.isolateCoverGrammar(this.parseAssignmentExpression));i=this.finalize(this.startNode(v),new c.SequenceExpression(x))}this.expect(";")}}if(void 0===t&&(this.match(";")||(o=this.parseExpression()),this.expect(";"),this.match(")")||(u=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),r=this.finalize(this.createNode(),new c.EmptyStatement);else{this.expect(")");var C=this.context.inIteration;this.context.inIteration=!0,r=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=C}return void 0===t?this.finalize(d,new c.ForStatement(i,o,u,r)):p?this.finalize(d,new c.ForInStatement(t,n,r)):this.finalize(d,new c.ForOfStatement(t,n,r))},Parser.prototype.parseContinueStatement=function(){var t=this.createNode();this.expectKeyword("continue");var n=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var r=this.parseVariableIdentifier();n=r;var i="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(a.Messages.UnknownLabel,r.name)}return this.consumeSemicolon(),null!==n||this.context.inIteration||this.throwError(a.Messages.IllegalContinue),this.finalize(t,new c.ContinueStatement(n))},Parser.prototype.parseBreakStatement=function(){var t=this.createNode();this.expectKeyword("break");var n=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var r=this.parseVariableIdentifier(),i="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(a.Messages.UnknownLabel,r.name),n=r}return this.consumeSemicolon(),null!==n||this.context.inIteration||this.context.inSwitch||this.throwError(a.Messages.IllegalBreak),this.finalize(t,new c.BreakStatement(n))},Parser.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(a.Messages.IllegalReturn);var t=this.createNode();this.expectKeyword("return");var n=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type||8===this.lookahead.type||10===this.lookahead.type?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(t,new c.ReturnStatement(n))},Parser.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(a.Messages.StrictModeWith);var t,n=this.createNode();this.expectKeyword("with"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new c.EmptyStatement)):(this.expect(")"),t=this.parseStatement()),this.finalize(n,new c.WithStatement(r,t))},Parser.prototype.parseSwitchCase=function(){var t,n=this.createNode();this.matchKeyword("default")?(this.nextToken(),t=null):(this.expectKeyword("case"),t=this.parseExpression()),this.expect(":");for(var r=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)r.push(this.parseStatementListItem());return this.finalize(n,new c.SwitchCase(t,r))},Parser.prototype.parseSwitchStatement=function(){var t=this.createNode();this.expectKeyword("switch"),this.expect("(");var n=this.parseExpression();this.expect(")");var r=this.context.inSwitch;this.context.inSwitch=!0;var i=[],o=!1;for(this.expect("{");!this.match("}");){var u=this.parseSwitchCase();null===u.test&&(o&&this.throwError(a.Messages.MultipleDefaultsInSwitch),o=!0),i.push(u)}return this.expect("}"),this.context.inSwitch=r,this.finalize(t,new c.SwitchStatement(n,i))},Parser.prototype.parseLabelledStatement=function(){var t,n=this.createNode(),r=this.parseExpression();if(r.type===l.Syntax.Identifier&&this.match(":")){this.nextToken();var i=r,o="$"+i.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,o)&&this.throwError(a.Messages.Redeclaration,"Label",i.name),this.context.labelSet[o]=!0;var u=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),u=this.parseClassDeclaration();else if(this.matchKeyword("function")){var p=this.lookahead,d=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(p,a.Messages.StrictFunction):d.generator&&this.tolerateUnexpectedToken(p,a.Messages.GeneratorInLegacyContext),u=d}else u=this.parseStatement();delete this.context.labelSet[o],t=new c.LabeledStatement(i,u)}else this.consumeSemicolon(),t=new c.ExpressionStatement(r);return this.finalize(n,t)},Parser.prototype.parseThrowStatement=function(){var t=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(a.Messages.NewlineAfterThrow);var n=this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new c.ThrowStatement(n))},Parser.prototype.parseCatchClause=function(){var t=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var n=[],r=this.parsePattern(n),i={},o=0;o<n.length;o++){var u="$"+n[o].value;Object.prototype.hasOwnProperty.call(i,u)&&this.tolerateError(a.Messages.DuplicateBinding,n[o].value),i[u]=!0}this.context.strict&&r.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(a.Messages.StrictCatchVariable),this.expect(")");var p=this.parseBlock();return this.finalize(t,new c.CatchClause(r,p))},Parser.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},Parser.prototype.parseTryStatement=function(){var t=this.createNode();this.expectKeyword("try");var n=this.parseBlock(),r=this.matchKeyword("catch")?this.parseCatchClause():null,i=this.matchKeyword("finally")?this.parseFinallyClause():null;return r||i||this.throwError(a.Messages.NoCatchOrFinally),this.finalize(t,new c.TryStatement(n,r,i))},Parser.prototype.parseDebuggerStatement=function(){var t=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(t,new c.DebuggerStatement)},Parser.prototype.parseStatement=function(){var t;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:t=this.parseExpressionStatement();break;case 7:var n=this.lookahead.value;t="{"===n?this.parseBlock():"("===n?this.parseExpressionStatement():";"===n?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:t=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":t=this.parseBreakStatement();break;case"continue":t=this.parseContinueStatement();break;case"debugger":t=this.parseDebuggerStatement();break;case"do":t=this.parseDoWhileStatement();break;case"for":t=this.parseForStatement();break;case"function":t=this.parseFunctionDeclaration();break;case"if":t=this.parseIfStatement();break;case"return":t=this.parseReturnStatement();break;case"switch":t=this.parseSwitchStatement();break;case"throw":t=this.parseThrowStatement();break;case"try":t=this.parseTryStatement();break;case"var":t=this.parseVariableStatement();break;case"while":t=this.parseWhileStatement();break;case"with":t=this.parseWithStatement();break;default:t=this.parseExpressionStatement()}break;default:t=this.throwUnexpectedToken(this.lookahead)}return t},Parser.prototype.parseFunctionSourceElements=function(){var t=this.createNode();this.expect("{");var n=this.parseDirectivePrologues(),r=this.context.labelSet,i=this.context.inIteration,o=this.context.inSwitch,a=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)n.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=r,this.context.inIteration=i,this.context.inSwitch=o,this.context.inFunctionBody=a,this.finalize(t,new c.BlockStatement(n))},Parser.prototype.validateParam=function(t,n,r){var i="$"+r;this.context.strict?(this.scanner.isRestrictedWord(r)&&(t.stricted=n,t.message=a.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(t.paramSet,i)&&(t.stricted=n,t.message=a.Messages.StrictParamDupe)):t.firstRestricted||(this.scanner.isRestrictedWord(r)?(t.firstRestricted=n,t.message=a.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(r)?(t.firstRestricted=n,t.message=a.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(t.paramSet,i)&&(t.stricted=n,t.message=a.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(t.paramSet,i,{value:!0,enumerable:!0,writable:!0,configurable:!0}):t.paramSet[i]=!0},Parser.prototype.parseRestElement=function(t){var n=this.createNode();this.expect("...");var r=this.parsePattern(t);return this.match("=")&&this.throwError(a.Messages.DefaultRestParameter),this.match(")")||this.throwError(a.Messages.ParameterAfterRestParameter),this.finalize(n,new c.RestElement(r))},Parser.prototype.parseFormalParameter=function(t){for(var n=[],r=this.match("...")?this.parseRestElement(n):this.parsePatternWithDefault(n),i=0;i<n.length;i++)this.validateParam(t,n[i],n[i].value);t.simple=t.simple&&r instanceof c.Identifier,t.params.push(r)},Parser.prototype.parseFormalParameters=function(t){var n;if(n={simple:!0,params:[],firstRestricted:t},this.expect("("),!this.match(")"))for(n.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(n),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:n.simple,params:n.params,stricted:n.stricted,firstRestricted:n.firstRestricted,message:n.message}},Parser.prototype.matchAsyncFunction=function(){var t=this.matchContextualKeyword("async");if(t){var n=this.scanner.saveState();this.scanner.scanComments();var r=this.scanner.lex();this.scanner.restoreState(n),t=n.lineNumber===r.lineNumber&&4===r.type&&"function"===r.value}return t},Parser.prototype.parseFunctionDeclaration=function(t){var n=this.createNode(),r=this.matchContextualKeyword("async");r&&this.nextToken(),this.expectKeyword("function");var i,o=!r&&this.match("*");o&&this.nextToken();var u=null,l=null;if(!t||!this.match("(")){var p=this.lookahead;u=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(p.value)&&this.tolerateUnexpectedToken(p,a.Messages.StrictFunctionName):this.scanner.isRestrictedWord(p.value)?(l=p,i=a.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(p.value)&&(l=p,i=a.Messages.StrictReservedWord)}var d=this.context.await,h=this.context.allowYield;this.context.await=r,this.context.allowYield=!o;var m=this.parseFormalParameters(l),g=m.params,y=m.stricted;l=m.firstRestricted,m.message&&(i=m.message);var v=this.context.strict,x=this.context.allowStrictDirective;this.context.allowStrictDirective=m.simple;var C=this.parseFunctionSourceElements();return this.context.strict&&l&&this.throwUnexpectedToken(l,i),this.context.strict&&y&&this.tolerateUnexpectedToken(y,i),this.context.strict=v,this.context.allowStrictDirective=x,this.context.await=d,this.context.allowYield=h,r?this.finalize(n,new c.AsyncFunctionDeclaration(u,g,C)):this.finalize(n,new c.FunctionDeclaration(u,g,C,o))},Parser.prototype.parseFunctionExpression=function(){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var r,i=!n&&this.match("*");i&&this.nextToken();var o,u=null,l=this.context.await,p=this.context.allowYield;if(this.context.await=n,this.context.allowYield=!i,!this.match("(")){var d=this.lookahead;u=this.context.strict||i||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(d.value)&&this.tolerateUnexpectedToken(d,a.Messages.StrictFunctionName):this.scanner.isRestrictedWord(d.value)?(o=d,r=a.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(d.value)&&(o=d,r=a.Messages.StrictReservedWord)}var h=this.parseFormalParameters(o),m=h.params,g=h.stricted;o=h.firstRestricted,h.message&&(r=h.message);var y=this.context.strict,v=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var x=this.parseFunctionSourceElements();return this.context.strict&&o&&this.throwUnexpectedToken(o,r),this.context.strict&&g&&this.tolerateUnexpectedToken(g,r),this.context.strict=y,this.context.allowStrictDirective=v,this.context.await=l,this.context.allowYield=p,n?this.finalize(t,new c.AsyncFunctionExpression(u,m,x)):this.finalize(t,new c.FunctionExpression(u,m,x,i))},Parser.prototype.parseDirective=function(){var t=this.lookahead,n=this.createNode(),r=this.parseExpression(),i=r.type===l.Syntax.Literal?this.getTokenRaw(t).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(n,i?new c.Directive(r,i):new c.ExpressionStatement(r))},Parser.prototype.parseDirectivePrologues=function(){for(var t=null,n=[];;){var r=this.lookahead;if(8!==r.type)break;var i=this.parseDirective();n.push(i);var o=i.directive;if("string"!=typeof o)break;"use strict"===o?(this.context.strict=!0,t&&this.tolerateUnexpectedToken(t,a.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(r,a.Messages.IllegalLanguageModeDirective)):!t&&r.octal&&(t=r)}return n},Parser.prototype.qualifiedPropertyName=function(t){switch(t.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===t.value}return!1},Parser.prototype.parseGetterMethod=function(){var t=this.createNode(),n=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();r.params.length>0&&this.tolerateError(a.Messages.BadGetterArity);var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(t,new c.FunctionExpression(null,r.params,i,!1))},Parser.prototype.parseSetterMethod=function(){var t=this.createNode(),n=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();1!==r.params.length?this.tolerateError(a.Messages.BadSetterArity):r.params[0]instanceof c.RestElement&&this.tolerateError(a.Messages.BadSetterRestParameter);var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(t,new c.FunctionExpression(null,r.params,i,!1))},Parser.prototype.parseGeneratorMethod=function(){var t=this.createNode(),n=this.context.allowYield;this.context.allowYield=!0;var r=this.parseFormalParameters();this.context.allowYield=!1;var i=this.parsePropertyMethod(r);return this.context.allowYield=n,this.finalize(t,new c.FunctionExpression(null,r.params,i,!0))},Parser.prototype.isStartOfExpression=function(){var t=!0,n=this.lookahead.value;switch(this.lookahead.type){case 7:t="["===n||"("===n||"{"===n||"+"===n||"-"===n||"!"===n||"~"===n||"++"===n||"--"===n||"/"===n||"/="===n;break;case 4:t="class"===n||"delete"===n||"function"===n||"let"===n||"new"===n||"super"===n||"this"===n||"typeof"===n||"void"===n||"yield"===n}return t},Parser.prototype.parseYieldExpression=function(){var t=this.createNode();this.expectKeyword("yield");var n=null,r=!1;if(!this.hasLineTerminator){var i=this.context.allowYield;this.context.allowYield=!1,(r=this.match("*"))?(this.nextToken(),n=this.parseAssignmentExpression()):this.isStartOfExpression()&&(n=this.parseAssignmentExpression()),this.context.allowYield=i}return this.finalize(t,new c.YieldExpression(n,r))},Parser.prototype.parseClassElement=function(t){var n=this.lookahead,r=this.createNode(),i="",o=null,u=null,l=!1,p=!1,d=!1,h=!1;if(this.match("*"))this.nextToken();else if(l=this.match("["),"static"===(o=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(n=this.lookahead,d=!0,l=this.match("["),this.match("*")?this.nextToken():o=this.parseObjectPropertyKey()),3===n.type&&!this.hasLineTerminator&&"async"===n.value){var m=this.lookahead.value;":"!==m&&"("!==m&&"*"!==m&&(h=!0,n=this.lookahead,o=this.parseObjectPropertyKey(),3===n.type&&"constructor"===n.value&&this.tolerateUnexpectedToken(n,a.Messages.ConstructorIsAsync))}var g=this.qualifiedPropertyName(this.lookahead);return 3===n.type?"get"===n.value&&g?(i="get",l=this.match("["),o=this.parseObjectPropertyKey(),this.context.allowYield=!1,u=this.parseGetterMethod()):"set"===n.value&&g&&(i="set",l=this.match("["),o=this.parseObjectPropertyKey(),u=this.parseSetterMethod()):7===n.type&&"*"===n.value&&g&&(i="init",l=this.match("["),o=this.parseObjectPropertyKey(),u=this.parseGeneratorMethod(),p=!0),!i&&o&&this.match("(")&&(i="init",u=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),p=!0),i||this.throwUnexpectedToken(this.lookahead),"init"===i&&(i="method"),l||(d&&this.isPropertyKey(o,"prototype")&&this.throwUnexpectedToken(n,a.Messages.StaticPrototype),!d&&this.isPropertyKey(o,"constructor")&&(("method"!==i||!p||u&&u.generator)&&this.throwUnexpectedToken(n,a.Messages.ConstructorSpecialMethod),t.value?this.throwUnexpectedToken(n,a.Messages.DuplicateConstructor):t.value=!0,i="constructor")),this.finalize(r,new c.MethodDefinition(o,l,u,i,d))},Parser.prototype.parseClassElementList=function(){var t=[],n={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():t.push(this.parseClassElement(n));return this.expect("}"),t},Parser.prototype.parseClassBody=function(){var t=this.createNode(),n=this.parseClassElementList();return this.finalize(t,new c.ClassBody(n))},Parser.prototype.parseClassDeclaration=function(t){var n=this.createNode(),r=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var i=t&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),o=null;this.matchKeyword("extends")&&(this.nextToken(),o=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var a=this.parseClassBody();return this.context.strict=r,this.finalize(n,new c.ClassDeclaration(i,o,a))},Parser.prototype.parseClassExpression=function(){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=3===this.lookahead.type?this.parseVariableIdentifier():null,i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=n,this.finalize(t,new c.ClassExpression(r,i,o))},Parser.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var t=this.createNode(),n=this.parseDirectivePrologues();2!==this.lookahead.type;)n.push(this.parseStatementListItem());return this.finalize(t,new c.Module(n))},Parser.prototype.parseScript=function(){for(var t=this.createNode(),n=this.parseDirectivePrologues();2!==this.lookahead.type;)n.push(this.parseStatementListItem());return this.finalize(t,new c.Script(n))},Parser.prototype.parseModuleSpecifier=function(){var t=this.createNode();8!==this.lookahead.type&&this.throwError(a.Messages.InvalidModuleSpecifier);var n=this.nextToken(),r=this.getTokenRaw(n);return this.finalize(t,new c.Literal(n.value,r))},Parser.prototype.parseImportSpecifier=function(){var t,n,r=this.createNode();return 3===this.lookahead.type?(n=t=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseVariableIdentifier())):(n=t=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),n=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(r,new c.ImportSpecifier(n,t))},Parser.prototype.parseNamedImports=function(){this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),t},Parser.prototype.parseImportDefaultSpecifier=function(){var t=this.createNode(),n=this.parseIdentifierName();return this.finalize(t,new c.ImportDefaultSpecifier(n))},Parser.prototype.parseImportNamespaceSpecifier=function(){var t=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(a.Messages.NoAsAfterImportNamespace),this.nextToken();var n=this.parseIdentifierName();return this.finalize(t,new c.ImportNamespaceSpecifier(n))},Parser.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(a.Messages.IllegalImportDeclaration);var t,n=this.createNode();this.expectKeyword("import");var r=[];if(8===this.lookahead.type)t=this.parseModuleSpecifier();else{if(this.match("{")?r=r.concat(this.parseNamedImports()):this.match("*")?r.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(r.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?r.push(this.parseImportNamespaceSpecifier()):this.match("{")?r=r.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var i=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(n,new c.ImportDeclaration(r,t))},Parser.prototype.parseExportSpecifier=function(){var t=this.createNode(),n=this.parseIdentifierName(),r=n;return this.matchContextualKeyword("as")&&(this.nextToken(),r=this.parseIdentifierName()),this.finalize(t,new c.ExportSpecifier(n,r))},Parser.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(a.Messages.IllegalExportDeclaration);var t,n=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var r=this.parseFunctionDeclaration(!0);t=this.finalize(n,new c.ExportDefaultDeclaration(r))}else if(this.matchKeyword("class")){r=this.parseClassDeclaration(!0);t=this.finalize(n,new c.ExportDefaultDeclaration(r))}else if(this.matchContextualKeyword("async")){r=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();t=this.finalize(n,new c.ExportDefaultDeclaration(r))}else{this.matchContextualKeyword("from")&&this.throwError(a.Messages.UnexpectedToken,this.lookahead.value);r=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),t=this.finalize(n,new c.ExportDefaultDeclaration(r))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var i=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}this.nextToken();var o=this.parseModuleSpecifier();this.consumeSemicolon(),t=this.finalize(n,new c.ExportAllDeclaration(o))}else if(4===this.lookahead.type){r=void 0;switch(this.lookahead.value){case"let":case"const":r=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":r=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}t=this.finalize(n,new c.ExportNamedDeclaration(r,[],null))}else if(this.matchAsyncFunction()){r=this.parseFunctionDeclaration();t=this.finalize(n,new c.ExportNamedDeclaration(r,[],null))}else{var u=[],l=null,p=!1;for(this.expect("{");!this.match("}");)p=p||this.matchKeyword("default"),u.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),l=this.parseModuleSpecifier(),this.consumeSemicolon();else if(p){i=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}else this.consumeSemicolon();t=this.finalize(n,new c.ExportNamedDeclaration(null,u,l))}return t},Parser}();n.Parser=d},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assert=function assert(t,n){if(!t)throw new Error("ASSERT: "+n)}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function ErrorHandler(){this.errors=[],this.tolerant=!1}return ErrorHandler.prototype.recordError=function(t){this.errors.push(t)},ErrorHandler.prototype.tolerate=function(t){if(!this.tolerant)throw t;this.recordError(t)},ErrorHandler.prototype.constructError=function(t,n){var r=new Error(t);try{throw r}catch(t){Object.create&&Object.defineProperty&&(r=Object.create(t),Object.defineProperty(r,"column",{value:n}))}return r},ErrorHandler.prototype.createError=function(t,n,r,i){var o="Line "+n+": "+i,a=this.constructError(o,r);return a.index=t,a.lineNumber=n,a.description=i,a},ErrorHandler.prototype.throwError=function(t,n,r,i){throw this.createError(t,n,r,i)},ErrorHandler.prototype.tolerateError=function(t,n,r,i){var o=this.createError(t,n,r,i);if(!this.tolerant)throw o;this.recordError(o)},ErrorHandler}();n.ErrorHandler=r},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(9),o=r(4),a=r(11);function hexValue(t){return"0123456789abcdef".indexOf(t.toLowerCase())}function octalValue(t){return"01234567".indexOf(t)}var c=function(){function Scanner(t,n){this.source=t,this.errorHandler=n,this.trackComment=!1,this.isModule=!1,this.length=t.length,this.index=0,this.lineNumber=t.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return Scanner.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},Scanner.prototype.restoreState=function(t){this.index=t.index,this.lineNumber=t.lineNumber,this.lineStart=t.lineStart},Scanner.prototype.eof=function(){return this.index>=this.length},Scanner.prototype.throwUnexpectedToken=function(t){return void 0===t&&(t=a.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,t)},Scanner.prototype.tolerateUnexpectedToken=function(t){void 0===t&&(t=a.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,t)},Scanner.prototype.skipSingleLineComment=function(t){var n,r,i=[];for(this.trackComment&&(i=[],n=this.index-t,r={start:{line:this.lineNumber,column:this.index-this.lineStart-t},end:{}});!this.eof();){var a=this.source.charCodeAt(this.index);if(++this.index,o.Character.isLineTerminator(a)){if(this.trackComment){r.end={line:this.lineNumber,column:this.index-this.lineStart-1};var c={multiLine:!1,slice:[n+t,this.index-1],range:[n,this.index-1],loc:r};i.push(c)}return 13===a&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,i}}if(this.trackComment){r.end={line:this.lineNumber,column:this.index-this.lineStart};c={multiLine:!1,slice:[n+t,this.index],range:[n,this.index],loc:r};i.push(c)}return i},Scanner.prototype.skipMultiLineComment=function(){var t,n,r=[];for(this.trackComment&&(r=[],t=this.index-2,n={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(o.Character.isLineTerminator(i))13===i&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===i){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};var a={multiLine:!0,slice:[t+2,this.index-2],range:[t,this.index],loc:n};r.push(a)}return r}++this.index}else++this.index}if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};a={multiLine:!0,slice:[t+2,this.index],range:[t,this.index],loc:n};r.push(a)}return this.tolerateUnexpectedToken(),r},Scanner.prototype.scanComments=function(){var t;this.trackComment&&(t=[]);for(var n=0===this.index;!this.eof();){var r=this.source.charCodeAt(this.index);if(o.Character.isWhiteSpace(r))++this.index;else if(o.Character.isLineTerminator(r))++this.index,13===r&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,n=!0;else if(47===r)if(47===(r=this.source.charCodeAt(this.index+1))){this.index+=2;var i=this.skipSingleLineComment(2);this.trackComment&&(t=t.concat(i)),n=!0}else{if(42!==r)break;this.index+=2;i=this.skipMultiLineComment();this.trackComment&&(t=t.concat(i))}else if(n&&45===r){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;i=this.skipSingleLineComment(3);this.trackComment&&(t=t.concat(i))}else{if(60!==r||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;i=this.skipSingleLineComment(4);this.trackComment&&(t=t.concat(i))}}return t},Scanner.prototype.isFutureReservedWord=function(t){switch(t){case"enum":case"export":case"import":case"super":return!0;default:return!1}},Scanner.prototype.isStrictModeReservedWord=function(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},Scanner.prototype.isRestrictedWord=function(t){return"eval"===t||"arguments"===t},Scanner.prototype.isKeyword=function(t){switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}},Scanner.prototype.codePointAt=function(t){var n=this.source.charCodeAt(t);if(n>=55296&&n<=56319){var r=this.source.charCodeAt(t+1);if(r>=56320&&r<=57343)n=1024*(n-55296)+r-56320+65536}return n},Scanner.prototype.scanHexEscape=function(t){for(var n="u"===t?4:2,r=0,i=0;i<n;++i){if(this.eof()||!o.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;r=16*r+hexValue(this.source[this.index++])}return String.fromCharCode(r)},Scanner.prototype.scanUnicodeCodePointEscape=function(){var t=this.source[this.index],n=0;for("}"===t&&this.throwUnexpectedToken();!this.eof()&&(t=this.source[this.index++],o.Character.isHexDigit(t.charCodeAt(0)));)n=16*n+hexValue(t);return(n>1114111||"}"!==t)&&this.throwUnexpectedToken(),o.Character.fromCodePoint(n)},Scanner.prototype.getIdentifier=function(){for(var t=this.index++;!this.eof();){var n=this.source.charCodeAt(this.index);if(92===n)return this.index=t,this.getComplexIdentifier();if(n>=55296&&n<57343)return this.index=t,this.getComplexIdentifier();if(!o.Character.isIdentifierPart(n))break;++this.index}return this.source.slice(t,this.index)},Scanner.prototype.getComplexIdentifier=function(){var t,n=this.codePointAt(this.index),r=o.Character.fromCodePoint(n);for(this.index+=r.length,92===n&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,t=this.scanUnicodeCodePointEscape()):null!==(t=this.scanHexEscape("u"))&&"\\"!==t&&o.Character.isIdentifierStart(t.charCodeAt(0))||this.throwUnexpectedToken(),r=t);!this.eof()&&(n=this.codePointAt(this.index),o.Character.isIdentifierPart(n));)r+=t=o.Character.fromCodePoint(n),this.index+=t.length,92===n&&(r=r.substr(0,r.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,t=this.scanUnicodeCodePointEscape()):null!==(t=this.scanHexEscape("u"))&&"\\"!==t&&o.Character.isIdentifierPart(t.charCodeAt(0))||this.throwUnexpectedToken(),r+=t);return r},Scanner.prototype.octalToDecimal=function(t){var n="0"!==t,r=octalValue(t);return!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=!0,r=8*r+octalValue(this.source[this.index++]),"0123".indexOf(t)>=0&&!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(r=8*r+octalValue(this.source[this.index++]))),{code:r,octal:n}},Scanner.prototype.scanIdentifier=function(){var t,n=this.index,r=92===this.source.charCodeAt(n)?this.getComplexIdentifier():this.getIdentifier();if(3!==(t=1===r.length?3:this.isKeyword(r)?4:"null"===r?5:"true"===r||"false"===r?1:3)&&n+r.length!==this.index){var i=this.index;this.index=n,this.tolerateUnexpectedToken(a.Messages.InvalidEscapedReservedWord),this.index=i}return{type:t,value:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},Scanner.prototype.scanPunctuator=function(){var t=this.index,n=this.source[this.index];switch(n){case"(":case"{":"{"===n&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,n="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(n=this.source.substr(this.index,4))?this.index+=4:"==="===(n=n.substr(0,3))||"!=="===n||">>>"===n||"<<="===n||">>="===n||"**="===n?this.index+=3:"&&"===(n=n.substr(0,2))||"||"===n||"=="===n||"!="===n||"+="===n||"-="===n||"*="===n||"/="===n||"++"===n||"--"===n||"<<"===n||">>"===n||"&="===n||"|="===n||"^="===n||"%="===n||"<="===n||">="===n||"=>"===n||"**"===n?this.index+=2:(n=this.source[this.index],"<>=!+-*%&|^/".indexOf(n)>=0&&++this.index)}return this.index===t&&this.throwUnexpectedToken(),{type:7,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},Scanner.prototype.scanHexLiteral=function(t){for(var n="";!this.eof()&&o.Character.isHexDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+n,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},Scanner.prototype.scanBinaryLiteral=function(t){for(var n,r="";!this.eof()&&("0"===(n=this.source[this.index])||"1"===n);)r+=this.source[this.index++];return 0===r.length&&this.throwUnexpectedToken(),this.eof()||(n=this.source.charCodeAt(this.index),(o.Character.isIdentifierStart(n)||o.Character.isDecimalDigit(n))&&this.throwUnexpectedToken()),{type:6,value:parseInt(r,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},Scanner.prototype.scanOctalLiteral=function(t,n){var r="",i=!1;for(o.Character.isOctalDigit(t.charCodeAt(0))?(i=!0,r="0"+this.source[this.index++]):++this.index;!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];return i||0!==r.length||this.throwUnexpectedToken(),(o.Character.isIdentifierStart(this.source.charCodeAt(this.index))||o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(r,8),octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},Scanner.prototype.isImplicitOctalLiteral=function(){for(var t=this.index+1;t<this.length;++t){var n=this.source[t];if("8"===n||"9"===n)return!1;if(!o.Character.isOctalDigit(n.charCodeAt(0)))return!0}return!0},Scanner.prototype.scanNumericLiteral=function(){var t=this.index,n=this.source[t];i.assert(o.Character.isDecimalDigit(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point");var r="";if("."!==n){if(r=this.source[this.index++],n=this.source[this.index],"0"===r){if("x"===n||"X"===n)return++this.index,this.scanHexLiteral(t);if("b"===n||"B"===n)return++this.index,this.scanBinaryLiteral(t);if("o"===n||"O"===n)return this.scanOctalLiteral(n,t);if(n&&o.Character.isOctalDigit(n.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(n,t)}for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];n=this.source[this.index]}if("."===n){for(r+=this.source[this.index++];o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];n=this.source[this.index]}if("e"===n||"E"===n)if(r+=this.source[this.index++],"+"!==(n=this.source[this.index])&&"-"!==n||(r+=this.source[this.index++]),o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)r+=this.source[this.index++];else this.throwUnexpectedToken();return o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(r),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},Scanner.prototype.scanStringLiteral=function(){var t=this.index,n=this.source[t];i.assert("'"===n||'"'===n,"String literal must starts with a quote"),++this.index;for(var r=!1,c="";!this.eof();){var u=this.source[this.index++];if(u===n){n="";break}if("\\"===u)if((u=this.source[this.index++])&&o.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case"u":if("{"===this.source[this.index])++this.index,c+=this.scanUnicodeCodePointEscape();else{var l=this.scanHexEscape(u);null===l&&this.throwUnexpectedToken(),c+=l}break;case"x":var p=this.scanHexEscape(u);null===p&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),c+=p;break;case"n":c+="\n";break;case"r":c+="\r";break;case"t":c+="\t";break;case"b":c+="\b";break;case"f":c+="\f";break;case"v":c+="\v";break;case"8":case"9":c+=u,this.tolerateUnexpectedToken();break;default:if(u&&o.Character.isOctalDigit(u.charCodeAt(0))){var d=this.octalToDecimal(u);r=d.octal||r,c+=String.fromCharCode(d.code)}else c+=u}else{if(o.Character.isLineTerminator(u.charCodeAt(0)))break;c+=u}}return""!==n&&(this.index=t,this.throwUnexpectedToken()),{type:8,value:c,octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},Scanner.prototype.scanTemplate=function(){var t="",n=!1,r=this.index,i="`"===this.source[r],c=!1,u=2;for(++this.index;!this.eof();){var l=this.source[this.index++];if("`"===l){u=1,c=!0,n=!0;break}if("$"===l){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,n=!0;break}t+=l}else if("\\"===l)if(l=this.source[this.index++],o.Character.isLineTerminator(l.charCodeAt(0)))++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(l){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"u":if("{"===this.source[this.index])++this.index,t+=this.scanUnicodeCodePointEscape();else{var p=this.index,d=this.scanHexEscape(l);null!==d?t+=d:(this.index=p,t+=l)}break;case"x":var h=this.scanHexEscape(l);null===h&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),t+=h;break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:"0"===l?(o.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral),t+="\0"):o.Character.isOctalDigit(l.charCodeAt(0))?this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral):t+=l}else o.Character.isLineTerminator(l.charCodeAt(0))?(++this.lineNumber,"\r"===l&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,t+="\n"):t+=l}return n||this.throwUnexpectedToken(),i||this.curlyStack.pop(),{type:10,value:this.source.slice(r+1,this.index-u),cooked:t,head:i,tail:c,lineNumber:this.lineNumber,lineStart:this.lineStart,start:r,end:this.index}},Scanner.prototype.testRegExp=function(t,n){var r=t,i=this;n.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(t,n,r){var o=parseInt(n||r,16);return o>1114111&&i.throwUnexpectedToken(a.Messages.InvalidRegExp),o<=65535?String.fromCharCode(o):"￿"})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(r)}catch(t){this.throwUnexpectedToken(a.Messages.InvalidRegExp)}try{return new RegExp(t,n)}catch(t){return null}},Scanner.prototype.scanRegExpBody=function(){var t=this.source[this.index];i.assert("/"===t,"Regular expression literal must start with a slash");for(var n=this.source[this.index++],r=!1,c=!1;!this.eof();)if(n+=t=this.source[this.index++],"\\"===t)t=this.source[this.index++],o.Character.isLineTerminator(t.charCodeAt(0))&&this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),n+=t;else if(o.Character.isLineTerminator(t.charCodeAt(0)))this.throwUnexpectedToken(a.Messages.UnterminatedRegExp);else if(r)"]"===t&&(r=!1);else{if("/"===t){c=!0;break}"["===t&&(r=!0)}return c||this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),n.substr(1,n.length-2)},Scanner.prototype.scanRegExpFlags=function(){for(var t="";!this.eof();){var n=this.source[this.index];if(!o.Character.isIdentifierPart(n.charCodeAt(0)))break;if(++this.index,"\\"!==n||this.eof())t+=n,n;else if("u"===(n=this.source[this.index])){++this.index;var r=this.index,i=this.scanHexEscape("u");if(null!==i)for(t+=i,"\\u";r<this.index;++r)this.source[r];else this.index=r,t+="u","\\u";this.tolerateUnexpectedToken()}else"\\",this.tolerateUnexpectedToken()}return t},Scanner.prototype.scanRegExp=function(){var t=this.index,n=this.scanRegExpBody(),r=this.scanRegExpFlags();return{type:9,value:"",pattern:n,flags:r,regex:this.testRegExp(n,r),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},Scanner.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var t=this.source.charCodeAt(this.index);return o.Character.isIdentifierStart(t)?this.scanIdentifier():40===t||41===t||59===t?this.scanPunctuator():39===t||34===t?this.scanStringLiteral():46===t?o.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():o.Character.isDecimalDigit(t)?this.scanNumericLiteral():96===t||125===t&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():t>=55296&&t<57343&&o.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},Scanner}();n.Scanner=c},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TokenName={},n.TokenName[1]="Boolean",n.TokenName[2]="<end>",n.TokenName[3]="Identifier",n.TokenName[4]="Keyword",n.TokenName[5]="Null",n.TokenName[6]="Numeric",n.TokenName[7]="Punctuator",n.TokenName[8]="String",n.TokenName[9]="RegularExpression",n.TokenName[10]="Template"},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r(10),o=r(12),a=r(13),c=function(){function Reader(){this.values=[],this.curly=this.paren=-1}return Reader.prototype.beforeFunctionExpression=function(t){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(t)>=0},Reader.prototype.isRegexStart=function(){var t=this.values[this.values.length-1],n=null!==t;switch(t){case"this":case"]":n=!1;break;case")":var r=this.values[this.paren-1];n="if"===r||"while"===r||"for"===r||"with"===r;break;case"}":if(n=!1,"function"===this.values[this.curly-3])n=!!(i=this.values[this.curly-4])&&!this.beforeFunctionExpression(i);else if("function"===this.values[this.curly-4]){var i;n=!(i=this.values[this.curly-5])||!this.beforeFunctionExpression(i)}}return n},Reader.prototype.push=function(t){7===t.type||4===t.type?("{"===t.value?this.curly=this.values.length:"("===t.value&&(this.paren=this.values.length),this.values.push(t.value)):this.values.push(null)},Reader}(),u=function(){function Tokenizer(t,n){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=!!n&&("boolean"==typeof n.tolerant&&n.tolerant),this.scanner=new o.Scanner(t,this.errorHandler),this.scanner.trackComment=!!n&&("boolean"==typeof n.comment&&n.comment),this.trackRange=!!n&&("boolean"==typeof n.range&&n.range),this.trackLoc=!!n&&("boolean"==typeof n.loc&&n.loc),this.buffer=[],this.reader=new c}return Tokenizer.prototype.errors=function(){return this.errorHandler.errors},Tokenizer.prototype.getNextToken=function(){if(0===this.buffer.length){var t=this.scanner.scanComments();if(this.scanner.trackComment)for(var n=0;n<t.length;++n){var r=t[n],i=this.scanner.source.slice(r.slice[0],r.slice[1]),o={type:r.multiLine?"BlockComment":"LineComment",value:i};this.trackRange&&(o.range=r.range),this.trackLoc&&(o.loc=r.loc),this.buffer.push(o)}if(!this.scanner.eof()){var c=void 0;this.trackLoc&&(c={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var u="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(u);var l={type:a.TokenName[u.type],value:this.scanner.source.slice(u.start,u.end)};if(this.trackRange&&(l.range=[u.start,u.end]),this.trackLoc&&(c.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},l.loc=c),9===u.type){var p=u.pattern,d=u.flags;l.regex={pattern:p,flags:d}}this.buffer.push(l)}}return this.buffer.shift()},Tokenizer}();n.Tokenizer=u}])}))},function(t,n,r){"use strict";var i=r(25),o=r(30),a=r(37),c=r(31),u=Object.prototype.toString,l=Object.prototype.hasOwnProperty,p={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},d=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function encodeHex(t){var n,r,a;if(n=t.toString(16).toUpperCase(),t<=255)r="x",a=2;else if(t<=65535)r="u",a=4;else{if(!(t<=4294967295))throw new o("code point within a string may not be greater than 0xFFFFFFFF");r="U",a=8}return"\\"+r+i.repeat("0",a-n.length)+n}function State(t){this.schema=t.schema||a,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=i.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function compileStyleMap(t,n){var r,i,o,a,c,u,p;if(null===n)return{};for(r={},o=0,a=(i=Object.keys(n)).length;o<a;o+=1)c=i[o],u=String(n[c]),"!!"===c.slice(0,2)&&(c="tag:yaml.org,2002:"+c.slice(2)),(p=t.compiledTypeMap.fallback[c])&&l.call(p.styleAliases,u)&&(u=p.styleAliases[u]),r[c]=u;return r}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(t,n){for(var r,o=i.repeat(" ",n),a=0,c=-1,u="",l=t.length;a<l;)-1===(c=t.indexOf("\n",a))?(r=t.slice(a),a=l):(r=t.slice(a,c+1),a=c+1),r.length&&"\n"!==r&&(u+=o),u+=r;return u}function generateNextLine(t,n){return"\n"+i.repeat(" ",t.indent*n)}function isWhitespace(t){return 32===t||9===t}function isPrintable(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function isPlainSafe(t,n){return isPrintable(t)&&65279!==t&&44!==t&&91!==t&&93!==t&&123!==t&&125!==t&&58!==t&&(35!==t||n&&function isNsChar(t){return isPrintable(t)&&!isWhitespace(t)&&65279!==t&&13!==t&&10!==t}(n))}function needIndentIndicator(t){return/^\n* /.test(t)}function chooseScalarStyle(t,n,r,i,o){var a,c,u,l=!1,p=!1,d=-1!==i,h=-1,m=function isPlainSafeFirst(t){return isPrintable(t)&&65279!==t&&!isWhitespace(t)&&45!==t&&63!==t&&58!==t&&44!==t&&91!==t&&93!==t&&123!==t&&125!==t&&35!==t&&38!==t&&42!==t&&33!==t&&124!==t&&61!==t&&62!==t&&39!==t&&34!==t&&37!==t&&64!==t&&96!==t}(t.charCodeAt(0))&&!isWhitespace(t.charCodeAt(t.length-1));if(n)for(a=0;a<t.length;a++){if(!isPrintable(c=t.charCodeAt(a)))return 5;u=a>0?t.charCodeAt(a-1):null,m=m&&isPlainSafe(c,u)}else{for(a=0;a<t.length;a++){if(10===(c=t.charCodeAt(a)))l=!0,d&&(p=p||a-h-1>i&&" "!==t[h+1],h=a);else if(!isPrintable(c))return 5;u=a>0?t.charCodeAt(a-1):null,m=m&&isPlainSafe(c,u)}p=p||d&&a-h-1>i&&" "!==t[h+1]}return l||p?r>9&&needIndentIndicator(t)?5:p?4:3:m&&!o(t)?1:2}function writeScalar(t,n,r,i){t.dump=function(){if(0===n.length)return"''";if(!t.noCompatMode&&-1!==d.indexOf(n))return"'"+n+"'";var a=t.indent*Math.max(1,r),c=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),u=i||t.flowLevel>-1&&r>=t.flowLevel;switch(chooseScalarStyle(n,u,t.indent,c,(function testAmbiguity(n){return function testImplicitResolving(t,n){var r,i;for(r=0,i=t.implicitTypes.length;r<i;r+=1)if(t.implicitTypes[r].resolve(n))return!0;return!1}(t,n)}))){case 1:return n;case 2:return"'"+n.replace(/'/g,"''")+"'";case 3:return"|"+blockHeader(n,t.indent)+dropEndingNewline(indentString(n,a));case 4:return">"+blockHeader(n,t.indent)+dropEndingNewline(indentString(function foldString(t,n){var r,i,o=/(\n+)([^\n]*)/g,a=(u=t.indexOf("\n"),u=-1!==u?u:t.length,o.lastIndex=u,foldLine(t.slice(0,u),n)),c="\n"===t[0]||" "===t[0];var u;for(;i=o.exec(t);){var l=i[1],p=i[2];r=" "===p[0],a+=l+(c||r||""===p?"":"\n")+foldLine(p,n),c=r}return a}(n,c),a));case 5:return'"'+function escapeString(t){for(var n,r,i,o="",a=0;a<t.length;a++)(n=t.charCodeAt(a))>=55296&&n<=56319&&(r=t.charCodeAt(a+1))>=56320&&r<=57343?(o+=encodeHex(1024*(n-55296)+r-56320+65536),a++):(i=p[n],o+=!i&&isPrintable(n)?t[a]:i||encodeHex(n));return o}(n)+'"';default:throw new o("impossible error: invalid scalar style")}}()}function blockHeader(t,n){var r=needIndentIndicator(t)?String(n):"",i="\n"===t[t.length-1];return r+(i&&("\n"===t[t.length-2]||"\n"===t)?"+":i?"":"-")+"\n"}function dropEndingNewline(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function foldLine(t,n){if(""===t||" "===t[0])return t;for(var r,i,o=/ [^ ]/g,a=0,c=0,u=0,l="";r=o.exec(t);)(u=r.index)-a>n&&(i=c>a?c:u,l+="\n"+t.slice(a,i),a=i+1),c=u;return l+="\n",t.length-a>n&&c>a?l+=t.slice(a,c)+"\n"+t.slice(c+1):l+=t.slice(a),l.slice(1)}function detectType(t,n,r){var i,a,c,p,d,h;for(c=0,p=(a=r?t.explicitTypes:t.implicitTypes).length;c<p;c+=1)if(((d=a[c]).instanceOf||d.predicate)&&(!d.instanceOf||"object"==typeof n&&n instanceof d.instanceOf)&&(!d.predicate||d.predicate(n))){if(t.tag=r?d.tag:"?",d.represent){if(h=t.styleMap[d.tag]||d.defaultStyle,"[object Function]"===u.call(d.represent))i=d.represent(n,h);else{if(!l.call(d.represent,h))throw new o("!<"+d.tag+'> tag resolver accepts not "'+h+'" style');i=d.represent[h](n,h)}t.dump=i}return!0}return!1}function writeNode(t,n,r,i,a,c){t.tag=null,t.dump=r,detectType(t,r,!1)||detectType(t,r,!0);var l=u.call(t.dump);i&&(i=t.flowLevel<0||t.flowLevel>n);var p,d,h="[object Object]"===l||"[object Array]"===l;if(h&&(d=-1!==(p=t.duplicates.indexOf(r))),(null!==t.tag&&"?"!==t.tag||d||2!==t.indent&&n>0)&&(a=!1),d&&t.usedDuplicates[p])t.dump="*ref_"+p;else{if(h&&d&&!t.usedDuplicates[p]&&(t.usedDuplicates[p]=!0),"[object Object]"===l)i&&0!==Object.keys(t.dump).length?(!function writeBlockMapping(t,n,r,i){var a,c,u,l,p,d,h="",m=t.tag,g=Object.keys(r);if(!0===t.sortKeys)g.sort();else if("function"==typeof t.sortKeys)g.sort(t.sortKeys);else if(t.sortKeys)throw new o("sortKeys must be a boolean or a function");for(a=0,c=g.length;a<c;a+=1)d="",i&&0===a||(d+=generateNextLine(t,n)),l=r[u=g[a]],writeNode(t,n+1,u,!0,!0,!0)&&((p=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&10===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,p&&(d+=generateNextLine(t,n)),writeNode(t,n+1,l,!0,p)&&(t.dump&&10===t.dump.charCodeAt(0)?d+=":":d+=": ",h+=d+=t.dump));t.tag=m,t.dump=h||"{}"}(t,n,t.dump,a),d&&(t.dump="&ref_"+p+t.dump)):(!function writeFlowMapping(t,n,r){var i,o,a,c,u,l="",p=t.tag,d=Object.keys(r);for(i=0,o=d.length;i<o;i+=1)u="",0!==i&&(u+=", "),t.condenseFlow&&(u+='"'),c=r[a=d[i]],writeNode(t,n,a,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),writeNode(t,n,c,!1,!1)&&(l+=u+=t.dump));t.tag=p,t.dump="{"+l+"}"}(t,n,t.dump),d&&(t.dump="&ref_"+p+" "+t.dump));else if("[object Array]"===l){var m=t.noArrayIndent&&n>0?n-1:n;i&&0!==t.dump.length?(!function writeBlockSequence(t,n,r,i){var o,a,c="",u=t.tag;for(o=0,a=r.length;o<a;o+=1)writeNode(t,n+1,r[o],!0,!0)&&(i&&0===o||(c+=generateNextLine(t,n)),t.dump&&10===t.dump.charCodeAt(0)?c+="-":c+="- ",c+=t.dump);t.tag=u,t.dump=c||"[]"}(t,m,t.dump,a),d&&(t.dump="&ref_"+p+t.dump)):(!function writeFlowSequence(t,n,r){var i,o,a="",c=t.tag;for(i=0,o=r.length;i<o;i+=1)writeNode(t,n,r[i],!1,!1)&&(0!==i&&(a+=","+(t.condenseFlow?"":" ")),a+=t.dump);t.tag=c,t.dump="["+a+"]"}(t,m,t.dump),d&&(t.dump="&ref_"+p+" "+t.dump))}else{if("[object String]"!==l){if(t.skipInvalid)return!1;throw new o("unacceptable kind of an object to dump "+l)}"?"!==t.tag&&writeScalar(t,t.dump,n,c)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function getDuplicateReferences(t,n){var r,i,o=[],a=[];for(function inspectNode(t,n,r){var i,o,a;if(null!==t&&"object"==typeof t)if(-1!==(o=n.indexOf(t)))-1===r.indexOf(o)&&r.push(o);else if(n.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)inspectNode(t[o],n,r);else for(i=Object.keys(t),o=0,a=i.length;o<a;o+=1)inspectNode(t[i[o]],n,r)}(t,o,a),r=0,i=a.length;r<i;r+=1)n.duplicates.push(o[a[r]]);n.usedDuplicates=new Array(i)}function dump(t,n){var r=new State(n=n||{});return r.noRefs||getDuplicateReferences(t,r),writeNode(r,0,t,!0,!0)?r.dump+"\n":""}t.exports.dump=dump,t.exports.safeDump=function safeDump(t,n){return dump(t,i.extend({schema:c},n))}},function(t,n,r){(function(t){var r=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var a="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,u=a||c||Function("return this")(),l=n&&!n.nodeType&&n,p=l&&"object"==typeof t&&t&&!t.nodeType&&t,d=p&&p.exports===l,h=d&&a.process,m=function(){try{var t=p&&p.require&&p.require("util").types;return t||h&&h.binding&&h.binding("util")}catch(t){}}(),g=m&&m.isTypedArray;function apply(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}var y,v=Array.prototype,x=Function.prototype,C=Object.prototype,b=u["__core-js_shared__"],w=x.toString,k=C.hasOwnProperty,S=(y=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",A=C.toString,_=w.call(Object),D=RegExp("^"+w.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=d?u.Buffer:void 0,I=u.Symbol,P=u.Uint8Array,L=T?T.allocUnsafe:void 0,N=function overArg(t,n){return function(r){return t(n(r))}}(Object.getPrototypeOf,Object),M=Object.create,R=C.propertyIsEnumerable,O=v.splice,j=I?I.toStringTag:void 0,B=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),U=T?T.isBuffer:void 0,q=Math.max,H=Date.now,W=getNative(u,"Map"),$=getNative(Object,"create"),z=function(){function object(){}return function(t){if(!isObject(t))return{};if(M)return M(t);object.prototype=t;var n=new object;return object.prototype=void 0,n}}();function Hash(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var i=t[n];this.set(i[0],i[1])}}function ListCache(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var i=t[n];this.set(i[0],i[1])}}function MapCache(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var i=t[n];this.set(i[0],i[1])}}function Stack(t){var n=this.__data__=new ListCache(t);this.size=n.size}function arrayLikeKeys(t,n){var r=J(t),i=!r&&G(t),o=!r&&!i&&Q(t),a=!r&&!i&&!o&&Y(t),c=r||i||o||a,u=c?function baseTimes(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}(t.length,String):[],l=u.length;for(var p in t)!n&&!k.call(t,p)||c&&("length"==p||o&&("offset"==p||"parent"==p)||a&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||isIndex(p,l))||u.push(p);return u}function assignMergeValue(t,n,r){(void 0!==r&&!eq(t[n],r)||void 0===r&&!(n in t))&&baseAssignValue(t,n,r)}function assignValue(t,n,r){var i=t[n];k.call(t,n)&&eq(i,r)&&(void 0!==r||n in t)||baseAssignValue(t,n,r)}function assocIndexOf(t,n){for(var r=t.length;r--;)if(eq(t[r][0],n))return r;return-1}function baseAssignValue(t,n,r){"__proto__"==n&&B?B(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}Hash.prototype.clear=function hashClear(){this.__data__=$?$(null):{},this.size=0},Hash.prototype.delete=function hashDelete(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Hash.prototype.get=function hashGet(t){var n=this.__data__;if($){var r=n[t];return"__lodash_hash_undefined__"===r?void 0:r}return k.call(n,t)?n[t]:void 0},Hash.prototype.has=function hashHas(t){var n=this.__data__;return $?void 0!==n[t]:k.call(n,t)},Hash.prototype.set=function hashSet(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$&&void 0===n?"__lodash_hash_undefined__":n,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(t){var n=this.__data__,r=assocIndexOf(n,t);return!(r<0)&&(r==n.length-1?n.pop():O.call(n,r,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(t){var n=this.__data__,r=assocIndexOf(n,t);return r<0?void 0:n[r][1]},ListCache.prototype.has=function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1},ListCache.prototype.set=function listCacheSet(t,n){var r=this.__data__,i=assocIndexOf(r,t);return i<0?(++this.size,r.push([t,n])):r[i][1]=n,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(W||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(t){var n=getMapData(this,t).delete(t);return this.size-=n?1:0,n},MapCache.prototype.get=function mapCacheGet(t){return getMapData(this,t).get(t)},MapCache.prototype.has=function mapCacheHas(t){return getMapData(this,t).has(t)},MapCache.prototype.set=function mapCacheSet(t,n){var r=getMapData(this,t),i=r.size;return r.set(t,n),this.size+=r.size==i?0:1,this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r},Stack.prototype.get=function stackGet(t){return this.__data__.get(t)},Stack.prototype.has=function stackHas(t){return this.__data__.has(t)},Stack.prototype.set=function stackSet(t,n){var r=this.__data__;if(r instanceof ListCache){var i=r.__data__;if(!W||i.length<199)return i.push([t,n]),this.size=++r.size,this;r=this.__data__=new MapCache(i)}return r.set(t,n),this.size=r.size,this};var V=function createBaseFor(t){return function(n,r,i){for(var o=-1,a=Object(n),c=i(n),u=c.length;u--;){var l=c[t?u:++o];if(!1===r(a[l],l,a))break}return n}}();function baseGetTag(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":j&&j in Object(t)?function getRawTag(t){var n=k.call(t,j),r=t[j];try{t[j]=void 0;var i=!0}catch(t){}var o=A.call(t);i&&(n?t[j]=r:delete t[j]);return o}(t):function objectToString(t){return A.call(t)}(t)}function baseIsArguments(t){return isObjectLike(t)&&"[object Arguments]"==baseGetTag(t)}function baseIsNative(t){return!(!isObject(t)||function isMasked(t){return!!S&&S in t}(t))&&(isFunction(t)?D:r).test(function toSource(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function baseKeysIn(t){if(!isObject(t))return function nativeKeysIn(t){var n=[];if(null!=t)for(var r in Object(t))n.push(r);return n}(t);var n=isPrototype(t),r=[];for(var i in t)("constructor"!=i||!n&&k.call(t,i))&&r.push(i);return r}function baseMerge(t,n,r,i,o){t!==n&&V(n,(function(a,c){if(o||(o=new Stack),isObject(a))!function baseMergeDeep(t,n,r,i,o,a,c){var u=safeGet(t,r),l=safeGet(n,r),p=c.get(l);if(p)return void assignMergeValue(t,r,p);var d=a?a(u,l,r+"",t,n,c):void 0,h=void 0===d;if(h){var m=J(l),g=!m&&Q(l),y=!m&&!g&&Y(l);d=l,m||g||y?J(u)?d=u:!function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}(u)?g?(h=!1,d=function cloneBuffer(t,n){if(n)return t.slice();var r=t.length,i=L?L(r):new t.constructor(r);return t.copy(i),i}(l,!0)):y?(h=!1,d=function cloneTypedArray(t,n){var r=n?function cloneArrayBuffer(t){var n=new t.constructor(t.byteLength);return new P(n).set(new P(t)),n}(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(l,!0)):d=[]:d=function copyArray(t,n){var r=-1,i=t.length;n||(n=Array(i));for(;++r<i;)n[r]=t[r];return n}(u):function isPlainObject(t){if(!isObjectLike(t)||"[object Object]"!=baseGetTag(t))return!1;var n=N(t);if(null===n)return!0;var r=k.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&w.call(r)==_}(l)||G(l)?(d=u,G(u)?d=function toPlainObject(t){return function copyObject(t,n,r,i){var o=!r;r||(r={});var a=-1,c=n.length;for(;++a<c;){var u=n[a],l=i?i(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),o?baseAssignValue(r,u,l):assignValue(r,u,l)}return r}(t,keysIn(t))}(u):isObject(u)&&!isFunction(u)||(d=function initCloneObject(t){return"function"!=typeof t.constructor||isPrototype(t)?{}:z(N(t))}(l))):h=!1}h&&(c.set(l,d),o(d,l,i,a,c),c.delete(l));assignMergeValue(t,r,d)}(t,n,c,r,baseMerge,i,o);else{var u=i?i(safeGet(t,c),a,c+"",t,n,o):void 0;void 0===u&&(u=a),assignMergeValue(t,c,u)}}),keysIn)}function baseRest(t,n){return X(function overRest(t,n,r){return n=q(void 0===n?t.length-1:n,0),function(){for(var i=arguments,o=-1,a=q(i.length-n,0),c=Array(a);++o<a;)c[o]=i[n+o];o=-1;for(var u=Array(n+1);++o<n;)u[o]=i[o];return u[n]=r(c),apply(t,this,u)}}(t,n,identity),t+"")}function getMapData(t,n){var r=t.__data__;return function isKeyable(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?r["string"==typeof n?"string":"hash"]:r.map}function getNative(t,n){var r=function getValue(t,n){return null==t?void 0:t[n]}(t,n);return baseIsNative(r)?r:void 0}function isIndex(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<n}function isPrototype(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||C)}function safeGet(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var X=function shortOut(t){var n=0,r=0;return function(){var i=H(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(B?function(t,n){return B(t,"toString",{configurable:!0,enumerable:!1,value:(r=n,function(){return r}),writable:!0});var r}:identity);function eq(t,n){return t===n||t!=t&&n!=n}var G=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&k.call(t,"callee")&&!R.call(t,"callee")},J=Array.isArray;function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}var Q=U||function stubFalse(){return!1};function isFunction(t){if(!isObject(t))return!1;var n=baseGetTag(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function isObject(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function isObjectLike(t){return null!=t&&"object"==typeof t}var Y=g?function baseUnary(t){return function(n){return t(n)}}(g):function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!o[baseGetTag(t)]};function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}var K=function createAssigner(t){return baseRest((function(n,r){var i=-1,o=r.length,a=o>1?r[o-1]:void 0,c=o>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,c&&function isIterateeCall(t,n,r){if(!isObject(r))return!1;var i=typeof n;if("number"==i?isArrayLike(r)&&isIndex(n,r.length):"string"==i&&n in r)return eq(r[n],t);return!1}(r[0],r[1],c)&&(a=o<3?void 0:a,o=1),n=Object(n);++i<o;){var u=r[i];u&&t(n,u,i,a)}return n}))}((function(t,n,r){baseMerge(t,n,r)}));function identity(t){return t}t.exports=K}).call(this,r(259)(t))},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,r){"use strict";const i=r(261),o=new Map;function makeRe(t,n){const r=Object.assign({caseSensitive:!1},n),a=t+JSON.stringify(r);if(o.has(a))return o.get(a);const c="!"===t[0];c&&(t=t.slice(1)),t=i(t).replace(/\\\*/g,".*");const u=new RegExp(`^${t}$`,r.caseSensitive?"":"i");return u.negated=c,o.set(a,u),u}t.exports=(t,n,r)=>{if(!Array.isArray(t)||!Array.isArray(n))throw new TypeError(`Expected two arrays, got ${typeof t} ${typeof n}`);if(0===n.length)return t;const i="!"===n[0][0];n=n.map(t=>makeRe(t,r));const o=[];for(const r of t){let t=i;for(const i of n)i.test(r)&&(t=!i.negated);t&&o.push(r)}return o},t.exports.isMatch=(t,n,r)=>{const i=makeRe(n,r),o=i.test(t);return i.negated?!o:o}},function(t,n,r){"use strict";var i=/[|\\{}()[\]^$+*?.]/g;t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(i,"\\$&")}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RedirectionFile=void 0;const i=r(2);n.RedirectionFile=class RedirectionFile{constructor(t,n,r,i){this.isAlreadyInMasterRedirectionFile=!1,this.redirectDocumentId=!1,this.redirect_document_id=!1,this.fileFullPath=t,this.source_path=this.getRelativePathToRoot(t,i),this.redirect_url=n,this.redirect_document_id=r}getRelativePathToRoot(t,n){if(n)return i.relative(n.uri.fsPath,t).replace(/\\/g,"/");throw new Error("Failed to resolve relative path to repo root folder for file "+t+". Original error: "+Error.toString())}}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.handleSingleValuedMetadata=void 0;const i=r(94),o=r(95),a=r(14);n.handleSingleValuedMetadata=function handleSingleValuedMetadata(t,n,r,c){return n.endsWith(".yml")||n.endsWith(".md")?a.readWriteFileWithProgress(t,n,"Single-Valued metadata",r,c,t=>{if(n.endsWith(".yml"))t=o.handleYamlMetadata(t);else if(n.endsWith(".md")&&t.startsWith("---")){const n=new RegExp("^(---)([^]+?)(---)$","m"),r=t.match(n);let o="";r&&(o=i.handleMarkdownMetadata(r[2]),t=t.replace(n,`---${o}---`))}return t}):Promise.resolve()}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.insertBookmarkInternal=n.insertBookmarkExternal=n.insertBookmarkCommands=n.yamlTextRegex=n.headingTextRegex=void 0;const o=r(3),a=r(2),c=r(13),u=r(1),l=r(265),p=r(0),d=r(4);let h;const m=[".md"];function insertBookmarkExternal(){return i(this,void 0,void 0,(function*(){h="external";let t="",r="";const i=u.window.activeTextEditor;if(!i)return void p.noActiveEditorMessage();const g=i.document.fileName,y=a.dirname(g);if(!o.existsSync(g))return void u.window.showWarningMessage(y+" is not saved.  Cannot accurately resolve path to create link.");u.workspace.workspaceFolders&&(t=u.workspace.workspaceFolders[0].uri.fsPath);const v=yield c(t,p.ignoreFiles),x=[];v.sort(),v.filter(t=>-1!==m.indexOf(a.extname(t.toLowerCase()))).forEach(t=>{x.push({label:a.basename(t),description:a.dirname(t)})});const C=yield u.window.showQuickPick(x);let b="",w="";if(!C)return;C.description&&(r=a.join(C.description,C.label));const k=o.readFileSync(r,"utf8").match(n.headingTextRegex);if(!k)return void u.window.showErrorMessage("No headings found in file, cannot insert bookmark!");const S=[];l.addbookmarkIdentifier(k).forEach(t=>{S.push({label:t,detail:" "})});const A=yield u.window.showQuickPick(S);A&&(a.resolve(y)===a.resolve(C.label.split("\\").join("\\\\"))&&a.basename(g)===C.label?w=l.bookmarkBuilder(i.document.getText(i.selection),A.label,""):(C.description&&(b=a.relative(y,a.join(C.description,C.label).split("\\").join("\\\\"))),w=l.bookmarkBuilder(i.document.getText(i.selection),A.label,b)),yield p.insertContentToEditor(i,w,!0,i.selection),d.sendTelemetryData("insertBookmark",h))}))}function insertBookmarkInternal(){return i(this,void 0,void 0,(function*(){h="internal";const t=u.window.activeTextEditor;if(!t)return;const r=t.document.getText().match(n.headingTextRegex);if(!r)return void u.window.showErrorMessage("No headings found in file, cannot insert bookmark!");const i=l.addbookmarkIdentifier(r),o=[];i.forEach(t=>{o.push({label:t,detail:" "})});const a=yield u.window.showQuickPick(o);if(!a)return;const c=l.bookmarkBuilder(t.document.getText(t.selection),a.label,"");yield p.insertContentToEditor(t,c,!0,t.selection),d.sendTelemetryData("insertBookmark",h)}))}n.headingTextRegex=/^ {0,3}(#{2,6})(.*)/gm,n.yamlTextRegex=/^-{3}\s*\r?\n([\s\S]*?)-{3}\s*\r?\n([\s\S]*)/,n.insertBookmarkCommands=function insertBookmarkCommands(){return[{command:insertBookmarkExternal.name,callback:insertBookmarkExternal},{command:insertBookmarkInternal.name,callback:insertBookmarkInternal}]},n.insertBookmarkExternal=insertBookmarkExternal,n.insertBookmarkInternal=insertBookmarkInternal},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bookmarkBuilder=n.addbookmarkIdentifier=void 0,n.addbookmarkIdentifier=function addbookmarkIdentifier(t){const n=new Map,r=[];for(const i of t){const t=i.slice(i.indexOf(" "),i.length-1).trim().toLowerCase();if(n.has(t)){const o=n.get(t);n.set(t,o+1),r.push(i.replace(/\r|\n/g,"").concat(" (",o,")\r\n"))}else n.set(t,1),r.push(i.replace(/\r|\n/g,"").concat("\r\n"))}return r},n.bookmarkBuilder=function bookmarkBuilder(t,n,i){const o=r(8);let a="";return new RegExp(/#[\s](<a.*)<\/a>/).test(n)?(a=t,a):(0===t.length&&(t=n.trim().replace(/\n|\r/g,"").split(" ").slice(1).join(" ")),a=n.trim().replace(/\s\s+/g," ").replace(/\n|\r|[^A-Za-z0-9-_\säöüÄÖÜß]/g,"").toLocaleLowerCase().split(" ").slice(1).join("-"),i?("Windows_NT"===o.type()&&(i=i.replace(/\\/g,"/")),a="["+t+"]("+i+"#"+a+")"):a="["+t+"](#"+a+")",a)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.deleteCommentedMetadata=n.deleteNaMetadata=n.deleteEmptyMetadata=n.removeEmptyMetadata=void 0;const i=r(14);function deleteEmptyMetadata(t){const n=new RegExp(/^(\s+\-)(\s*|\s""|\s'')[\n|\r](?=(.|\n|\r)*---\s$)/gim);t=t.replace(n,"");const r=new RegExp(/^(\w+\.*\w+?:)(\s*|\s""|\s'')(?!\n*\s+\-\ (\s*|\s""|\s''))[\n|\r](?=(.|\n|\r)*---\s$)/gim);return t=t.replace(r,"")}function deleteNaMetadata(t){const n=new RegExp(/^(\w+\.*\w+?:\s(na|n\/a))[\n|\r](?=(.|\n|\r)*---\s$)/gim);return t=t.replace(n,"")}function deleteCommentedMetadata(t){const n=new RegExp(/^(#\s?\w+\.*.*\w+?:).*[\n|\r](?=(.|\n|\r)*---\s$)/gim);return t=t.replace(n,"")}n.removeEmptyMetadata=function removeEmptyMetadata(t,n,r,o,a){return n.endsWith(".md")?i.readWriteFileWithProgress(t,n,"Removal of metadata values",r,o,t=>{if(t.startsWith("---")){const n=new RegExp("^(---)([^]+?)(---)$","m"),r=t.match(n);let i="";"empty"===a&&(i=deleteEmptyMetadata(r[2])),"na"===a&&(i=deleteNaMetadata(r[2])),"commented"===a&&(i=deleteCommentedMetadata(r[2])),"all"===a&&(i=deleteEmptyMetadata(r[2]),i=deleteNaMetadata(r[2]),i=deleteCommentedMetadata(r[2])),t=t.replace(n,`---${i}---`)}return t}):Promise.resolve()},n.deleteEmptyMetadata=deleteEmptyMetadata,n.deleteNaMetadata=deleteNaMetadata,n.deleteCommentedMetadata=deleteCommentedMetadata},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.runAllWorkspace=n.runAll=void 0;const o=r(20),a=r(0),c=r(54),u=r(92),l=r(94),p=r(95),d=r(96),h=r(97),m=r(14),g=r(93),y=r(13);n.runAll=function runAll(t,n,r,i){return n.endsWith(".yml")||n.endsWith(".md")?m.readWriteFileWithProgress(t,n,"Everything",r,i,t=>{if(n.endsWith(".yml"))t=p.handleYamlMetadata(t);else if(n.endsWith(".md")&&(t=d.handleLinksWithRegex(t)).startsWith("---")){let n="";const r=new RegExp("^(---)([^>]+?)(---)$","m"),i=t.match(r);i&&(n=u.lowerCaseData(i[2],"ms.author"),n=u.lowerCaseData(i[2],"author"),n=u.lowerCaseData(i[2],"ms.prod"),n=u.lowerCaseData(i[2],"ms.service"),n=u.lowerCaseData(i[2],"ms.subservice"),n=u.lowerCaseData(i[2],"ms.technology"),n=u.lowerCaseData(i[2],"ms.topic"),n=l.handleMarkdownMetadata(i[2]),t=t.replace(r,`---${n}---`))}return t}):Promise.resolve()},n.runAllWorkspace=function runAllWorkspace(t,n,r){return i(this,void 0,void 0,(function*(){a.showStatusMessage("Cleanup: Everything started.");return n.report({increment:0,message:"Everything"}),new Promise((v,x)=>y(t,a.ignoreFiles,(y,C)=>{y&&(a.postError(y),x());const b=[];C.map((t,r)=>i(this,void 0,void 0,(function*(){t.endsWith(".yml")||t.endsWith("docfx.json")?b.push(new Promise((i,c)=>{o.readFile(t,"utf8",(u,l)=>{u&&(a.postError("Error: "+u),c());const d=l;l=p.handleYamlMetadata(l);g.diffChars(d,l).some(t=>t.added||t.removed)&&b.push(new Promise((i,c)=>{o.writeFile(t,l,t=>{t&&(a.postError("Error: "+t),c()),m.showProgress(r,C,n,"Everything"),i()})}).catch(t=>{a.postError(t)})),i()})}).catch(t=>{a.postError(t)})):t.endsWith(".md")&&b.push(new Promise((i,c)=>{o.readFile(t,"utf8",(p,h)=>{p&&(a.postError("Error: "+p),c());const y=h;if((h=d.handleLinksWithRegex(h)).startsWith("---")){let t="";const n=new RegExp("^(---)([^>]+?)(---)$","m"),r=h.match(n);r&&(t=u.lowerCaseData(r[2],"ms.author"),t=u.lowerCaseData(r[2],"author"),t=u.lowerCaseData(r[2],"ms.prod"),t=u.lowerCaseData(r[2],"ms.service"),t=u.lowerCaseData(r[2],"ms.subservice"),t=u.lowerCaseData(r[2],"ms.technology"),t=u.lowerCaseData(r[2],"ms.topic"),t=l.handleMarkdownMetadata(r[2]),h=h.replace(n,`---${t}---`))}g.diffChars(y,h).some(t=>t.added||t.removed)&&b.push(new Promise((i,c)=>{o.writeFile(t,h,t=>{t&&(a.postError("Error: "+t),c()),m.showProgress(r,C,n,"Everything"),i()})}).catch(t=>{a.postError(t)})),i()})}).catch(t=>{a.postError(t)}))}))),b.push(new Promise(n=>{c.generateMasterRedirectionFile(t,n)})),b.push(new Promise(r=>i(this,void 0,void 0,(function*(){h.removeUnusedImagesAndIncludes(n,t,r)})))),Promise.all(b).then(()=>{n.report({increment:100,message:"Everything completed."}),a.showStatusMessage("Cleanup: Everything completed."),setTimeout(()=>{v(),r()},2e3)}).catch(t=>{a.postError(t)})}))}))}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.convertDevlang=n.lowercaseDevlang=n.findCodeBlocks=n.cleanUpDevLangInCodeBlocks=n.regex=void 0;const i=r(4),o=r(14);function findCodeBlocks(t){return t=lowercaseDevlang(t,n.regex)}function lowercaseDevlang(t,n){const r=t.match(n);return r&&r.forEach(r=>{t=t.replace(n,(function(t){return t.toLowerCase()}))}),t}function convertDevlang(t){const n=new RegExp(/```(c#|cs)\s/gi);t=t.replace(n,"```csharp");const r=new RegExp(/```markdown\s/gi);return t=t.replace(r,"```md")}n.regex=new RegExp(/^```([A-Za-z#]+)/gm),n.cleanUpDevLangInCodeBlocks=function cleanUpDevLangInCodeBlocks(t,n,r,a){return i.reporter.sendTelemetryEvent("command",{command:"applyCleanup"}),n.endsWith(".md")?o.readWriteFileWithProgress(t,n,"Clean up devlang for code blocks",r,a,t=>t=convertDevlang(t=findCodeBlocks(t))):Promise.resolve()},n.findCodeBlocks=findCodeBlocks,n.lowercaseDevlang=lowercaseDevlang,n.convertDevlang=convertDevlang},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.encodeSpecialXrefCharacters=void 0,n.encodeSpecialXrefCharacters=function encodeSpecialXrefCharacters(t){return t=(t=(t=t.replace(/\*/g,"%2A")).replace(/#/g,"%23")).replace(/`/g,"%60")}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getXrefSelection=n.getXrefDisplayProperty=void 0;const o=r(1),a=r(271);n.getXrefDisplayProperty=function getXrefDisplayProperty(){return i(this,void 0,void 0,(function*(){const t=[];return t.push({description:"None (default)",label:"none"}),t.push({description:"Name with Type",label:"nameWithType"}),t.push({description:"Full Name",label:"fullName"}),yield o.window.showQuickPick(t,{placeHolder:"Select Display Property"})}))},n.getXrefSelection=function getXrefSelection(){return i(this,void 0,void 0,(function*(){const t=[],n=yield o.window.showInputBox({placeHolder:"Enter XREF Search Term"});if(!n)return;const r=yield a.getAsync("https://xref.docs.microsoft.com/autocomplete?text="+n);if(200===r.status){if(0!==r.data.length)return r.data.map(n=>{t.push({label:n.uid})}),yield o.window.showQuickPick(t,{placeHolder:"Link to XREF"});o.window.showErrorMessage(`No results found for "${n}". Please check your search term.`)}else o.window.showErrorMessage("Failed to connect to XREF service. Please check your internet connection and try again.")}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getAsync=void 0;const o=r(60);n.getAsync=function getAsync(t){return i(this,void 0,void 0,(function*(){try{return yield o.default.get(t)}catch(t){return t}}))}},function(t,n,r){"use strict";var i=r(9),o=r(103),a=r(273),c=r(111);function createInstance(t){var n=new a(t),r=o(a.prototype.request,n);return i.extend(r,a.prototype,n),i.extend(r,n),r}var u=createInstance(r(105));u.Axios=a,u.create=function create(t){return createInstance(c(u.defaults,t))},u.Cancel=r(112),u.CancelToken=r(293),u.isCancel=r(104),u.all=function all(t){return Promise.all(t)},u.spread=r(294),t.exports=u,t.exports.default=u},function(t,n,r){"use strict";var i=r(9),o=r(61),a=r(274),c=r(275),u=r(111);function Axios(t){this.defaults=t,this.interceptors={request:new a,response:new a}}Axios.prototype.request=function request(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=[c,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function unshiftRequestInterceptors(t){n.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function pushResponseInterceptors(t){n.push(t.fulfilled,t.rejected)}));n.length;)r=r.then(n.shift(),n.shift());return r},Axios.prototype.getUri=function getUri(t){return t=u(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function forEachMethodNoData(t){Axios.prototype[t]=function(n,r){return this.request(i.merge(r||{},{method:t,url:n}))}})),i.forEach(["post","put","patch"],(function forEachMethodWithData(t){Axios.prototype[t]=function(n,r,o){return this.request(i.merge(o||{},{method:t,url:n,data:r}))}})),t.exports=Axios},function(t,n,r){"use strict";var i=r(9);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(t){this.handlers[t]&&(this.handlers[t]=null)},InterceptorManager.prototype.forEach=function forEach(t){i.forEach(this.handlers,(function forEachHandler(n){null!==n&&t(n)}))},t.exports=InterceptorManager},function(t,n,r){"use strict";var i=r(9),o=r(276),a=r(104),c=r(105);function throwIfCancellationRequested(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(n){delete t.headers[n]})),(t.adapter||c.adapter)(t).then((function onAdapterResolution(n){return throwIfCancellationRequested(t),n.data=o(n.data,n.headers,t.transformResponse),n}),(function onAdapterRejection(n){return a(n)||(throwIfCancellationRequested(t),n&&n.response&&(n.response.data=o(n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)}))}},function(t,n,r){"use strict";var i=r(9);t.exports=function transformData(t,n,r){return i.forEach(r,(function transform(r){t=r(t,n)})),t}},function(t,n,r){"use strict";var i=r(9);t.exports=function normalizeHeaderName(t,n){i.forEach(t,(function processHeader(r,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=r,delete t[i])}))}},function(t,n,r){"use strict";var i=r(9),o=r(106),a=r(61),c=r(108),u=r(281),l=r(282),p=r(62);t.exports=function xhrAdapter(t){return new Promise((function dispatchXhrRequest(n,d){var h=t.data,m=t.headers;i.isFormData(h)&&delete m["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var y=t.auth.username||"",v=t.auth.password||"";m.Authorization="Basic "+btoa(y+":"+v)}var x=c(t.baseURL,t.url);if(g.open(t.method.toUpperCase(),a(x,t.params,t.paramsSerializer),!0),g.timeout=t.timeout,g.onreadystatechange=function handleLoad(){if(g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in g?u(g.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:t,request:g};o(n,d,i),g=null}},g.onabort=function handleAbort(){g&&(d(p("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function handleError(){d(p("Network Error",t,null,g)),g=null},g.ontimeout=function handleTimeout(){var n="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(n=t.timeoutErrorMessage),d(p(n,t,"ECONNABORTED",g)),g=null},i.isStandardBrowserEnv()){var C=r(283),b=(t.withCredentials||l(x))&&t.xsrfCookieName?C.read(t.xsrfCookieName):void 0;b&&(m[t.xsrfHeaderName]=b)}if("setRequestHeader"in g&&i.forEach(m,(function setRequestHeader(t,n){void 0===h&&"content-type"===n.toLowerCase()?delete m[n]:g.setRequestHeader(n,t)})),i.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),t.responseType)try{g.responseType=t.responseType}catch(n){if("json"!==t.responseType)throw n}"function"==typeof t.onDownloadProgress&&g.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function onCanceled(t){g&&(g.abort(),d(t),g=null)})),void 0===h&&(h=null),g.send(h)}))}},function(t,n,r){"use strict";t.exports=function isAbsoluteURL(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,n,r){"use strict";t.exports=function combineURLs(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}},function(t,n,r){"use strict";var i=r(9),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function parseHeaders(t){var n,r,a,c={};return t?(i.forEach(t.split("\n"),(function parser(t){if(a=t.indexOf(":"),n=i.trim(t.substr(0,a)).toLowerCase(),r=i.trim(t.substr(a+1)),n){if(c[n]&&o.indexOf(n)>=0)return;c[n]="set-cookie"===n?(c[n]?c[n]:[]).concat([r]):c[n]?c[n]+", "+r:r}})),c):c}},function(t,n,r){"use strict";var i=r(9);t.exports=i.isStandardBrowserEnv()?function standardBrowserEnv(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function resolveURL(t){var i=t;return n&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=resolveURL(window.location.href),function isURLSameOrigin(n){var r=i.isString(n)?resolveURL(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function isURLSameOrigin(){return!0}},function(t,n,r){"use strict";var i=r(9);t.exports=i.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(t,n,r,o,a,c){var u=[];u.push(t+"="+encodeURIComponent(n)),i.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),i.isString(o)&&u.push("path="+o),i.isString(a)&&u.push("domain="+a),!0===c&&u.push("secure"),document.cookie=u.join("; ")},read:function read(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function remove(t){this.write(t,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}}},function(t,n,r){"use strict";var i=r(9),o=r(106),a=r(108),c=r(61),u=r(21),l=r(23),p=r(109).http,d=r(109).https,h=r(16),m=r(48),g=r(292),y=r(62),v=r(107),x=/https:?/;t.exports=function httpAdapter(t){return new Promise((function dispatchHttpRequest(n,r){var C=function resolve(t){n(t)},b=function reject(t){r(t)},w=t.data,k=t.headers;if(k["User-Agent"]||k["user-agent"]||(k["User-Agent"]="axios/"+g.version),w&&!i.isStream(w)){if(Buffer.isBuffer(w));else if(i.isArrayBuffer(w))w=Buffer.from(new Uint8Array(w));else{if(!i.isString(w))return b(y("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));w=Buffer.from(w,"utf-8")}k["Content-Length"]=w.length}var S=void 0;t.auth&&(S=(t.auth.username||"")+":"+(t.auth.password||""));var A=a(t.baseURL,t.url),_=h.parse(A),D=_.protocol||"http:";if(!S&&_.auth){var T=_.auth.split(":");S=(T[0]||"")+":"+(T[1]||"")}S&&delete k.Authorization;var I=x.test(D),P=I?t.httpsAgent:t.httpAgent,L={path:c(_.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:k,agent:P,agents:{http:t.httpAgent,https:t.httpsAgent},auth:S};t.socketPath?L.socketPath=t.socketPath:(L.hostname=_.hostname,L.port=_.port);var N,M=t.proxy;if(!M&&!1!==M){var R=D.slice(0,-1)+"_proxy",O=process.env[R]||process.env[R.toUpperCase()];if(O){var j=h.parse(O),B=process.env.no_proxy||process.env.NO_PROXY,U=!0;if(B)U=!B.split(",").map((function trim(t){return t.trim()})).some((function proxyMatch(t){return!!t&&("*"===t||("."===t[0]&&_.hostname.substr(_.hostname.length-t.length)===t||_.hostname===t))}));if(U&&(M={host:j.hostname,port:j.port},j.auth)){var q=j.auth.split(":");M.auth={username:q[0],password:q[1]}}}}if(M&&(L.hostname=M.host,L.host=M.host,L.headers.host=_.hostname+(_.port?":"+_.port:""),L.port=M.port,L.path=D+"//"+_.hostname+(_.port?":"+_.port:"")+L.path,M.auth)){var H=Buffer.from(M.auth.username+":"+M.auth.password,"utf8").toString("base64");L.headers["Proxy-Authorization"]="Basic "+H}var W=I&&(!M||x.test(M.protocol));t.transport?N=t.transport:0===t.maxRedirects?N=W?l:u:(t.maxRedirects&&(L.maxRedirects=t.maxRedirects),N=W?d:p),t.maxContentLength&&t.maxContentLength>-1&&(L.maxBodyLength=t.maxContentLength);var $=N.request(L,(function handleResponse(n){if(!$.aborted){var r=n;switch(n.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=204===n.statusCode?r:r.pipe(m.createUnzip()),delete n.headers["content-encoding"]}var i=n.req||$,a={status:n.statusCode,statusText:n.statusMessage,headers:n.headers,config:t,request:i};if("stream"===t.responseType)a.data=r,o(C,b,a);else{var c=[];r.on("data",(function handleStreamData(n){c.push(n),t.maxContentLength>-1&&Buffer.concat(c).length>t.maxContentLength&&(r.destroy(),b(y("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,i)))})),r.on("error",(function handleStreamError(n){$.aborted||b(v(n,t,null,i))})),r.on("end",(function handleStreamEnd(){var n=Buffer.concat(c);"arraybuffer"!==t.responseType&&(n=n.toString(t.responseEncoding)),a.data=n,o(C,b,a)}))}}}));$.on("error",(function handleRequestError(n){$.aborted||b(v(n,t,null,$))})),t.timeout&&$.setTimeout(t.timeout,(function handleRequestTimeout(){$.abort(),b(y("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",$))})),t.cancelToken&&t.cancelToken.promise.then((function onCanceled(t){$.aborted||($.abort(),b(t))})),i.isStream(w)?w.on("error",(function handleStreamError(n){b(v(n,t,null,$))})).pipe($):$.end(w)}))}},function(t,n,r){"undefined"==typeof process||"renderer"===process.type?t.exports=r(286):t.exports=r(288)},function(t,n,r){function load(){var t;try{t=n.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(n=t.exports=r(110)).log=function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function formatArgs(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+n.humanize(this.diff),!r)return;var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var o=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(a=o))})),t.splice(a,0,i)},n.save=function save(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}},n.load=load,n.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function localstorage(){try{return window.localStorage}catch(t){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(load())},function(t,n){var r=1e3,i=6e4,o=60*i,a=24*o;function plural(t,n,r){if(!(t<n))return t<1.5*n?Math.floor(t/n)+" "+r:Math.ceil(t/n)+" "+r+"s"}t.exports=function(t,n){n=n||{};var c=typeof t;if("string"===c&&t.length>0)return function parse(t){if((t=String(t)).length>100)return;var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!n)return;var c=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*c;case"days":case"day":case"d":return c*a;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(t);if("number"===c&&!1===isNaN(t))return n.long?function fmtLong(t){return plural(t,a,"day")||plural(t,o,"hour")||plural(t,i,"minute")||plural(t,r,"second")||t+" ms"}(t):function fmtShort(t){if(t>=a)return Math.round(t/a)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=r)return Math.round(t/r)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,n,r){var i=r(289),o=r(11);(n=t.exports=r(110)).init=function init(t){t.inspectOpts={};for(var r=Object.keys(n.inspectOpts),i=0;i<r.length;i++)t.inspectOpts[r[i]]=n.inspectOpts[r[i]]},n.log=function log(){return process.stderr.write(o.format.apply(o,arguments)+"\n")},n.formatArgs=function formatArgs(t){var r=this.namespace;if(this.useColors){var i=this.color,o="[3"+(i<8?i:"8;5;"+i),a="  "+o+";1m"+r+" [0m";t[0]=a+t[0].split("\n").join("\n"+a),t.push(o+"m+"+n.humanize(this.diff)+"[0m")}else t[0]=function getDate(){return n.inspectOpts.hideDate?"":(new Date).toISOString()+" "}()+r+" "+t[0]},n.save=function save(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t},n.load=load,n.useColors=function useColors(){return"colors"in n.inspectOpts?Boolean(n.inspectOpts.colors):i.isatty(process.stderr.fd)},n.colors=[6,2,3,4,5,1];try{var a=r(290);a&&a.level>=2&&(n.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}function load(){return process.env.DEBUG}n.inspectOpts=Object.keys(process.env).filter((function(t){return/^debug_/i.test(t)})).reduce((function(t,n){var r=n.substring(6).toLowerCase().replace(/_([a-z])/g,(function(t,n){return n.toUpperCase()})),i=process.env[n];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),t[r]=i,t}),{}),n.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,o.inspect(t,this.inspectOpts).split("\n").map((function(t){return t.trim()})).join(" ")},n.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,o.inspect(t,this.inspectOpts)},n.enable(load())},function(t,n){t.exports=require("tty")},function(t,n,r){"use strict";const i=r(8),o=r(291),a=process.env;let c;function getSupportLevel(t){return function translateLevel(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function supportsColor(t){if(!1===c)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(t&&!t.isTTY&&!0!==c)return 0;const n=c?1:0;if("win32"===process.platform){const t=i.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in a)||"codeship"===a.CI_NAME?1:n;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){const t=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:(a.TERM,n)}(t))}o("no-color")||o("no-colors")||o("color=false")?c=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(c=!0),"FORCE_COLOR"in a&&(c=0===a.FORCE_COLOR.length||0!==parseInt(a.FORCE_COLOR,10)),t.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)}},function(t,n,r){"use strict";t.exports=(t,n)=>{n=n||process.argv;const r=t.startsWith("-")?"":1===t.length?"-":"--",i=n.indexOf(r+t),o=n.indexOf("--");return-1!==i&&(-1===o||i<o)}},function(t){t.exports=JSON.parse('{"_from":"axios@^0.19.2","_id":"axios@0.19.2","_inBundle":false,"_integrity":"sha512-fjgm5MvRHLhx+osE2xoekY70AhARk3a6hkN+3Io1jc00jtquGvxYlKlsFUhmUET0V5te6CcZI7lcv2Ym61mjHA==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.19.2","name":"axios","escapedName":"axios","rawSpec":"^0.19.2","saveSpec":null,"fetchSpec":"^0.19.2"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.19.2.tgz","_shasum":"3ea36c5d8818d0d5f8a8a97a6d36b86cdc00cb27","_spec":"axios@^0.19.2","_where":"D:\\\\a\\\\1\\\\s\\\\packages\\\\docs-markdown","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"1.5.10"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","version":"0.19.2"}')},function(t,n,r){"use strict";var i=r(112);function CancelToken(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function promiseExecutor(t){n=t}));var r=this;t((function cancel(t){r.reason||(r.reason=new i(t),n(r.reason))}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.source=function source(){var t;return{token:new CancelToken((function executor(n){t=n})),cancel:t}},t.exports=CancelToken},function(t,n,r){"use strict";t.exports=function spread(t){return function wrap(n){return t.apply(null,n)}}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CaseType=n.createNumberedListCaseType=n.createLineObjectModel=n.createListObjectModel=n.removeNestedListMultipleLine=n.removeNestedListSingleLine=n.nestedNumberedList=n.autolistNumbered=n.autolistAlpha=n.findCurrentNumberedListPreviousNumber=n.findCurrentAlphabetListLastLine=n.findCurrentNumberedListLastLine=n.findCurrentAlphabetListNextLine=n.findCurrentNumberedListNextLine=n.CountIndent=n.addIndent=n.getBulletedLine=n.getAlphabetLineWithRegex=n.getAlphabetLine=n.getNumberedLineWithRegex=n.getNumberedLine=n.getListLineNumber=n.isBulletedLine=n.insertEmptyList=n.checkEmptySelection=n.checkEmptyLine=n.createBulletedListFromText=n.updateNestedAlphabetList=n.getListTypeOfNumberedList=n.getTextOfNumberedList=n.getNumberTextOfNumberedList=n.updateNestedNumberedList=n.updateNumberedList=n.updateOrderedNumberedList=n.createNumberedListFromText=n.insertList=n.tabPattern=n.numberedListValue=n.startAlphabet=n.fixedAlphabetListWithIndentRegexTemplate=n.fixedNumberedListWithIndentRegexTemplate=n.fixedBulletedListRegex=n.alphabetListWithIndentRegexTemplate=n.numberedListWithIndentRegexTemplate=n.bulletedListRegex=n.alphabetListRegex=n.numberedListRegex=void 0;const i=r(1),o=r(114),a=r(0),c=r(296),u=r(297);function updateOrderedNumberedList(t,r,i,a,c,u){const l=[];for(let a=r;a<=i;a++){const r=t.document.lineAt(a).text;if(""===r.trim())break;const i=CountIndent(r),p=getListTypeOfNumberedList(r);if(i!==c||p!==o.ListType.Numbered&&p!==o.ListType.Alphabet)l.push(r),i===c&&(u===o.ListType.Numbered?0:n.startAlphabet.charCodeAt(0)-1);else{const t=" ".repeat(c)+(o.ListType.Numbered,"1. ")+getTextOfNumberedList(r,p);l.push(t)}}return l}function updateNumberedList(t,r,i,o,a,c){let u=r;const l=[],p=new RegExp(n.numberedListWithIndentRegexTemplate.replace("{0}",a.length.toString()));for(;u<=i;u++){let r=t.document.lineAt(u).text;if(""===r.trim())break;getNumberedLineWithRegex(p,r)>0||c&&t.selection.start.line===u?(r=r.substring(r.indexOf(".",0)+1,r.length).trim(),l.push(a+n.numberedListValue+". "+r)):l.push(r)}return l}function updateNestedNumberedList(t,r,i,a,c,u){const l=[];for(let p=r;p<=i;p++){const r=t.document.lineAt(p).text;if(""===r.trim())break;const i=getListTypeOfNumberedList(r);switch(u){case o.ListType.Numbered:i===o.ListType.Numbered||i===o.ListType.Alphabet?l.push(c+ ++a+". "+getTextOfNumberedList(r,i)):(l.push(r),CountIndent(r)===c.length&&(a=0));break;case o.ListType.Alphabet:i===o.ListType.Numbered||i===o.ListType.Alphabet?l.push(c+String.fromCharCode(++a)+". "+getTextOfNumberedList(r,i)):(l.push(r),CountIndent(r)===c.length&&(a=n.startAlphabet.charCodeAt(0)-1));break;case o.ListType.Bulleted:l.push(c+"- "+getTextOfNumberedList(r,i))}}return l}function getNumberTextOfNumberedList(t,n){switch(n){case o.ListType.Numbered:case o.ListType.Alphabet:t=t.substring(0,t.indexOf(".")).trim();break;case o.ListType.Bulleted:t=t.substring(0,t.indexOf("-")).trim()}return t}function getTextOfNumberedList(t,n){switch(n){case o.ListType.Numbered:case o.ListType.Alphabet:t=t.substring(t.indexOf(".")+2);break;case o.ListType.Bulleted:t=t.substring(t.indexOf("-")+2);break;case o.ListType.Other:t=t.substring(CountIndent(t))}return t}function getListTypeOfNumberedList(t){let r;return r=n.numberedListRegex.test(t)?o.ListType.Numbered:n.alphabetListRegex.test(t)?o.ListType.Alphabet:n.bulletedListRegex.test(t)?o.ListType.Bulleted:o.ListType.Other,r}function insertEmptyList(t,n){const r=t.selection.active;t.edit(t=>{t.insert(r.with(r.line,0),n)})}function getListLineNumber(t,n,r,i){if(n>-1&&n<t.document.lineCount){const a=null==i?t.document.lineAt(n).text:t.document.lineAt(n).text.substring(i);switch(r){case o.ListType.Numbered:return getNumberedLine(a);case o.ListType.Alphabet:return getAlphabetLine(a);case o.ListType.Bulleted:return getBulletedLine(a)}}return-1}function getNumberedLine(t){const r=n.numberedListRegex.exec(t);if(null!=r){return+r[0].split(".")[0]}return-1}function getNumberedLineWithRegex(t,n){const r=t.exec(n);if(null!=r){return+r[0].split(".")[0]}return-1}function getAlphabetLine(t){const r=n.alphabetListRegex.exec(t);if(null!=r){const t=r[0].split(".")[0].trim();return t.charCodeAt(0)<"z".charCodeAt(0)?t.charCodeAt(0):-1}return-1}function getAlphabetLineWithRegex(t,n){const r=t.exec(n);if(null!=r){const t=r[0].split(".")[0].trim();return t.charCodeAt(0)<"z".charCodeAt(0)?t.charCodeAt(0):-1}return-1}function getBulletedLine(t){return null!=n.bulletedListRegex.exec(t)?"-".charCodeAt(0):-1}function CountIndent(t){for(let n=0;n<t.length;n++)if(" "!==t[n])return n;return 0}function removeNestedListMultipleLine(t){const n=t.selection.start,r=t.selection.end,o=[],c=t.document.lineAt(n.line).text.substring(0,n.character),u=t.document.lineAt(r.line).text.substring(r.character);(c.trim().length>0||u.trim().length>0)&&o.push(u);const l=r.line,p=new i.Range(n.line,n.character,l,t.document.lineAt(l).text.length);a.insertContentToEditor(t,o.join("\n"),!0,p),a.setCursorPosition(t,n.line,n.character)}function createListObjectModel(t){const r=t.selection.start,i=t.selection.end;let a=r.line;const c=new u.ListObjectModel;let l=!0;for(;--a>=0;){const r=t.document.lineAt(a).text,i=CountIndent(r),u=getListTypeOfNumberedList(r);if(""===r.trim())break;if(0===i){u===o.ListType.Numbered&&(c.previousOuter=createLineObjectModel(t,a));break}l&&i===n.tabPattern.length&&(u!==o.ListType.Numbered&&u!==o.ListType.Alphabet||(c.previousNested=createLineObjectModel(t,a)),l=!1)}let p=i.line;for(l=!0;++p<t.document.lineCount;){const n=t.document.lineAt(p).text,r=CountIndent(n);if(""===n.trim()){c.nextOuter=createLineObjectModel(t,p-1),l&&null==c.nextNested&&CountIndent(t.document.lineAt(p-1).text)>0&&(c.nextNested=createLineObjectModel(t,p-1));break}p===t.document.lineCount-1?(c.nextOuter=createLineObjectModel(t,p),l&&null==c.nextNested&&r>0&&(c.nextNested=createLineObjectModel(t,p))):l&&0===r&&(CountIndent(t.document.lineAt(p-1).text)>0&&(c.nextNested=createLineObjectModel(t,p-1)),l=!1)}return c}function createLineObjectModel(t,n){if(n<0||n>=t.document.lineCount)return null;const r=t.document.lineAt(n).text,i=" ".repeat(CountIndent(r)),a=getListTypeOfNumberedList(r),u=a===o.ListType.Numbered?+getNumberTextOfNumberedList(r,a):getNumberTextOfNumberedList(r,a).charCodeAt(0),l=getTextOfNumberedList(r,a);return new c.LineObjectModel(n,i,a,u,l)}function createNumberedListCaseType(t,r){const i=t.selection.start.line,a=t.selection.end.line;let c=!0,u=!0;for(let l=i;l<=a;l++){const i=t.document.lineAt(l).text;if(""===i.trim())continue;const p=CountIndent(i),d=getListTypeOfNumberedList(i);switch(r){case o.ListType.Bulleted:(p>0||d!==o.ListType.Bulleted)&&(u=!1,(0===p&&d!==o.ListType.Bulleted||p!==n.tabPattern.length||d!==o.ListType.Bulleted)&&(c=!1,l=a+1));break;case o.ListType.Numbered:(p>0||d!==o.ListType.Numbered)&&(u=!1,(0===p&&d!==o.ListType.Numbered||p!==n.tabPattern.length||d!==o.ListType.Numbered&&d!==o.ListType.Alphabet)&&(c=!1,l=a+1))}}let p=l.IndentType;return u?p=l.TextType:c&&(p=l.UnIndentNestedType),p}var l;n.numberedListRegex=/^( )*[0-9]+\.( )/,n.alphabetListRegex=/^( )*[a-z]{1}\.( )/,n.bulletedListRegex=/^( )*\-( )/,n.numberedListWithIndentRegexTemplate="^( ){{0}}[0-9]+\\.( )",n.alphabetListWithIndentRegexTemplate="^( ){{0}}[a-z]{1}\\.( )",n.fixedBulletedListRegex=/^( )*\-( )$/,n.fixedNumberedListWithIndentRegexTemplate="^( ){{0}}[0-9]+\\.( )$",n.fixedAlphabetListWithIndentRegexTemplate="^( ){{0}}[a-z]{1}\\.( )$",n.startAlphabet="a",n.numberedListValue="1",n.tabPattern="    ",n.insertList=function insertList(t,r){const c=t.selection.active,u=t.document.lineAt(c.line).text,l=createListObjectModel(t);let p=null!=l.previousOuter&&r===o.ListType.Numbered?l.previousOuter.listNumber:0,d=n.startAlphabet.charCodeAt(0)-1;const h=null!=l.nextNested?l.nextNested.line:c.line,m=CountIndent(u);let g=[];if(m>0&&4!==m)g.push(r===o.ListType.Numbered?" ".repeat(m)+"1. ":" ".repeat(m)+"- "),insertEmptyList(t,g.join("\n")),a.setCursorPosition(t,c.line,g[0].length);else{if(0===m){const t=r===o.ListType.Numbered?++p+". ":"- ";g.push(t)}else{const t=r===o.ListType.Numbered?n.tabPattern+String.fromCharCode(++d)+". ":n.tabPattern+"- ";g.push(t)}const u=updateOrderedNumberedList(t,c.line+1,h,d,n.tabPattern.length,o.ListType.Alphabet),l=updateOrderedNumberedList(t,h+1,t.document.lineCount-1,p,0,o.ListType.Numbered);g=g.concat(u).concat(l);const y=c.line+u.length+l.length,v=new i.Range(c.line,0,y,t.document.lineAt(y).text.length);a.insertContentToEditor(t,g.join("\n"),!0,v),a.setCursorPosition(t,c.line,g[0].length)}},n.createNumberedListFromText=function createNumberedListFromText(t){const r=createListObjectModel(t),c=t.selection.start,u=t.selection.end;let p=null!=r.previousNested?r.previousNested.listNumber:n.startAlphabet.charCodeAt(0)-1,d=null!=r.previousNested?r.previousNested.listType:o.ListType.Alphabet;const h=[],m=createNumberedListCaseType(t,o.ListType.Numbered);for(let r=c.line;r<=u.line;r++){let i=t.document.lineAt(r).text;const a=CountIndent(i),c=getListTypeOfNumberedList(i);if(0!==i.trim().length)switch(i=getTextOfNumberedList(i,c),m){case l.TextType:h.push(i);break;case l.UnIndentNestedType:h.push(n.numberedListValue+". "+i);break;case l.IndentType:0===a?(h.push(n.numberedListValue+". "+i),p=n.startAlphabet.charCodeAt(0)-1,d=o.ListType.Alphabet):d===o.ListType.Numbered?h.push(n.tabPattern+ ++p+". "+i):d===o.ListType.Alphabet?h.push(n.tabPattern+String.fromCharCode(++p)+". "+i):h.push(n.tabPattern+i)}else h.push(i),p=n.startAlphabet.charCodeAt(0)-1,d=o.ListType.Alphabet}(m===l.TextType||m===l.UnIndentNestedType)&&(p=n.startAlphabet.charCodeAt(0)-1,d=o.ListType.Alphabet);const g=new i.Selection(new i.Position(c.line,0),new i.Position(u.line,h[h.length-1].length)),y=u.line,v=new i.Range(new i.Position(c.line,0),new i.Position(y,t.document.lineAt(y).text.length));a.insertContentToEditor(t,h.join("\n"),!0,v),t.selection=g},n.updateOrderedNumberedList=updateOrderedNumberedList,n.updateNumberedList=updateNumberedList,n.updateNestedNumberedList=updateNestedNumberedList,n.getNumberTextOfNumberedList=getNumberTextOfNumberedList,n.getTextOfNumberedList=getTextOfNumberedList,n.getListTypeOfNumberedList=getListTypeOfNumberedList,n.updateNestedAlphabetList=function updateNestedAlphabetList(t,r,i,o,a){let c=r;const u=[],l=new RegExp(n.alphabetListWithIndentRegexTemplate.replace("{0}",a.length.toString()));for(;c<=i;c++){let n=t.document.lineAt(c).text;if(""===n.trim())break;getAlphabetLineWithRegex(l,n)>0||t.selection.start.line===c?(n=n.substring(n.indexOf(".",0)+1,n.length).trim(),u.push(a+String.fromCharCode(++o)+". "+n)):u.push(n)}return u},n.createBulletedListFromText=function createBulletedListFromText(t){const r=t.selection.start,c=t.selection.end,u=[],p=createNumberedListCaseType(t,o.ListType.Bulleted);for(let i=r.line;i<=c.line;i++){let r=t.document.lineAt(i).text;if(""===r.trim()){u.push(r);continue}const o=CountIndent(r);switch(r=getTextOfNumberedList(r,getListTypeOfNumberedList(r)),p){case l.TextType:u.push(r);break;case l.UnIndentNestedType:u.push("- "+r);break;case l.IndentType:0===o?u.push("- "+r):u.push(n.tabPattern+"- "+r)}}const d=new i.Selection(new i.Position(r.line,0),new i.Position(c.line,u[u.length-1].length)),h=c.line,m=new i.Range(new i.Position(r.line,0),new i.Position(h,t.document.lineAt(h).text.length));a.insertContentToEditor(t,u.join("\n"),!0,m),t.selection=d},n.checkEmptyLine=function checkEmptyLine(t){const n=t.selection.active,r=t.document.lineAt(n);return t.selection.isEmpty&&""===r.text.trim()},n.checkEmptySelection=function checkEmptySelection(t){for(let n=t.selection.start.line;n<=t.selection.end.line;n++)if(!t.document.lineAt(n).isEmptyOrWhitespace)return!1;return!0},n.insertEmptyList=insertEmptyList,n.isBulletedLine=function isBulletedLine(t){return""!==t.trim()&&("-"===t.trim()||"- "===t.substring(0,2))},n.getListLineNumber=getListLineNumber,n.getNumberedLine=getNumberedLine,n.getNumberedLineWithRegex=getNumberedLineWithRegex,n.getAlphabetLine=getAlphabetLine,n.getAlphabetLineWithRegex=getAlphabetLineWithRegex,n.getBulletedLine=getBulletedLine,n.addIndent=function addIndent(t){const n=t.trim();return t.substring(0,t.indexOf(n))},n.CountIndent=CountIndent,n.findCurrentNumberedListNextLine=function findCurrentNumberedListNextLine(t,r){if(r>=t.document.lineCount)return 0;const i=CountIndent(t.document.lineAt(r).text),o=new RegExp(n.numberedListWithIndentRegexTemplate.replace("{0}",i.toString()));for(;++r<t.document.lineCount&&""!==t.document.lineAt(r).text.trim();){if(getNumberedLineWithRegex(o,t.document.lineAt(r).text)>0)return r}return 0},n.findCurrentAlphabetListNextLine=function findCurrentAlphabetListNextLine(t,r){if(r>=t.document.lineCount)return 0;const i=CountIndent(t.document.lineAt(r).text),o=new RegExp(n.alphabetListWithIndentRegexTemplate.replace("{0}",i.toString()));for(;++r<t.document.lineCount&&""!==t.document.lineAt(r).text.trim();){if(getAlphabetLineWithRegex(o,t.document.lineAt(r).text)>0)return r}return 0},n.findCurrentNumberedListLastLine=function findCurrentNumberedListLastLine(t,r,i){let o=-1;if(r>=t.document.lineCount)return o;let a=CountIndent(t.document.lineAt(r).text);for(null!=i&&(a-=i);++r<t.document.lineCount&&""!==t.document.lineAt(r).text.trim();){getNumberedLineWithRegex(new RegExp(n.numberedListWithIndentRegexTemplate.replace("{0}",a.toString())),t.document.lineAt(r).text)>0&&(o=r)}return o},n.findCurrentAlphabetListLastLine=function findCurrentAlphabetListLastLine(t,r){if(r>=t.document.lineCount)return t.document.lineCount-1;const i=CountIndent(t.document.lineAt(r).text);for(;r<t.document.lineCount&&""!==t.document.lineAt(r).text.trim();){if(!(getAlphabetLineWithRegex(new RegExp(n.alphabetListWithIndentRegexTemplate.replace("{0}",i.toString())),t.document.lineAt(r).text)>0||t.selection.start.line===r))break;r++}return r-1},n.findCurrentNumberedListPreviousNumber=function findCurrentNumberedListPreviousNumber(t,r,i){let o=0;if(r>=t.document.lineCount)return o;let a=CountIndent(t.document.lineAt(r).text);null!=i&&(a-=i);const c=new RegExp(n.numberedListWithIndentRegexTemplate.replace("{0}",a.toString()));for(;--r>=0&&""!==t.document.lineAt(r).text.trim();)if(o=getNumberedLineWithRegex(c,t.document.lineAt(r).text),o=-1!==o?o:0,o>0)return o;return o},n.autolistAlpha=function autolistAlpha(t,r,c){const u=r.line,l=t.document.lineAt(u).text.substring(r.character,t.document.lineAt(u).text.length),p=CountIndent(t.document.lineAt(u).text),d=" ".repeat(p);let h=[];h.push("\n"+d+n.numberedListValue+". "+l);const m=createListObjectModel(t),g=null!=m.nextNested&&p>0?m.nextNested.line:u,y=(null!=m.previousOuter&&m.previousOuter.listNumber,updateOrderedNumberedList(t,u+1,g,0,p,o.ListType.Alphabet)),v=updateOrderedNumberedList(t,g+1,t.document.lineCount-1,0,0,o.ListType.Numbered);h=h.concat(y).concat(v);const x=u+y.length+v.length,C=new i.Range(u,r.character,x,t.document.lineAt(x).text.length),b=h.join("\n");a.insertContentToEditor(t,b,!0,C),a.setCursorPosition(t,u+1,String.fromCharCode(c).toString().length+p+2)},n.autolistNumbered=function autolistNumbered(t,r,c){const u=r.line,l=t.document.lineAt(r.line).text.substring(r.character,t.document.lineAt(r.line).text.length),p=CountIndent(t.document.lineAt(r.line).text),d=" ".repeat(p);let h=[];h.push("\n"+d+n.numberedListValue+". "+l);const m=createListObjectModel(t),g=null!=m.nextNested&&p>0?m.nextNested.line:u;let y=0;0===p?y=c:null!=m.previousOuter&&(y=m.previousOuter.listNumber);const v=updateOrderedNumberedList(t,u+1,g,0,p,o.ListType.Numbered),x=updateOrderedNumberedList(t,g+1,t.document.lineCount-1,0,0,o.ListType.Numbered);h=h.concat(v).concat(x);const C=u+v.length+x.length,b=new i.Range(r.line,r.character,C,t.document.lineAt(C).text.length);a.insertContentToEditor(t,h.join("\n"),!0,b),a.setCursorPosition(t,r.line+1,c.toString().length+p+2)},n.nestedNumberedList=function nestedNumberedList(t,r,c){const u=r.line-1,l=r.line+1,p=getListLineNumber(t,u,o.ListType.Numbered,r.character),d=getListLineNumber(t,u,o.ListType.Alphabet,r.character),h=getListLineNumber(t,l,o.ListType.Numbered,r.character),m=getListLineNumber(t,l,o.ListType.Alphabet,r.character),g=CountIndent(n.tabPattern+t.document.lineAt(r.line).text);let y=(n.tabPattern+n.tabPattern.repeat(c)+n.startAlphabet+". ").length;if(p>0||d<=0&&h>0){const u=createListObjectModel(t),l=(null!=u.previousOuter&&u.previousOuter.listNumber,p>0?p:0),d=null!=u.nextNested?u.nextNested.line:r.line,h=null!=u.nextOuter?u.nextOuter.line:d,m=updateNestedNumberedList(t,r.line,d,l,n.tabPattern.repeat(g/4),o.ListType.Numbered),v=updateOrderedNumberedList(t,d+1,h,0,c,o.ListType.Numbered),x=m.concat(v).length>0?m.concat(v).join("\n"):"",C=new i.Range(r.line,0,h,t.document.lineAt(h).text.length);a.insertContentToEditor(t,x,!0,C),y=m.length>0?m[0].indexOf(". ")+2:y}else if(d>0||m>0){const u=createListObjectModel(t),l=(null!=u.previousOuter&&u.previousOuter.listNumber,d>0?d:n.startAlphabet.charCodeAt(0)-1),p=null!=u.nextNested?u.nextNested.line:r.line,h=null!=u.nextOuter?u.nextOuter.line:p,m=updateNestedNumberedList(t,r.line,p,l,n.tabPattern.repeat(g/4),o.ListType.Alphabet),y=updateOrderedNumberedList(t,p+1,h,0,c,o.ListType.Numbered),v=m.concat(y).length>0?m.concat(y).join("\n"):"",x=new i.Range(r.line,0,h,t.document.lineAt(h).text.length);a.insertContentToEditor(t,v,!0,x)}else{const u=t.document.lineAt(r.line).text,l=CountIndent(u),p=createListObjectModel(t);let d=null!=p.previousOuter?p.previousOuter.listNumber:0,h=o.ListType.Numbered,m=null!=p.previousNested?p.previousNested.listNumber:n.startAlphabet.charCodeAt(0)-1,v=null!=p.previousNested?p.previousNested.listType:o.ListType.Alphabet,x=null!=p.nextNested?p.nextNested.line:r.line,C=null!=p.nextOuter?p.nextOuter.line:x,b=[];const w=getListTypeOfNumberedList(u);switch(w){case o.ListType.Numbered:case o.ListType.Alphabet:let t=n.numberedListValue;0===l&&(t=n.numberedListValue);let r=" ".repeat(g)+t+". "+getTextOfNumberedList(u,w);b.push(r);break;case o.ListType.Bulleted:case o.ListType.Other:r=" ".repeat(g)+getNumberTextOfNumberedList(u,w)+getTextOfNumberedList(u,w),0===l&&(m=n.startAlphabet.charCodeAt(0)-1,v=o.ListType.Alphabet)}l>0&&(C=x,d=m,h=v,x=r.line,m=n.startAlphabet.charCodeAt(0)-1,v=o.ListType.Alphabet);const k=updateNestedNumberedList(t,r.line+1,x,m,n.tabPattern.repeat(g/4),v),S=updateOrderedNumberedList(t,x+1,C,0,c,h);b=b.concat(k.concat(S)),y=r.character+b[0].length-u.length;const A=new i.Range(r.line,0,C,t.document.lineAt(C).text.length);a.insertContentToEditor(t,b.join("\n"),!0,A)}a.setCursorPosition(t,r.line,y>0?y:0)},n.removeNestedListSingleLine=function removeNestedListSingleLine(t){const r=t.selection.active,c=t.selection.start,u=t.selection.end,l=t.document.getText(new i.Range(r.with(r.line,0),r.with(r.line,u.character))),p=CountIndent(t.document.lineAt(r.line).text),d=new RegExp(n.fixedNumberedListWithIndentRegexTemplate.replace("{0}",p.toString())),h=new RegExp(n.fixedAlphabetListWithIndentRegexTemplate.replace("{0}",p.toString()));if(null!=n.fixedBulletedListRegex.exec(l))p>=4?t.edit(t=>{t.delete(new i.Range(r.with(r.line,0),r.with(r.line,4)))}):p<4&&t.edit(t=>{t.delete(new i.Range(r.with(r.line,0),r.with(r.line,u.character)))});else if(getNumberedLineWithRegex(d,l)>0){if(p>=4){const c=createListObjectModel(t);null!=c.previousOuter&&c.previousOuter.listNumber;let u=n.startAlphabet.charCodeAt(0)-1,l=o.ListType.Alphabet;if(r.line<t.document.lineCount-1){const i=t.document.lineAt(r.line+1).text,a=getListTypeOfNumberedList(i);CountIndent(i)===n.tabPattern.length&&a===o.ListType.Numbered&&(l=o.ListType.Numbered,u=0)}const d=null!=c.nextNested?c.nextNested.line:r.line,h=null!=c.nextOuter?c.nextOuter.line:d,m=updateNumberedList(t,r.line,r.line,0,n.tabPattern.repeat(p/4-1),!0),g=updateNestedNumberedList(t,r.line+1,d,u,n.tabPattern.repeat(p/4),l),y=updateOrderedNumberedList(t,d+1,h,0,p-n.tabPattern.length,o.ListType.Numbered),v=m.concat(g).concat(y).length>0?m.concat(g).concat(y).join("\n"):"";t.edit(n=>{n.replace(new i.Range(r.line,0,h,t.document.lineAt(h).text.length),v)});const x=m.length>0?m[0].indexOf(". ")+2:r.character-p;a.setCursorPosition(t,r.line,x)}else if(p<4){let n=t.document.lineAt(r.line).text;n=n.substring(n.indexOf(".",0)+1,n.length).trim();let c=[n];const u=updateOrderedNumberedList(t,r.line+1,t.document.lineCount-1,0,0,o.ListType.Numbered);c=c.concat(u);const l=r.line+u.length,p=new i.Range(r.line,0,l,t.document.lineAt(l).text.length);a.insertContentToEditor(t,c.join("\n"),!0,p),a.setSelectorPosition(t,r.line,0,r.line,0)}}else if(getAlphabetLineWithRegex(h,l)>0)if(p>=4){const c=createListObjectModel(t);let u=t.document.lineAt(r.line).text;u=u.substring(u.indexOf(".",0)+1,u.length).trim();null!=c.previousOuter&&c.previousOuter.listNumber;const l=null!=c.nextNested?c.nextNested.line:r.line,d=null!=c.nextOuter?c.nextOuter.line:l,h=updateNumberedList(t,r.line,r.line,0,n.tabPattern.repeat(p/4-1),!0),m=updateNestedNumberedList(t,r.line+1,l,n.startAlphabet.charCodeAt(0)-1,n.tabPattern.repeat(p/4),o.ListType.Alphabet),g=updateOrderedNumberedList(t,l+1,d,0,p-4,o.ListType.Numbered),y=h.concat(m).concat(g).length>0?h.concat(m).concat(g).join("\n"):"";t.edit(n=>{n.replace(new i.Range(r.line,0,d,t.document.lineAt(d).text.length),y)});const v=h.length>0?h[0].indexOf(". ")+2:r.character-p;a.setCursorPosition(t,r.line,v)}else p<4&&t.edit(t=>{t.delete(new i.Range(r.with(r.line,0),r.with(r.line,u.character)))});else if(Math.abs(u.character-c.character)>0)removeNestedListMultipleLine(t);else if(0!==c.character)t.edit(t=>{t.delete(new i.Range(r.with(r.line,c.character-1),r.with(r.line,c.character)))});else if(0===c.character&&0!==c.line){const n=t.document.lineAt(c.line-1).text;t.edit(t=>{t.replace(new i.Range(c.line-1,0,u.line,0),n)})}},n.removeNestedListMultipleLine=removeNestedListMultipleLine,n.createListObjectModel=createListObjectModel,n.createLineObjectModel=createLineObjectModel,n.createNumberedListCaseType=createNumberedListCaseType,function(t){t[t.IndentType=0]="IndentType",t[t.UnIndentNestedType=1]="UnIndentNestedType",t[t.TextType=2]="TextType"}(l=n.CaseType||(n.CaseType={}))},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LineObjectModel=void 0;n.LineObjectModel=class LineObjectModel{constructor(t,n,r,i,o){this.line=t,this.indent=n,this.listType=r,this.listNumber=i,this.listText=o}}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ListObjectModel=void 0;n.ListObjectModel=class ListObjectModel{constructor(){this.previousOuter=null,this.previousNested=null,this.nextOuter=null,this.nextNested=null}}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.markdownQuickPick=n.quickPickMenuCommand=void 0;const i=r(1),o=r(0),a=r(15),c=r(63),u=r(84),l=r(85),p=r(98),d=r(99),h=r(100),m=r(101),g=r(102),y=r(113),v=r(38),x=r(116),C=r(117),b=r(118),w=r(119),k=r(120),S=r(121),A=r(303),_=r(59),D=r(122),T=r(123),I=r(124);function markdownQuickPick(t){const n=[],r=[];let P=[];const L=i.window.activeTextEditor;o.checkExtension("docsmsft.docs-preview")&&(n.push({description:"",label:"$(browser) Preview"}),n.push({description:"",label:"$(search) Search Results Preview"})),o.checkExtensionInstalled("docsmsft.docs-build")&&(n.push({description:"",label:"$(check) Validate repository"}),r.push({description:"",label:"$(check) Validate repository"})),n.push({description:"",label:"$(pencil) Bold"},{description:"",label:"$(info) Italic"},{description:"",label:"$(code) Code"},{description:"",label:"$(book) Jupyter Notebook"},{description:"",label:"$(alert) Alert"},{description:"",label:"$(list-ordered) Numbered list"},{description:"",label:"$(list-unordered) Bulleted list"},{description:"",label:"$(diff-added) Table"},{description:"",label:"$(ellipsis) Columns"},{description:"",label:"$(link) Link"},{description:"",label:"$(lock) Non-localizable text"},{description:"",label:"$(file-media) Image"},{description:"",label:"$(clippy) Include"},{description:"",label:"$(file-code) Snippet"},{description:"",label:"$(device-camera-video) Video"},{description:"",label:"$(tasklist) Cleanup..."},{description:"",label:"$(project) Moniker"});if(!0===i.workspace.getConfiguration("markdown").get("previewFeatures")&&a.output.appendLine("Preview features will be enabled."),o.checkExtension("docsmsft.docs-article-templates")&&n.push({description:"",label:"$(diff) Template"}),r.push({description:"",label:"$(note) TOC entry"},{description:"",label:"$(note) TOC entry with optional attributes"},{description:"",label:"$(note) Parent node"},{description:"",label:"$(link) Insert link"},{description:"",label:"$(lock) Non-localizable text"}),L){switch(L.document.languageId){case"markdown":P=n;break;case"yaml":P=r}}i.window.showQuickPick(P,{placeHolder:"Which command would you like to run?"}).then(n=>{if(!n)return;if(!i.window.activeTextEditor)return void i.window.showInformationMessage("Open a file first to manipulate text selections");switch(n.label.toLowerCase().split(")")[1].trim()){case"bold":u.formatBold();break;case"italic":m.formatItalic();break;case"code":p.formatCode();break;case"jupyter notebook":T.insertNotebook();break;case"alert":c.insertAlert();break;case"numbered list":y.insertNumberedList();break;case"bulleted list":y.insertBulletedList();break;case"table":S.insertTable();break;case"link":g.pickLinkType();break;case"non-localizable text":C.noLocText();break;case"image":d.pickImageType(t);break;case"include":h.insertInclude();break;case"snippet":k.insertSnippet();break;case"video":v.insertVideo();break;case"preview":b.previewTopic();break;case"validate repository":I.validateRepository();break;case"search results preview":b.seoPreview();break;case"template":A.applyTemplate();break;case"cleanup...":l.applyCleanup();break;case"link to xref":_.applyXref();break;case"toc entry":D.insertTocEntry();break;case"toc entry with optional attributes":D.insertTocEntryWithOptions();break;case"parent node":D.insertExpandableParentNode();break;case"insert link":v.insertLink();break;case"columns":w.insertRowsAndColumns();break;case"moniker":x.insertMoniker();break;default:const{msTimeValue:n}=o.generateTimestamp();a.output.appendLine(n+" - No quickpick case was hit.")}})}n.quickPickMenuCommand=[{command:markdownQuickPick.name,callback:markdownQuickPick}],n.markdownQuickPick=markdownQuickPick},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.checkForValidRow=n.insertColumn=n.insertIndentedColumn=n.validatePosition=n.addNewColumnWithSpan=n.addNewColumn=n.createRow=n.buildRow=n.checkColumnRange=void 0;const i=r(1),o=r(0),a="    ".repeat(2),c="A column can't be inserted outside of a row.",u=/^:{3}row:{3}/gm,l=/^:{3}row-end:{3}/gm,p=/^\s+:{3}(column|column\sspan=".*"):{3}/gm,d=/^\s+:{3}column-end:{3}/gm,h=`\n    :::column:::\n${a}\n    :::column-end:::`,m=`    :::column:::\n${a}\n    :::column-end:::`,g=`    :::column span="":::\n${a}\n    :::column-end:::`;function buildRow(t){return`:::row:::${h.repeat(t)}\n:::row-end:::\n`}function createRow(t){const n=i.window.activeTextEditor;if(n){const r=n.selection.active.line,a=n.document.lineCount;let c,p,d;try{for(c=r;c<a;c--){const t=n.document.lineAt(c),r=t.text;if(r.match(u)){p=t.lineNumber;break}r.match(l)&&(d=t.lineNumber)}}catch(t){}if(p&&!d&&(o.showWarningMessage("Column structures can’t be inserted within rows or columns."),o.showStatusMessage("Column structures can’t be inserted within rows or columns.")),p&&d&&p<r&&d<r){const a=buildRow(t);o.insertContentToEditor(n,a);const c=new i.Position(r+2,8),u=new i.Selection(c,c);n.selection=u}if(!p){const a=buildRow(t);o.insertContentToEditor(n,a);const c=new i.Position(r+2,8),u=new i.Selection(c,c);n.selection=u}}}function validatePosition(t){const n=i.window.activeTextEditor;if(n){const r=n.selection.active.line,i=n.document.lineCount;let a,c,l,h;try{for(a=r;a<i;a--){const t=n.document.lineAt(a),r=t.text;if(r.match(p)){c=t.lineNumber;break}r.match(d)&&(l=t.lineNumber),r.match(u)&&(h=t.lineNumber)}}catch(t){o.showWarningMessage(t),o.showStatusMessage(t)}c&&!l&&(o.showWarningMessage("A column can’t be inserted within another column."),o.showStatusMessage("A column can’t be inserted within another column.")),h&&(c||l||(t?insertColumn(!0):insertColumn())),c&&l&&c<r&&l<r&&(t?insertColumn(!0):insertColumn())}}function insertIndentedColumn(t,n){const r=i.window.activeTextEditor;if(r){const o=r.selection.active.line;r.edit(r=>{r.insert(new i.Position(o,n),t)})}}function insertColumn(t){const n=i.window.activeTextEditor;if(n){const r=n.selection.active.character;let a,c;t&&0===r&&(o.insertContentToEditor(n,g),a=new i.Position(n.selection.active.line,20),c=new i.Selection(a,a),n.selection=c),t||0!==r||(o.insertContentToEditor(n,m),a=new i.Position(n.selection.active.line,7),c=new i.Selection(a,a),n.selection=c),t||r%4!=0||(insertIndentedColumn(m,0),a=new i.Position(n.selection.active.line+1,20),c=new i.Selection(a,a),n.selection=c),t&&r%4==0&&(insertIndentedColumn(g,0),a=new i.Position(n.selection.active.line,20),c=new i.Selection(a,a),n.selection=c)}}function checkForValidRow(t){const n=i.window.activeTextEditor;let r=0,a=0,p=0;if(n){const i=n.selection.active.line,d=n.selection.active.character,h=n.document.lineCount;let m;try{for(m=i;m<h;m--){const t=n.document.lineAt(m);if(t.text.match(u)){r=t.lineNumber;break}}for(m=i;m<h;m++){const t=n.document.lineAt(m),r=t.text;if(r.match(l)){a=t.lineNumber;break}r.match(u)&&(p=t.lineNumber)}}catch(t){o.showStatusMessage(t)}r&&a?(p&&p>d&&(o.showWarningMessage(c),o.showStatusMessage(c)),p||(t?validatePosition(!0):validatePosition())):(o.showWarningMessage(c),o.showStatusMessage(c))}}n.checkColumnRange=function checkColumnRange(t){t>=1&&t<=4?createRow(t):o.showWarningMessage("The number of columns must be between 1 and 4.")},n.buildRow=buildRow,n.createRow=createRow,n.addNewColumn=function addNewColumn(){i.window.activeTextEditor&&checkForValidRow()},n.addNewColumnWithSpan=function addNewColumnWithSpan(){i.window.activeTextEditor&&checkForValidRow(!0)},n.validatePosition=validatePosition,n.insertIndentedColumn=insertIndentedColumn,n.insertColumn=insertColumn,n.checkForValidRow=checkForValidRow},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.searchRepo=void 0;const o=r(1),a=r(0),c=r(17),u=r(301);n.searchRepo=function searchRepo(){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;let n="";if(!t)return void a.noActiveEditorMessage();o.workspace.workspaceFolders&&(n=o.workspace.workspaceFolders[0].uri.fsPath);const r=t.selection,i=[];i.push({label:"Full Search",description:"Look in all directories for snippet"}),i.push({label:"Scoped Search",description:"Look in specific directories for snippet"}),i.push({label:"Cross-Repository Reference",description:"Reference GitHub repository"});const l=yield o.window.showQuickPick(i);if(!l)return;switch(l.label){case"Full Search":yield c.search(t,r,n);break;case"Scoped Search":let i=[];i=u.getSubDirectories(n,[".git",".github",".vscode",".vs","node_module","media","breadcrumb","includes"],i);const a=[];i.forEach(t=>{a.push({label:t,description:"sub directory"})});const l=yield o.window.showQuickPick(a);l&&c.search(t,r,l.label);break;default:if(o.workspace&&o.workspace.workspaceFolders){const n=o.workspace.workspaceFolders[0].uri.fsPath,i=yield u.getOpenPublishingFile(n);if(i){const n=[];i.map(t=>{n.push({label:t.path_to_root,description:t.url})}),o.window.showQuickPick(n).then(n=>{n&&c.search(t,r,"","",n.label)})}}}}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getSubDirectories=n.getOpenPublishingFile=void 0;const o=r(2),a=r(20),c=r(3).promises,u=r(11).promisify(c.readFile);n.getOpenPublishingFile=function getOpenPublishingFile(t){return i(this,void 0,void 0,(function*(){const n=o.resolve(t,".openpublishing.publish.config.json"),r=yield u(n,"utf8");return JSON.parse(r).dependent_repositories}))},n.getSubDirectories=function getSubDirectories(t,n,r){const i=a.readdirSync(t);for(const c of i){if(a.statSync(o.join(t,c)).isDirectory()){const i=o.join(t,c);n.some(t=>i.includes(t))||(r.push(i),r=getSubDirectories(o.join(t,c),n,r))}}return r}},function(t,n,r){"use strict";var i,o,a=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.MarkdownTable=n.FormatOptions=void 0,function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"}(i||(i={})),function(t){t[t.Distribute=0]="Distribute",t[t.Consolidate=1]="Consolidate"}(o=n.FormatOptions||(n.FormatOptions={}));class MarkdownTable{constructor(t,n){this.selection=t,this.lines=n,this.emojiRegex=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g}static parse(t,n){if(!t||t.isSingleLine||!n)return null;return new MarkdownTable(t,(r=>{const i=t.start.line,o=t.end.line,a=[];for(let t=i;t<=o;++t)a.push(n.lineAt(t).text);return a})())}reformat(t,n=o.Distribute){return a(this,void 0,void 0,(function*(){let r=!1;const a=new Map,c=new Map;this.lines.forEach((t,n,i)=>{const o=this.parseTableRow(t);switch(n){case 0:const t=o[0];r=""!==t&&0===this.measureColumnSpan(t),o.forEach((t,n)=>a.set(n,this.measureColumnSpan(t)));break;case 1:o.forEach((t,n)=>c.set(n,this.parseColumnAlignment(t)));break;default:o.forEach((t,n)=>{const r=a.has(n)?a.get(n):-1,i=this.measureColumnSpan(t);-1!==r&&i>(r||0)&&a.set(n,i)})}});const u=n===o.Distribute,l=[];this.lines.forEach((t,n,o)=>{const p=1===n,d=this.parseTableRow(t),isLastIteration=(t,n)=>t===n.length-1;let h="";for(let t=0;t<d.length;++t){const n=d[t].trim();if(0===t&&r){h+=d[t];continue}let o=u&&a.get(t)||0;const l=isLastIteration(t,d);if(p){switch(c.get(t)||i.None){case i.Center:h+=`|:${"-".padEnd(o,"-")}:`;break;case i.Left:h+="|:"+"-".padEnd(o+1,"-");break;case i.Right:h+=`|${"-".padEnd(o+1,"-")}:`;break;case i.None:h+="|"+"-".padEnd(o+2,"-")}}else o-=this.countEmoji(n),h+=`| ${n.padEnd(u?o:0)} `;l&&(h+="|")}l.push(h)}),yield t.edit(t=>{t.replace(this.selection,l.join("\n"))})}))}measureColumnSpan(t){const n=t.trim();return Array.from(n.split(/[\ufe00-\ufe0f]/).join("")).length}parseColumnAlignment(t){const n=t.trim();if(n.length>0){const t=n.startsWith(":"),r=n.endsWith(":");if(t&&r)return i.Center;if(t)return i.Left;if(r)return i.Right}return i.None}parseTableRow(t){let n=t.split("|");return""===n[0]&&(n=n.slice(1)),""===n[n.length-1]&&n.pop(),n}countEmoji(t){if(t){const n=this.emojiRegex.exec(t);return n?n.length:0}return 0}}n.MarkdownTable=MarkdownTable},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.applyTemplate=n.applyTemplateCommand=void 0;const i=r(1),o=r(0),a=r(4);function applyTemplate(){a.sendTelemetryData("applyTemplate","");const{msTimeValue:t}=o.generateTimestamp(),n=`[${t}] - The ${"docsmsft.docs-article-templates".split(".").reverse()[0]} extension is not installed.`;o.checkExtension("docsmsft.docs-article-templates",n)&&i.commands.executeCommand("applyTemplate")}n.applyTemplateCommand=function applyTemplateCommand(){return[{command:applyTemplate.name,callback:applyTemplate}]},n.applyTemplate=applyTemplate},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.createParentNode=void 0;const o=r(0),a=r(40),c=r(1);n.createParentNode=function createParentNode(){return i(this,void 0,void 0,(function*(){const t=c.window.activeTextEditor;if(!t)return;const n=t.selection.active,r=n.character,i=/^\s+(-\sname:)/;let u=!1;if(n.line>0){const n=t.selection.active.line;let r;const o=t.document.lineCount;let a=n;for(a=n;a<o&&(r=t.selection.active.character,0!==a);a--){const n=t.document.lineAt(a);if(n.text.match(i)){if(n.firstNonWhitespaceCharacterIndex===r){u=!0;break}u=!1}else;}}if(0===r){const n="- name:\n  items:\n  - name:\n    href:";yield o.insertContentToEditor(t,n)}if(u&&r>0){const n=`- name:\n    ${" ".repeat(r-2)}items:\n    ${" ".repeat(r-2)}- name:\n    ${" ".repeat(r)}href:`;yield o.insertContentToEditor(t,n)}u||0===r||c.window.showErrorMessage(a.invalidTocEntryPosition)}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.checkForPreviousEntry=void 0;const o=r(40),a=r(1),c=r(306);n.checkForPreviousEntry=function checkForPreviousEntry(t){return i(this,void 0,void 0,(function*(){const n=a.window.activeTextEditor;if(!n)return;const r=n.selection.active,i=r.character,u=r.line,l=n.document.lineCount,p=n.selection.active.character;let d=!1,h=!1,m=!1;const g=/^\s+items:/,y=/^-\sname:/,v=/^\s+(-\sname:)/,x=/^\s+href:/,C=/^\s+displayName:/;if(h=!!n.document.lineAt(0).text.match(/^items:/),1===u&&h&&(2===i?yield c.launchTOCQuickPick(t):a.window.showErrorMessage(o.invalidTocEntryPosition)),u>0)for(let t=u;t<l&&0!==t;t--){const r=n.document.lineAt(t);if(r.text.match(g)&&2===r.firstNonWhitespaceCharacterIndex&&p>2){d=!1;break}if(t===u&&t+1!==l){if(n.document.lineAt(t+1).firstNonWhitespaceCharacterIndex>p){d=!1;break}}const i=n.document.lineAt(t);if(i.text.match(g)){if(p===i.firstNonWhitespaceCharacterIndex){d=!0;break}d=!1}else;}if(u>0){const t=n.selection.active.line;let r=t;for(r=t;r<l&&0!==r;r--){if(0===p){if(n.document.lineAt(r+1).firstNonWhitespaceCharacterIndex===p){m=!0;break}}const t=n.document.lineAt(r);if(t.text.match(v)&&0===t.firstNonWhitespaceCharacterIndex){m=!1;break}if(r===u&&r+1!==l){if(n.document.lineAt(r+1).firstNonWhitespaceCharacterIndex>p){m=!1;break}}const i=n.document.lineAt(r);if(i.text.match(v)){if(i.firstNonWhitespaceCharacterIndex===p){m=!0;break}m=!1}else;}}if(u>0){const t=n.selection.active.line,r=n.document.lineCount;let i=t;for(i=t;i<r&&0!==i;i--){if(0===p){if(n.document.lineAt(i+1).firstNonWhitespaceCharacterIndex===p){m=!0;break}}const t=n.document.lineAt(i);if(t.text.match(v)&&0===t.firstNonWhitespaceCharacterIndex){m=!1;break}if(i===u&&i+1!==r){if(n.document.lineAt(i+1).firstNonWhitespaceCharacterIndex>p){m=!1;break}}const o=n.document.lineAt(i);if(o.text.match(y)){if(o.firstNonWhitespaceCharacterIndex===p){m=!0;break}m=!1}else;}}u-1>0&&(n.document.lineAt(u-1).text.match(x)||n.document.lineAt(u-1).text.match(C))&&n.document.lineAt(u-1).firstNonWhitespaceCharacterIndex===p&&(m=!1,d=!1),u>1&&(d||m?yield c.launchTOCQuickPick(t):a.window.showErrorMessage(o.invalidTocEntryPosition)),0===u&&(0===i?yield c.launchTOCQuickPick(t):a.window.showErrorMessage(o.invalidTocEntryPosition))}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.launchTOCQuickPick=n.showTOCQuickPick=void 0;const o=r(307),a=r(3),c=r(13),u=r(2),l=r(1),p=r(0),d=r(40);function showTOCQuickPick(t){return i(this,void 0,void 0,(function*(){const n=[".md"];let r="",i="";l.workspace.workspaceFolders&&(r=l.workspace.workspaceFolders[0].uri.fsPath);const h=yield c(r,p.ignoreFiles),m=[];h.sort(),h.filter(t=>-1!==n.indexOf(u.extname(t.toLowerCase()))).forEach(t=>{m.push({label:u.basename(t),description:u.dirname(t)})});const g=yield l.window.showQuickPick(m),y=l.window.activeTextEditor;if(!y)return void p.noActiveEditorMessage();if(!g)return;g.description&&(i=u.join(g.description,g.label));const v=a.readFileSync(i,"utf8").match(/^(# )(.*)/gm);if(!v)return void l.window.showErrorMessage(v[0]);let x=v.toString().replace("# ","");const C=y.document.fileName,b=u.relative(C,i).replace("..\\","").replace("../","").replace(/\\/g,"/"),w=yield l.window.showInputBox({value:x,valueSelection:[0,0]});w||l.window.showInformationMessage(d.noHeadingSelected),w&&(x=w),yield o.createEntry(x,b,t)}))}n.showTOCQuickPick=showTOCQuickPick,n.launchTOCQuickPick=function launchTOCQuickPick(t){return i(this,void 0,void 0,(function*(){t?yield showTOCQuickPick(!0):yield showTOCQuickPick(!1)}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.createEntry=void 0;const o=r(0),a=r(4),c=r(1),u=r(40);n.createEntry=function createEntry(t,n,r){return i(this,void 0,void 0,(function*(){const i=c.window.activeTextEditor;if(!i)return;const l=i.selection.active.character;if(0===l&&!r){const r=`- name: ${t}\n  href: ${n}`;yield o.insertContentToEditor(i,r)}if(l>0&&!r){const r=i.selection.active.character,a=`- name: ${t}\n  ${" ".repeat(r)}href: ${n}`;yield o.insertContentToEditor(i,a)}if(0===l&&r){const r=`- name: ${t}\n  displayName: #optional string for searching TOC\n  href: ${n}\n  uid: #optional string\n  expanded: #true or false, false is default`;yield o.insertContentToEditor(i,r)}if(l>0&&r){const r=i.selection.active.character,a=`- name: ${t}\n  ${" ".repeat(r)}displayName: #optional string for searching TOC\n  ${" ".repeat(r)}href: ${n}\n  ${" ".repeat(r)}uid: #optional string\n  ${" ".repeat(r)}expanded: #true or false, false is default`;yield o.insertContentToEditor(i,a)}o.showStatusMessage(u.insertedTocEntry),a.sendTelemetryData("updateTOC",void 0)}))}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getMasterRedirectionCommand=void 0;const i=r(309),o=r(54),a=r(310),c=r(311),u=r(312);n.getMasterRedirectionCommand=function getMasterRedirectionCommand(){return[{command:o.generateMasterRedirectionFile.name,callback:o.generateMasterRedirectionFile},{command:u.sortMasterRedirectionFile.name,callback:u.sortMasterRedirectionFile},{command:i.applyRedirectDaisyChainResolution.name,callback:i.applyRedirectDaisyChainResolution},{command:c.detectInvalidDocumentIdRedirects.name,callback:c.detectInvalidDocumentIdRedirects},{command:a.removeDefaultValuesInRedirects.name,callback:a.removeDefaultValuesInRedirects}]}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.applyRedirectDaisyChainResolution=void 0;const o=r(0),a=r(125),c=r(32),u=r(39);n.applyRedirectDaisyChainResolution=function applyRedirectDaisyChainResolution(){return i(this,void 0,void 0,(function*(){const{isEnvironmentReady:t,redirectsAndConfigOptions:n}=yield c.initiateRedirectCommand();if(!t||!n)return;const{config:r,editor:i,options:l,redirects:p}=n,d=new Map;p.redirections.forEach(t=>{d.set(t.source_path,{redirect:a.RedirectUrl.parse(l,t.redirect_url),redirection:t})});const findRedirect=t=>d.has(t)?d.get(t):null;let h=0,m=0;d.forEach((t,n)=>{const{redirect:r,redirection:i}=t;if(!r||!i)return;const o=r.filePath;let a=null,c=null,u=0,p=!1,d=findRedirect(o);for(;null!==d&&d.redirect&&d.redirection;)u++,u>m&&(m=u),p=d.redirect.isExternalUrl,c=p?d.redirect.url.toString():d.redirect.toRelativeUrl(),a=d.redirect.filePath,d=findRedirect(a);if(c&&c!==t.redirection.redirect_url){h++;const n=p?c:t.redirect.adaptHashAndQueryString(c);t.redirection.redirect_url=n,t.redirection.redirect_document_id&&(!p&&n.startsWith(`/${l.docsetName}/`)||(t.redirection.redirect_document_id=!1))}}),h>0?(yield c.updateRedirects(i,p,r),o.showStatusMessage(`Resolved ${u.numberFormat.format(h)} daisy chains, at a max-depth of ${m}!`)):o.showStatusMessage("There are no daisy chains found.")}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.removeDefaultValuesInRedirects=void 0;const o=r(0),a=r(32),c=r(39);n.removeDefaultValuesInRedirects=function removeDefaultValuesInRedirects(){return i(this,void 0,void 0,(function*(){const{isEnvironmentReady:t,redirectsAndConfigOptions:n}=yield a.initiateRedirectCommand();if(!t||!n)return;const{config:r,editor:i,options:u,redirects:l}=n;u.omitDefaultJsonProperties=!0;let p=0;l.redirections.forEach(t=>{!1===t.redirect_document_id&&p++}),p>0?(yield a.updateRedirects(i,l,r),o.showStatusMessage(`Removed ${c.numberFormat.format(p)} redirect_document_id values.`)):o.showStatusMessage("All redirect_document_id values are either true or omitted.")}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.detectInvalidDocumentIdRedirects=void 0;const o=r(3),a=r(2),c=r(1),u=r(0),l=r(125),p=r(32),d=r(39);n.detectInvalidDocumentIdRedirects=function detectInvalidDocumentIdRedirects(){return i(this,void 0,void 0,(function*(){const{isEnvironmentReady:t,redirectsAndConfigOptions:n}=yield p.initiateRedirectCommand();if(!t||!n)return;const{config:r,editor:h,folder:m,options:g,redirects:y}=n,v=new Map;y.redirections.forEach(t=>{t.redirect_document_id&&v.set(t.source_path,{redirect:l.RedirectUrl.parse(g,t.redirect_url),redirection:t})});let x=0;try{x=yield c.window.withProgress({cancellable:!0,location:c.ProgressLocation.Notification,title:"Detecting invalid redirects"},(t,n)=>i(this,void 0,void 0,(function*(){n.onCancellationRequested(()=>{u.postError("User canceled the long running operation")});const r="Detecting invalid redirects, this may take a while.";u.showStatusMessage(r),t.report({message:r});const c=v.size;let l=0,p=0;return v.forEach((n,r)=>i(this,void 0,void 0,(function*(){l++,t.report({message:`Validating ${l} of ${c}.`,increment:l});const{redirect:r,redirection:i}=n;if(r&&i&&i.redirect_document_id){if(r.isExternalUrl)return i.redirect_document_id=!1,void p++;if(!i.redirect_url.startsWith(`/${g.docsetName}/`))return i.redirect_document_id=!1,void p++;if(![r.filePath,r.filePath.replace(".md","/index.md"),r.filePath.replace(".md","/index.yml")].some(t=>(t=>{try{const n=a.resolve(m.uri.fsPath,t);return o.existsSync(n)}catch(t){return!1}})(t)))return i.redirect_document_id=!1,void p++}}))),p})))}catch(t){u.showStatusMessage("Something went wrong: "+t.toString())}x>0?(yield p.updateRedirects(h,y,r),u.showStatusMessage(`Fixed ${d.numberFormat.format(x)} invalid redirect_document_id values.`)):u.showStatusMessage("All redirect_document_id values appear to be valid.")}))}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.sortMasterRedirectionFile=void 0;const o=r(0),a=r(32);n.sortMasterRedirectionFile=function sortMasterRedirectionFile(){return i(this,void 0,void 0,(function*(){const{isEnvironmentReady:t,redirectsAndConfigOptions:n}=yield a.initiateRedirectCommand();if(!t||!n)return;const{config:r,editor:i,redirects:c}=n;c.redirections.sort((t,n)=>o.naturalLanguageCompare(t.source_path,n.source_path)),yield a.updateRedirects(i,c,r)}))}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sortSelectionDescending=n.sortSelectionAscending=n.insertSortSelectionCommands=void 0;const i=r(1),o=r(0),a=r(4);function sortSelectionAscending(){return sortLines(!0)}function sortSelectionDescending(){return sortLines(!1)}function sortLines(t=!0){const n=i.window.activeTextEditor;if(!n)return void o.noActiveEditorMessage();const r=n.selection;if(r.isEmpty||r.isSingleLine)return;const c=r.start.line,u=r.end.line,l=[];for(let t=c;t<=u;++t)l.push(n.document.lineAt(t).text);return l.sort(o.naturalLanguageCompare),t||l.reverse(),a.sendTelemetryData("sortSelection",t?"sortAscending":"sortDescending"),n.edit(t=>{const r=new i.Range(c,0,u,n.document.lineAt(u).text.length);t.replace(r,l.join("\n"))})}n.insertSortSelectionCommands=function insertSortSelectionCommands(){return[{command:sortSelectionAscending.name,callback:sortSelectionAscending},{command:sortSelectionDescending.name,callback:sortSelectionDescending}]},n.sortSelectionAscending=sortSelectionAscending,n.sortSelectionDescending=sortSelectionDescending},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tripleColonCompletionItemsProvider=n.getTripleColonCompletionItems=void 0;const i=r(1),o=r(0),a=[{content:'code language="{language}" source="{source}" range="{range}":::',extension:"Code Snippet :::code:::"},{content:"column:::\n    {content}\n:::column-end:::",extension:"Column :::column:::"},{content:'image type="content" source="{source}" alt-text="{alt-text}":::',extension:"Image :::image:::"},{content:'moniker range="{range}"\n    {content}\n:::moniker-end',extension:"Moniker :::moniker:::"},{content:'no-loc text="{text}":::',extension:"No-Loc :::no-loc:::"},{content:"row:::\n    :::column:::\n        {content}\n    :::column-end:::\n    :::column:::\n        {content}\n    :::column-end:::\n:::row-end:::",extension:"Row :::row:::"},{content:'zone target="{target}" pivot="{pivot}"\n    {content}\n:::zone-end',extension:"Zone :::zone:::"}];function getTripleColonCompletionItems(t,n){if(t){const t=[];return a.forEach(n=>{const r=n.extension,o=new i.MarkdownString("Output:\r\n");o.appendMarkdown(":::"+n.content);const a=new i.CompletionItem(n.extension,i.CompletionItemKind.Value);a.detail=o.value,a.documentation=new i.MarkdownString(`Use the _${r}_ extension.`),a.insertText=new i.SnippetString(n.content),a.sortText=r,t.push(a)}),n?void 0:t}}n.getTripleColonCompletionItems=getTripleColonCompletionItems,n.tripleColonCompletionItemsProvider={provideCompletionItems(t,n,r,i){const a=t.getWordRangeAtPosition(n,/:::/);if(a){const n=t.getText();if(n){const i=/:::/gm,c=o.matchAll(i,n);if(c)for(let n=0;n<c.length;++n)if(n%2==0){const i=c[n];if(i){const n=i.index||-1,o=t.positionAt(n),c=o.line===a.start.line&&o.character>=a.start.character||o.line===a.end.line&&o.character<=a.end.character;if(n>=0&&c)return getTripleColonCompletionItems(a,r.isCancellationRequested)}}}}}}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UiHelper=void 0;const i=r(1),o=r(0),a=r(15);n.UiHelper=class UiHelper{LoadToolbar(){if(i.workspace.getConfiguration("markdown").showToolbar)try{this.uiMessage(),o.checkExtension("docsmsft.docs-article-templates")&&(this.uiTemplate(),this.uiCleanup()),this.uiBold(),this.uiItalic(),this.uiCode(),this.uiAlert(),this.uiNumberedList(),this.uiBulletedList(),this.uiNewTable(),this.uiLink(),this.uiImage(),this.uiInclude(),this.uiSnippet(),o.checkExtension("docsmsft.docs-preview")||this.uiPreview()}catch(t){a.output.appendLine("Failed to load UI: "+t)}}uiMessage(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="Docs Markdown",t.color="white",t.tooltip="Show quick pick (Alt + M / Option + M)",t.show(),t.command="markdownQuickPick"}uiLink(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(link)",t.color="white",t.tooltip="Insert Link",t.show(),t.command="selectLinkTypeToolbar"}uiImage(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(file-media)",t.color="white",t.tooltip="Insert Image",t.show(),t.command="pickImageType"}uiInclude(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(clippy)",t.color="white",t.tooltip="Insert Include",t.show(),t.command="insertInclude"}uiSnippet(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(file-code)",t.color="white",t.tooltip="Insert Snippet",t.show(),t.command="insertSnippet"}uiBold(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="B",t.color="white",t.tooltip="Bold",t.show(),t.command="formatBold"}uiItalic(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="i",t.color="white",t.tooltip="Italic",t.show(),t.command="formatItalic"}uiCode(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(code)",t.color="white",t.tooltip="Code",t.show(),t.command="formatCode"}uiAlert(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(alert)",t.color="white",t.tooltip="Alert",t.show(),t.command="insertAlert"}uiNewTable(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(diff-added)",t.color="white",t.tooltip="Insert Table",t.show(),t.command="insertTable"}uiNumberedList(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(list-ordered)",t.color="white",t.tooltip="Numbered List",t.show(),t.command="insertNumberedList"}uiBulletedList(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(list-unordered)",t.color="white",t.tooltip="Bulleted List",t.show(),t.command="insertBulletedList"}uiPreview(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(browser)",t.color="white",t.tooltip="Preview",t.show(),t.command="previewTopic"}uiTemplate(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(file-text)",t.color="white",t.tooltip="Template",t.show(),t.command="applyTemplate"}uiCleanup(){const t=i.window.createStatusBarItem(i.StatusBarAlignment.Left);t.text="$(tasklist)",t.color="white",t.tooltip="Cleanup...",t.show(),t.command="applyCleanup"}}},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.AllowList=void 0;const o=r(1),a=r(60),c=r(15),u=r(4);n.AllowList=class AllowList{constructor(t){this.config=o.workspace.getConfiguration("markdown"),this.allowlistUrl=this.config.get("allowlistUrl"),this.getAllowList=()=>i(this,void 0,void 0,(function*(){this.allowlist=this.context.globalState.get("allowlist"),this.allowlist||(yield this.refreshAllowList())})),this.refreshAllowList=()=>i(this,void 0,void 0,(function*(){try{const t=u.getPackageInfo(this.context).name,n=yield a.default.get(this.allowlistUrl,{headers:{"User-Agent":t}});yield this.buildAllowList(n)}catch(t){c.output.appendLine(t)}})),this.getMsServiceSubServiceList=t=>this.getRestrictedList(t,"ms.service"),this.getMsProdTechnologyList=t=>this.getRestrictedList(t,"ms.prod"),this.getProductList=t=>{const n=this.getProductQuickPick(t,"product");return n.push({label:"other"}),n.push({label:"third-party"}),n},this.getMsProdList=t=>this.getRootAllowListQuickPick(t,"ms.prod"),this.getServiceList=t=>this.getRootAllowListQuickPick(t,"ms.service"),this.getTechnologyList=t=>this.getAllowListQuickPick(t,"ms.prod"),this.getSubServiceList=t=>this.getAllowListQuickPick(t,"ms.service"),this.context=t}getRestrictedList(t,n){const r=[];return Object.keys(t).filter(t=>t.startsWith(n)).forEach(n=>{switch(n){case"ms.prod":case"ms.service":t[n].forEach(t=>r.push(t))}}),r}getProductQuickPick(t,n){const r=new Set,i=[];return Object.keys(t).filter(t=>t.startsWith(n)).forEach(n=>{t[n].forEach(t=>{r.add(t.slug)})}),Array.from(r).sort().forEach(t=>{t&&i.push({label:t})}),i}getAllowListQuickPick(t,n){const r=new Set,i=[];return Object.keys(t).filter(t=>t.startsWith(n)).forEach(n=>{switch(n){case"ms.prod":t[n].forEach(t=>r.add(t.msProduct));break;case"ms.service":t[n].forEach(t=>r.add(t.msService))}}),Array.from(r).sort().forEach(t=>{t&&i.push({label:t})}),i}getRootAllowListQuickPick(t,n){const r=new Set,i=[];return Object.keys(t).filter(t=>t.startsWith(n)).forEach(n=>{switch(n){case"ms.prod":t[n].forEach(t=>r.add(t.msProduct));break;case"ms.service":t[n].forEach(t=>r.add(t.msService))}}),Array.from(r).sort().forEach(t=>{t&&i.push({label:t})}),i}buildAllowList(t){return i(this,void 0,void 0,(function*(){yield this.context.globalState.update("allowlist",t.data);const n=this.getServiceList(t.data);yield this.context.globalState.update("ms.service",n);const r=this.getProductList(t.data);yield this.context.globalState.update("product",r);const i=this.getMsProdList(t.data);yield this.context.globalState.update("ms.prod",i);const o=this.getTechnologyList(t.data);yield this.context.globalState.update("ms.technology",o);const a=this.getSubServiceList(t.data);yield this.context.globalState.update("ms.subservice",a);const c=this.getMsProdTechnologyList(t.data);yield this.context.globalState.update("prodTechnology",c);const u=this.getMsServiceSubServiceList(t.data);yield this.context.globalState.update("serviceSubService",u)}))}}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getMsSubServiceMetadataCompletionItems=n.msSubServiceCompletionItemsProvider=n.msTechnologyCompletionItemsProvider=n.getMsTechnologyMetadataCompletionItems=n.msServiceCompletionItemsProvider=n.getMsServiceMetadataCompletionItems=n.msProdCompletionItemsProvider=n.getMsProdMetadataCompletionItems=void 0;const i=r(1),o=r(0);function getMsProdMetadataCompletionItems(t,n,r){if(t){const t=setCompletionItems(r.globalState.get("ms.prod"));return n?void 0:t}}function setMetadataCompletionItems(t,n,r,i,a,c){const u=r.getWordRangeAtPosition(i,n);if(u){const i=r.getText();if(i){const l=o.matchAll(n,i);if(l)for(let n=0;n<l.length;++n)if(n%2==0){const o=l[n];if(o){const n=o.index||-1,l=r.positionAt(n),p=l.line===u.start.line&&l.character>=u.start.character||l.line===u.end.line&&l.character<=u.end.character;if(n>=0&&p)return t(u,a.isCancellationRequested,c,i)}}}}}function getMsServiceMetadataCompletionItems(t,n,r){if(t){const t=setCompletionItems(r.globalState.get("ms.service"));return n?void 0:t}}function getMsTechnologyMetadataCompletionItems(t,n,r,i){let o=[];if(t){const t=/^ms.prod\s*:\s*(.*?)$/im.exec(i);if(t&&t.length>1){const n=t[1];r.globalState.get("prodTechnology").filter(t=>t.msProduct===n).forEach(t=>{o.push({label:t.msTechnology})})}else o=r.globalState.get("ms.technology");const a=setCompletionItems(o);return n?void 0:a}}function getMsSubServiceMetadataCompletionItems(t,n,r,i){let o=[];if(t){const t=/^ms.service\s*:\s*(.*?)$/im.exec(i);if(t&&t.length>1){const n=t[1];r.globalState.get("serviceSubService").filter(t=>t.msService===n).forEach(t=>{o.push({label:t.msSubService})})}else o=r.globalState.get("ms.subservice");const a=setCompletionItems(o);return n?void 0:a}}function setCompletionItems(t){const n=[];return t.forEach(t=>{const r=" "+t.label,o=new i.MarkdownString("Output:");o.appendMarkdown(r);const a=new i.CompletionItem(r,i.CompletionItemKind.Value);a.detail=" "+o.value,a.documentation=new i.MarkdownString(`Select _${r}_ value.`),a.insertText=new i.SnippetString(r),a.sortText=r,n.push(a)}),n}n.getMsProdMetadataCompletionItems=getMsProdMetadataCompletionItems,n.msProdCompletionItemsProvider=t=>({provideCompletionItems:(n,r,i,o)=>setMetadataCompletionItems(getMsProdMetadataCompletionItems,/^ms.prod\s*:/gm,n,r,i,t)}),n.getMsServiceMetadataCompletionItems=getMsServiceMetadataCompletionItems,n.msServiceCompletionItemsProvider=t=>({provideCompletionItems:(n,r,i,o)=>setMetadataCompletionItems(getMsServiceMetadataCompletionItems,/^ms.service\s*:/gm,n,r,i,t)}),n.getMsTechnologyMetadataCompletionItems=getMsTechnologyMetadataCompletionItems,n.msTechnologyCompletionItemsProvider=t=>({provideCompletionItems:(n,r,i,o)=>setMetadataCompletionItems(getMsTechnologyMetadataCompletionItems,/^ms.technology\s*:/gm,n,r,i,t)}),n.msSubServiceCompletionItemsProvider=t=>({provideCompletionItems:(n,r,i,o)=>setMetadataCompletionItems(getMsSubServiceMetadataCompletionItems,/^ms.subservice\s*:/gm,n,r,i,t)}),n.getMsSubServiceMetadataCompletionItems=getMsSubServiceMetadataCompletionItems},function(t,n,r){"use strict";var i=this&&this.__awaiter||function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function fulfilled(t){try{step(i.next(t))}catch(t){a(t)}}function rejected(t){try{step(i.throw(t))}catch(t){a(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof r?t:new r((function(n){n(t)}))}(t.value).then(fulfilled,rejected)}step((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.nag=void 0;const o=r(115),a=r(1),c=r(0),u=r(17),l=[];n.nag=function nag(){return i(this,void 0,void 0,(function*(){if(!a.workspace.getConfiguration("markdown").get("metadataNag"))return;const t=a.window.activeTextEditor;if(!t)return void c.noActiveEditorMessage();if(!c.isMarkdownFileCheck(t,!1))return;const n=t.document.fileName;if(l.indexOf(n)>-1==!0)return;l.push(n);const r=t.document.getText();if(r){const n=/ms.date:\s*\b(.+?)$/im;if(u.findReplacement(t.document,r,"ms.date: "+c.toShortDate(new Date),n)){void 0!==(yield a.window.showInformationMessage("Would you like to update ms.date to today's date?","Update"))&&(yield o.updateMetadataDate())}}}))}}]);
//# sourceMappingURL=extension.js.map